!function(t){"object"==typeof module&&module.exports?module.exports=t(require("jquery")):"function"==typeof define&&define.amd?define(["jquery"],function(e){t(e)}):t(jQuery)}(function(t,e){"use strict";for(var i=[["Afghanistan (‫افغانستان‬‎)","af","93"],["Albania (Shqipëri)","al","355"],["Algeria (‫الجزائر‬‎)","dz","213"],["American Samoa","as","1",5,["684"]],["Andorra","ad","376"],["Angola","ao","244"],["Anguilla","ai","1",6,["264"]],["Antigua and Barbuda","ag","1",7,["268"]],["Argentina","ar","54"],["Armenia (Հայաստան)","am","374"],["Aruba","aw","297"],["Australia","au","61",0],["Austria (Österreich)","at","43"],["Azerbaijan (Azərbaycan)","az","994"],["Bahamas","bs","1",8,["242"]],["Bahrain (‫البحرين‬‎)","bh","973"],["Bangladesh (বাংলাদেশ)","bd","880"],["Barbados","bb","1",9,["246"]],["Belarus (Беларусь)","by","375"],["Belgium (België)","be","32"],["Belize","bz","501"],["Benin (Bénin)","bj","229"],["Bermuda","bm","1",10,["441"]],["Bhutan (འབྲུག)","bt","975"],["Bolivia","bo","591"],["Bosnia and Herzegovina (Босна и Херцеговина)","ba","387"],["Botswana","bw","267"],["Brazil (Brasil)","br","55"],["British Indian Ocean Territory","io","246"],["British Virgin Islands","vg","1",11,["284"]],["Brunei","bn","673"],["Bulgaria (България)","bg","359"],["Burkina Faso","bf","226"],["Burundi (Uburundi)","bi","257"],["Cambodia (កម្ពុជា)","kh","855"],["Cameroon (Cameroun)","cm","237"],["Canada","ca","1",1,["204","226","236","249","250","289","306","343","365","387","403","416","418","431","437","438","450","506","514","519","548","579","581","587","604","613","639","647","672","705","709","742","778","780","782","807","819","825","867","873","902","905"]],["Cape Verde (Kabu Verdi)","cv","238"],["Caribbean Netherlands","bq","599",1,["3","4","7"]],["Cayman Islands","ky","1",12,["345"]],["Central African Republic (République centrafricaine)","cf","236"],["Chad (Tchad)","td","235"],["Chile","cl","56"],["China (中国)","cn","86"],["Christmas Island","cx","61",2,["89164"]],["Cocos (Keeling) Islands","cc","61",1,["89162"]],["Colombia","co","57"],["Comoros (‫جزر القمر‬‎)","km","269"],["Congo (DRC) (Jamhuri ya Kidemokrasia ya Kongo)","cd","243"],["Congo (Republic) (Congo-Brazzaville)","cg","242"],["Cook Islands","ck","682"],["Costa Rica","cr","506"],["Côte d’Ivoire","ci","225"],["Croatia (Hrvatska)","hr","385"],["Cuba","cu","53"],["Curaçao","cw","599",0],["Cyprus (Κύπρος)","cy","357"],["Czech Republic (Česká republika)","cz","420"],["Denmark (Danmark)","dk","45"],["Djibouti","dj","253"],["Dominica","dm","1",13,["767"]],["Dominican Republic (República Dominicana)","do","1",2,["809","829","849"]],["Ecuador","ec","593"],["Egypt (‫مصر‬‎)","eg","20"],["El Salvador","sv","503"],["Equatorial Guinea (Guinea Ecuatorial)","gq","240"],["Eritrea","er","291"],["Estonia (Eesti)","ee","372"],["Ethiopia","et","251"],["Falkland Islands (Islas Malvinas)","fk","500"],["Faroe Islands (Føroyar)","fo","298"],["Fiji","fj","679"],["Finland (Suomi)","fi","358",0],["France","fr","33"],["French Guiana (Guyane française)","gf","594"],["French Polynesia (Polynésie française)","pf","689"],["Gabon","ga","241"],["Gambia","gm","220"],["Georgia (საქართველო)","ge","995"],["Germany (Deutschland)","de","49"],["Ghana (Gaana)","gh","233"],["Gibraltar","gi","350"],["Greece (Ελλάδα)","gr","30"],["Greenland (Kalaallit Nunaat)","gl","299"],["Grenada","gd","1",14,["473"]],["Guadeloupe","gp","590",0],["Guam","gu","1",15,["671"]],["Guatemala","gt","502"],["Guernsey","gg","44",1,["1481","7781","7839","7911"]],["Guinea (Guinée)","gn","224"],["Guinea-Bissau (Guiné Bissau)","gw","245"],["Guyana","gy","592"],["Haiti","ht","509"],["Honduras","hn","504"],["Hong Kong (香港)","hk","852"],["Hungary (Magyarország)","hu","36"],["Iceland (Ísland)","is","354"],["India (भारत)","in","91"],["Indonesia","id","62"],["Iran (‫ایران‬‎)","ir","98"],["Iraq (‫العراق‬‎)","iq","964"],["Ireland","ie","353"],["Isle of Man","im","44",2,["1624","74576","7524","7924","7624"]],["Israel (‫ישראל‬‎)","il","972"],["Italy (Italia)","it","39",0],["Jamaica","jm","1",4,["876","658"]],["Japan (日本)","jp","81"],["Jersey","je","44",3,["1534","7509","7700","7797","7829","7937"]],["Jordan (‫الأردن‬‎)","jo","962"],["Kazakhstan (Казахстан)","kz","7",1,["33","7"]],["Kenya","ke","254"],["Kiribati","ki","686"],["Kosovo","xk","383"],["Kuwait (‫الكويت‬‎)","kw","965"],["Kyrgyzstan (Кыргызстан)","kg","996"],["Laos (ລາວ)","la","856"],["Latvia (Latvija)","lv","371"],["Lebanon (‫لبنان‬‎)","lb","961"],["Lesotho","ls","266"],["Liberia","lr","231"],["Libya (‫ليبيا‬‎)","ly","218"],["Liechtenstein","li","423"],["Lithuania (Lietuva)","lt","370"],["Luxembourg","lu","352"],["Macau (澳門)","mo","853"],["Macedonia (FYROM) (Македонија)","mk","389"],["Madagascar (Madagasikara)","mg","261"],["Malawi","mw","265"],["Malaysia","my","60"],["Maldives","mv","960"],["Mali","ml","223"],["Malta","mt","356"],["Marshall Islands","mh","692"],["Martinique","mq","596"],["Mauritania (‫موريتانيا‬‎)","mr","222"],["Mauritius (Moris)","mu","230"],["Mayotte","yt","262",1,["269","639"]],["Mexico (México)","mx","52"],["Micronesia","fm","691"],["Moldova (Republica Moldova)","md","373"],["Monaco","mc","377"],["Mongolia (Монгол)","mn","976"],["Montenegro (Crna Gora)","me","382"],["Montserrat","ms","1",16,["664"]],["Morocco (‫المغرب‬‎)","ma","212",0],["Mozambique (Moçambique)","mz","258"],["Myanmar (Burma) (မြန်မာ)","mm","95"],["Namibia (Namibië)","na","264"],["Nauru","nr","674"],["Nepal (नेपाल)","np","977"],["Netherlands (Nederland)","nl","31"],["New Caledonia (Nouvelle-Calédonie)","nc","687"],["New Zealand","nz","64"],["Nicaragua","ni","505"],["Niger (Nijar)","ne","227"],["Nigeria","ng","234"],["Niue","nu","683"],["Norfolk Island","nf","672"],["North Korea (조선 민주주의 인민 공화국)","kp","850"],["Northern Mariana Islands","mp","1",17,["670"]],["Norway (Norge)","no","47",0],["Oman (‫عُمان‬‎)","om","968"],["Pakistan (‫پاکستان‬‎)","pk","92"],["Palau","pw","680"],["Palestine (‫فلسطين‬‎)","ps","970"],["Panama (Panamá)","pa","507"],["Papua New Guinea","pg","675"],["Paraguay","py","595"],["Peru (Perú)","pe","51"],["Philippines","ph","63"],["Poland (Polska)","pl","48"],["Portugal","pt","351"],["Puerto Rico","pr","1",3,["787","939"]],["Qatar (‫قطر‬‎)","qa","974"],["Réunion (La Réunion)","re","262",0],["Romania (România)","ro","40"],["Russia (Россия)","ru","7",0],["Rwanda","rw","250"],["Saint Barthélemy","bl","590",1],["Saint Helena","sh","290"],["Saint Kitts and Nevis","kn","1",18,["869"]],["Saint Lucia","lc","1",19,["758"]],["Saint Martin (Saint-Martin (partie française))","mf","590",2],["Saint Pierre and Miquelon (Saint-Pierre-et-Miquelon)","pm","508"],["Saint Vincent and the Grenadines","vc","1",20,["784"]],["Samoa","ws","685"],["San Marino","sm","378"],["São Tomé and Príncipe (São Tomé e Príncipe)","st","239"],["Saudi Arabia (‫المملكة العربية السعودية‬‎)","sa","966"],["Senegal (Sénégal)","sn","221"],["Serbia (Србија)","rs","381"],["Seychelles","sc","248"],["Sierra Leone","sl","232"],["Singapore","sg","65"],["Sint Maarten","sx","1",21,["721"]],["Slovakia (Slovensko)","sk","421"],["Slovenia (Slovenija)","si","386"],["Solomon Islands","sb","677"],["Somalia (Soomaaliya)","so","252"],["South Africa","za","27"],["South Korea (대한민국)","kr","82"],["South Sudan (‫جنوب السودان‬‎)","ss","211"],["Spain (España)","es","34"],["Sri Lanka (ශ්‍රී ලංකාව)","lk","94"],["Sudan (‫السودان‬‎)","sd","249"],["Suriname","sr","597"],["Svalbard and Jan Mayen","sj","47",1,["79"]],["Swaziland","sz","268"],["Sweden (Sverige)","se","46"],["Switzerland (Schweiz)","ch","41"],["Syria (‫سوريا‬‎)","sy","963"],["Taiwan (台灣)","tw","886"],["Tajikistan","tj","992"],["Tanzania","tz","255"],["Thailand (ไทย)","th","66"],["Timor-Leste","tl","670"],["Togo","tg","228"],["Tokelau","tk","690"],["Tonga","to","676"],["Trinidad and Tobago","tt","1",22,["868"]],["Tunisia (‫تونس‬‎)","tn","216"],["Turkey (Türkiye)","tr","90"],["Turkmenistan","tm","993"],["Turks and Caicos Islands","tc","1",23,["649"]],["Tuvalu","tv","688"],["U.S. Virgin Islands","vi","1",24,["340"]],["Uganda","ug","256"],["Ukraine (Україна)","ua","380"],["United Arab Emirates (‫الإمارات العربية المتحدة‬‎)","ae","971"],["United Kingdom","gb","44",0],["United States","us","1",0],["Uruguay","uy","598"],["Uzbekistan (Oʻzbekiston)","uz","998"],["Vanuatu","vu","678"],["Vatican City (Città del Vaticano)","va","39",1,["06698"]],["Venezuela","ve","58"],["Vietnam (Việt Nam)","vn","84"],["Wallis and Futuna (Wallis-et-Futuna)","wf","681"],["Western Sahara (‫الصحراء الغربية‬‎)","eh","212",1,["5288","5289"]],["Yemen (‫اليمن‬‎)","ye","967"],["Zambia","zm","260"],["Zimbabwe","zw","263"],["Åland Islands","ax","358",1,["18"]]],n=0;n<i.length;n++){var a=i[n];i[n]={name:a[0],iso2:a[1],dialCode:a[2],priority:a[3]||0,areaCodes:a[4]||null}}function o(t,e){for(var i=0;i<e.length;i++){var n=e[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}var s={getInstance:function(t){var e=t.getAttribute("data-intl-tel-input-id");return window.intlTelInputGlobals.instances[e]},instances:{}};"object"==typeof window&&(window.intlTelInputGlobals=s);var r=0,l={allowDropdown:!0,autoHideDialCode:!0,autoPlaceholder:"polite",customContainer:"",customPlaceholder:null,dropdownContainer:null,excludeCountries:[],formatOnDisplay:!0,geoIpLookup:null,hiddenInput:"",initialCountry:"",localizedCountries:null,nationalMode:!0,onlyCountries:[],placeholderNumberType:"MOBILE",preferredCountries:["us","gb"],separateDialCode:!1,utilsScript:""},u=["800","822","833","844","855","866","877","880","881","882","883","884","885","886","887","888","889"];"object"==typeof window&&window.addEventListener("load",function(){window.intlTelInputGlobals.windowLoaded=!0});var d=function(t,e){for(var i=Object.keys(t),n=0;n<i.length;n++)e(i[n],t[i[n]])},h=function(t){d(window.intlTelInputGlobals.instances,function(e){window.intlTelInputGlobals.instances[e][t]()})},c=function(){function t(e,i){var n=this;!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.id=r++,this.telInput=e,this.activeItem=null,this.highlightedItem=null;var a=i||{};this.options={},d(l,function(t,e){n.options[t]=a.hasOwnProperty(t)?a[t]:e}),this.hadInitialPlaceholder=Boolean(e.getAttribute("placeholder"))}var n,a,s;return n=t,(a=[{key:"_init",value:function(){var t=this;if(this.options.nationalMode&&(this.options.autoHideDialCode=!1),this.options.separateDialCode&&(this.options.autoHideDialCode=this.options.nationalMode=!1),this.isMobile=/Android.+Mobile|webOS|iPhone|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent),this.isMobile&&(document.body.classList.add("iti-mobile"),this.options.dropdownContainer||(this.options.dropdownContainer=document.body)),"undefined"!=typeof Promise){var e=new Promise(function(e,i){t.resolveAutoCountryPromise=e,t.rejectAutoCountryPromise=i}),i=new Promise(function(e,i){t.resolveUtilsScriptPromise=e,t.rejectUtilsScriptPromise=i});this.promise=Promise.all([e,i])}else this.resolveAutoCountryPromise=this.rejectAutoCountryPromise=function(){},this.resolveUtilsScriptPromise=this.rejectUtilsScriptPromise=function(){};this.selectedCountryData={},this._processCountryData(),this._generateMarkup(),this._setInitialState(),this._initListeners(),this._initRequests()}},{key:"_processCountryData",value:function(){this._processAllCountries(),this._processCountryCodes(),this._processPreferredCountries(),this.options.localizedCountries&&this._translateCountriesByLocale(),(this.options.onlyCountries.length||this.options.localizedCountries)&&this.countries.sort(this._countryNameSort)}},{key:"_addCountryCode",value:function(t,i,n){i.length>this.countryCodeMaxLen&&(this.countryCodeMaxLen=i.length),this.countryCodes.hasOwnProperty(i)||(this.countryCodes[i]=[]);for(var a=0;a<this.countryCodes[i].length;a++)if(this.countryCodes[i][a]===t)return;var o=n!==e?n:this.countryCodes[i].length;this.countryCodes[i][o]=t}},{key:"_processAllCountries",value:function(){if(this.options.onlyCountries.length){var t=this.options.onlyCountries.map(function(t){return t.toLowerCase()});this.countries=i.filter(function(e){return t.indexOf(e.iso2)>-1})}else if(this.options.excludeCountries.length){var e=this.options.excludeCountries.map(function(t){return t.toLowerCase()});this.countries=i.filter(function(t){return-1===e.indexOf(t.iso2)})}else this.countries=i}},{key:"_translateCountriesByLocale",value:function(){for(var t=0;t<this.countries.length;t++){var e=this.countries[t].iso2.toLowerCase();this.options.localizedCountries.hasOwnProperty(e)&&(this.countries[t].name=this.options.localizedCountries[e])}}},{key:"_countryNameSort",value:function(t,e){return t.name.localeCompare(e.name)}},{key:"_processCountryCodes",value:function(){this.countryCodeMaxLen=0,this.dialCodes={},this.countryCodes={};for(var t=0;t<this.countries.length;t++){var e=this.countries[t];this.dialCodes[e.dialCode]||(this.dialCodes[e.dialCode]=!0),this._addCountryCode(e.iso2,e.dialCode,e.priority)}for(var i=0;i<this.countries.length;i++){var n=this.countries[i];if(n.areaCodes)for(var a=this.countryCodes[n.dialCode][0],o=0;o<n.areaCodes.length;o++){for(var s=n.areaCodes[o],r=1;r<s.length;r++){var l=n.dialCode+s.substr(0,r);this._addCountryCode(a,l),this._addCountryCode(n.iso2,l)}this._addCountryCode(n.iso2,n.dialCode+s)}}}},{key:"_processPreferredCountries",value:function(){this.preferredCountries=[];for(var t=0;t<this.options.preferredCountries.length;t++){var e=this.options.preferredCountries[t].toLowerCase(),i=this._getCountryData(e,!1,!0);i&&this.preferredCountries.push(i)}}},{key:"_createEl",value:function(t,e,i){var n=document.createElement(t);return e&&d(e,function(t,e){return n.setAttribute(t,e)}),i&&i.appendChild(n),n}},{key:"_generateMarkup",value:function(){this.telInput.hasAttribute("autocomplete")||this.telInput.form&&this.telInput.form.hasAttribute("autocomplete")||this.telInput.setAttribute("autocomplete","off");var t="iti";this.options.allowDropdown&&(t+=" iti--allow-dropdown"),this.options.separateDialCode&&(t+=" iti--separate-dial-code"),this.options.customContainer&&(t+=" ",t+=this.options.customContainer);var e=this._createEl("div",{class:t});if(this.telInput.parentNode.insertBefore(e,this.telInput),this.flagsContainer=this._createEl("div",{class:"iti__flag-container"},e),e.appendChild(this.telInput),this.selectedFlag=this._createEl("div",{class:"iti__selected-flag",role:"combobox","aria-owns":"iti-".concat(this.id,"__country-listbox"),"aria-expanded":"false"},this.flagsContainer),this.selectedFlagInner=this._createEl("div",{class:"iti__flag"},this.selectedFlag),this.options.separateDialCode&&(this.selectedDialCode=this._createEl("div",{class:"iti__selected-dial-code"},this.selectedFlag)),this.options.allowDropdown&&(this.selectedFlag.setAttribute("tabindex","0"),this.dropdownArrow=this._createEl("div",{class:"iti__arrow"},this.selectedFlag),this.countryList=this._createEl("ul",{class:"iti__country-list iti__hide",id:"iti-".concat(this.id,"__country-listbox"),role:"listbox"}),this.preferredCountries.length&&(this._appendListItems(this.preferredCountries,"iti__preferred",!0),this._createEl("li",{class:"iti__divider",role:"separator","aria-disabled":"true"},this.countryList)),this._appendListItems(this.countries,"iti__standard"),this.options.dropdownContainer?(this.dropdown=this._createEl("div",{class:"iti iti--container"}),this.dropdown.appendChild(this.countryList)):this.flagsContainer.appendChild(this.countryList)),this.options.hiddenInput){var i=this.options.hiddenInput,n=this.telInput.getAttribute("name");if(n){var a=n.lastIndexOf("[");-1!==a&&(i="".concat(n.substr(0,a),"[").concat(i,"]"))}this.hiddenInput=this._createEl("input",{type:"hidden",name:i}),e.appendChild(this.hiddenInput)}}},{key:"_appendListItems",value:function(t,e,i){for(var n="",a=0;a<t.length;a++){var o=t[a],s=i?"-preferred":"";n+="<li class='iti__country ".concat(e,"' tabIndex='-1' id='iti-").concat(this.id,"__item-").concat(o.iso2).concat(s,"' role='option' data-dial-code='").concat(o.dialCode,"' data-country-code='").concat(o.iso2,"'>"),n+="<div class='iti__flag-box'><div class='iti__flag iti__".concat(o.iso2,"'></div></div>"),n+="<span class='iti__country-name'>".concat(o.name,"</span>"),n+="<span class='iti__dial-code'>+".concat(o.dialCode,"</span>"),n+="</li>"}this.countryList.insertAdjacentHTML("beforeend",n)}},{key:"_setInitialState",value:function(){var t=this.telInput.value,e=this._getDialCode(t),i=this._isRegionlessNanp(t),n=this.options,a=n.initialCountry,o=n.nationalMode,s=n.autoHideDialCode,r=n.separateDialCode;e&&!i?this._updateFlagFromNumber(t):"auto"!==a&&(a?this._setFlag(a.toLowerCase()):e&&i?this._setFlag("us"):(this.defaultCountry=this.preferredCountries.length?this.preferredCountries[0].iso2:this.countries[0].iso2,t||this._setFlag(this.defaultCountry)),t||o||s||r||(this.telInput.value="+".concat(this.selectedCountryData.dialCode))),t&&this._updateValFromNumber(t)}},{key:"_initListeners",value:function(){this._initKeyListeners(),this.options.autoHideDialCode&&this._initBlurListeners(),this.options.allowDropdown&&this._initDropdownListeners(),this.hiddenInput&&this._initHiddenInputListener()}},{key:"_initHiddenInputListener",value:function(){var t=this;this._handleHiddenInputSubmit=function(){t.hiddenInput.value=t.getNumber()},this.telInput.form&&this.telInput.form.addEventListener("submit",this._handleHiddenInputSubmit)}},{key:"_getClosestLabel",value:function(){for(var t=this.telInput;t&&"LABEL"!==t.tagName;)t=t.parentNode;return t}},{key:"_initDropdownListeners",value:function(){var t=this;this._handleLabelClick=function(e){t.countryList.classList.contains("iti__hide")?t.telInput.focus():e.preventDefault()};var e=this._getClosestLabel();e&&e.addEventListener("click",this._handleLabelClick),this._handleClickSelectedFlag=function(){!t.countryList.classList.contains("iti__hide")||t.telInput.disabled||t.telInput.readOnly||t._showDropdown()},this.selectedFlag.addEventListener("click",this._handleClickSelectedFlag),this._handleFlagsContainerKeydown=function(e){t.countryList.classList.contains("iti__hide")&&-1!==["ArrowUp","Up","ArrowDown","Down"," ","Enter"].indexOf(e.key)&&(e.preventDefault(),e.stopPropagation(),t._showDropdown()),"Tab"===e.key&&t._closeDropdown()},this.flagsContainer.addEventListener("keydown",this._handleFlagsContainerKeydown)}},{key:"_initRequests",value:function(){var t=this;this.options.utilsScript&&!window.intlTelInputUtils?window.intlTelInputGlobals.windowLoaded?window.intlTelInputGlobals.loadUtils(this.options.utilsScript):window.addEventListener("load",function(){window.intlTelInputGlobals.loadUtils(t.options.utilsScript)}):this.resolveUtilsScriptPromise(),"auto"===this.options.initialCountry?this._loadAutoCountry():this.resolveAutoCountryPromise()}},{key:"_loadAutoCountry",value:function(){window.intlTelInputGlobals.autoCountry?this.handleAutoCountry():window.intlTelInputGlobals.startedLoadingAutoCountry||(window.intlTelInputGlobals.startedLoadingAutoCountry=!0,"function"==typeof this.options.geoIpLookup&&this.options.geoIpLookup(function(t){window.intlTelInputGlobals.autoCountry=t.toLowerCase(),setTimeout(function(){return h("handleAutoCountry")})},function(){return h("rejectAutoCountryPromise")}))}},{key:"_initKeyListeners",value:function(){var t=this;this._handleKeyupEvent=function(){t._updateFlagFromNumber(t.telInput.value)&&t._triggerCountryChange()},this.telInput.addEventListener("keyup",this._handleKeyupEvent),this._handleClipboardEvent=function(){setTimeout(t._handleKeyupEvent)},this.telInput.addEventListener("cut",this._handleClipboardEvent),this.telInput.addEventListener("paste",this._handleClipboardEvent)}},{key:"_cap",value:function(t){var e=this.telInput.getAttribute("maxlength");return e&&t.length>e?t.substr(0,e):t}},{key:"_initBlurListeners",value:function(){var t=this;this._handleSubmitOrBlurEvent=function(){t._removeEmptyDialCode()},this.telInput.form&&this.telInput.form.addEventListener("submit",this._handleSubmitOrBlurEvent),this.telInput.addEventListener("blur",this._handleSubmitOrBlurEvent)}},{key:"_removeEmptyDialCode",value:function(){if("+"===this.telInput.value.charAt(0)){var t=this._getNumeric(this.telInput.value);t&&this.selectedCountryData.dialCode!==t||(this.telInput.value="")}}},{key:"_getNumeric",value:function(t){return t.replace(/\D/g,"")}},{key:"_trigger",value:function(t){var e=document.createEvent("Event");e.initEvent(t,!0,!0),this.telInput.dispatchEvent(e)}},{key:"_showDropdown",value:function(){this.countryList.classList.remove("iti__hide"),this.selectedFlag.setAttribute("aria-expanded","true"),this._setDropdownPosition(),this.activeItem&&(this._highlightListItem(this.activeItem,!1),this._scrollTo(this.activeItem,!0)),this._bindDropdownListeners(),this.dropdownArrow.classList.add("iti__arrow--up"),this._trigger("open:countrydropdown")}},{key:"_toggleClass",value:function(t,e,i){i&&!t.classList.contains(e)?t.classList.add(e):!i&&t.classList.contains(e)&&t.classList.remove(e)}},{key:"_setDropdownPosition",value:function(){var t=this;if(this.options.dropdownContainer&&this.options.dropdownContainer.appendChild(this.dropdown),!this.isMobile){var e=this.telInput.getBoundingClientRect(),i=window.pageYOffset||document.documentElement.scrollTop,n=e.top+i,a=this.countryList.offsetHeight,o=n+this.telInput.offsetHeight+a<i+window.innerHeight,s=n-a>i;if(this._toggleClass(this.countryList,"iti__country-list--dropup",!o&&s),this.options.dropdownContainer){var r=!o&&s?0:this.telInput.offsetHeight;this.dropdown.style.top="".concat(n+r,"px"),this.dropdown.style.left="".concat(e.left+document.body.scrollLeft,"px"),this._handleWindowScroll=function(){return t._closeDropdown()},window.addEventListener("scroll",this._handleWindowScroll)}}}},{key:"_getClosestListItem",value:function(t){for(var e=t;e&&e!==this.countryList&&!e.classList.contains("iti__country");)e=e.parentNode;return e===this.countryList?null:e}},{key:"_bindDropdownListeners",value:function(){var t=this;this._handleMouseoverCountryList=function(e){var i=t._getClosestListItem(e.target);i&&t._highlightListItem(i,!1)},this.countryList.addEventListener("mouseover",this._handleMouseoverCountryList),this._handleClickCountryList=function(e){var i=t._getClosestListItem(e.target);i&&t._selectListItem(i)},this.countryList.addEventListener("click",this._handleClickCountryList);var e=!0;this._handleClickOffToClose=function(){e||t._closeDropdown(),e=!1},document.documentElement.addEventListener("click",this._handleClickOffToClose);var i="",n=null;this._handleKeydownOnDropdown=function(e){e.preventDefault(),"ArrowUp"===e.key||"Up"===e.key||"ArrowDown"===e.key||"Down"===e.key?t._handleUpDownKey(e.key):"Enter"===e.key?t._handleEnterKey():"Escape"===e.key?t._closeDropdown():/^[a-zA-ZÀ-ÿа-яА-Я ]$/.test(e.key)&&(n&&clearTimeout(n),i+=e.key.toLowerCase(),t._searchForCountry(i),n=setTimeout(function(){i=""},1e3))},document.addEventListener("keydown",this._handleKeydownOnDropdown)}},{key:"_handleUpDownKey",value:function(t){var e="ArrowUp"===t||"Up"===t?this.highlightedItem.previousElementSibling:this.highlightedItem.nextElementSibling;e&&(e.classList.contains("iti__divider")&&(e="ArrowUp"===t||"Up"===t?e.previousElementSibling:e.nextElementSibling),this._highlightListItem(e,!0))}},{key:"_handleEnterKey",value:function(){this.highlightedItem&&this._selectListItem(this.highlightedItem)}},{key:"_searchForCountry",value:function(t){for(var e=0;e<this.countries.length;e++)if(this._startsWith(this.countries[e].name,t)){var i=this.countryList.querySelector("#iti-".concat(this.id,"__item-").concat(this.countries[e].iso2));this._highlightListItem(i,!1),this._scrollTo(i,!0);break}}},{key:"_startsWith",value:function(t,e){return t.substr(0,e.length).toLowerCase()===e}},{key:"_updateValFromNumber",value:function(t){var e=t;if(this.options.formatOnDisplay&&window.intlTelInputUtils&&this.selectedCountryData){var i=!this.options.separateDialCode&&(this.options.nationalMode||"+"!==e.charAt(0)),n=intlTelInputUtils.numberFormat,a=n.NATIONAL,o=n.INTERNATIONAL,s=i?a:o;e=intlTelInputUtils.formatNumber(e,this.selectedCountryData.iso2,s)}e=this._beforeSetNumber(e),this.telInput.value=e}},{key:"_updateFlagFromNumber",value:function(t){var e=t,i=this.selectedCountryData.dialCode,n="1"===i;e&&this.options.nationalMode&&n&&"+"!==e.charAt(0)&&("1"!==e.charAt(0)&&(e="1".concat(e)),e="+".concat(e)),this.options.separateDialCode&&i&&"+"!==e.charAt(0)&&(e="+".concat(i).concat(e));var a=this._getDialCode(e,!0),o=this._getNumeric(e),s=null;if(a){var r=this.countryCodes[this._getNumeric(a)],l=-1!==r.indexOf(this.selectedCountryData.iso2)&&o.length<=a.length-1;if(!("1"===i&&this._isRegionlessNanp(o))&&!l)for(var u=0;u<r.length;u++)if(r[u]){s=r[u];break}}else"+"===e.charAt(0)&&o.length?s="":e&&"+"!==e||(s=this.defaultCountry);return null!==s&&this._setFlag(s)}},{key:"_isRegionlessNanp",value:function(t){var e=this._getNumeric(t);if("1"===e.charAt(0)){var i=e.substr(1,3);return-1!==u.indexOf(i)}return!1}},{key:"_highlightListItem",value:function(t,e){var i=this.highlightedItem;i&&i.classList.remove("iti__highlight"),this.highlightedItem=t,this.highlightedItem.classList.add("iti__highlight"),e&&this.highlightedItem.focus()}},{key:"_getCountryData",value:function(t,e,n){for(var a=e?i:this.countries,o=0;o<a.length;o++)if(a[o].iso2===t)return a[o];if(n)return null;throw new Error("No country data for '".concat(t,"'"))}},{key:"_setFlag",value:function(t){var e=this.selectedCountryData.iso2?this.selectedCountryData:{};this.selectedCountryData=t?this._getCountryData(t,!1,!1):{},this.selectedCountryData.iso2&&(this.defaultCountry=this.selectedCountryData.iso2),this.selectedFlagInner.setAttribute("class","iti__flag iti__".concat(t));var i=t?"".concat(this.selectedCountryData.name,": +").concat(this.selectedCountryData.dialCode):"Unknown";if(this.selectedFlag.setAttribute("title",i),this.options.separateDialCode){var n=this.selectedCountryData.dialCode?"+".concat(this.selectedCountryData.dialCode):"";this.selectedDialCode.innerHTML=n;var a=this.selectedFlag.offsetWidth||this._getHiddenSelectedFlagWidth();this.telInput.style.paddingLeft="".concat(a+6,"px")}if(this._updatePlaceholder(),this.options.allowDropdown){var o=this.activeItem;if(o&&(o.classList.remove("iti__active"),o.setAttribute("aria-selected","false")),t){var s=this.countryList.querySelector("#iti-".concat(this.id,"__item-").concat(t,"-preferred"))||this.countryList.querySelector("#iti-".concat(this.id,"__item-").concat(t));s.setAttribute("aria-selected","true"),s.classList.add("iti__active"),this.activeItem=s,this.selectedFlag.setAttribute("aria-activedescendant",s.getAttribute("id"))}}return e.iso2!==t}},{key:"_getHiddenSelectedFlagWidth",value:function(){var t=this.telInput.parentNode.cloneNode();t.style.visibility="hidden",document.body.appendChild(t);var e=this.flagsContainer.cloneNode();t.appendChild(e);var i=this.selectedFlag.cloneNode(!0);e.appendChild(i);var n=i.offsetWidth;return t.parentNode.removeChild(t),n}},{key:"_updatePlaceholder",value:function(){var t="aggressive"===this.options.autoPlaceholder||!this.hadInitialPlaceholder&&"polite"===this.options.autoPlaceholder;if(window.intlTelInputUtils&&t){var e=intlTelInputUtils.numberType[this.options.placeholderNumberType],i=this.selectedCountryData.iso2?intlTelInputUtils.getExampleNumber(this.selectedCountryData.iso2,this.options.nationalMode,e):"";i=this._beforeSetNumber(i),"function"==typeof this.options.customPlaceholder&&(i=this.options.customPlaceholder(i,this.selectedCountryData)),this.telInput.setAttribute("placeholder",i)}}},{key:"_selectListItem",value:function(t){var e=this._setFlag(t.getAttribute("data-country-code"));this._closeDropdown(),this._updateDialCode(t.getAttribute("data-dial-code"),!0),this.telInput.focus();var i=this.telInput.value.length;this.telInput.setSelectionRange(i,i),e&&this._triggerCountryChange()}},{key:"_closeDropdown",value:function(){this.countryList.classList.add("iti__hide"),this.selectedFlag.setAttribute("aria-expanded","false"),this.dropdownArrow.classList.remove("iti__arrow--up"),document.removeEventListener("keydown",this._handleKeydownOnDropdown),document.documentElement.removeEventListener("click",this._handleClickOffToClose),this.countryList.removeEventListener("mouseover",this._handleMouseoverCountryList),this.countryList.removeEventListener("click",this._handleClickCountryList),this.options.dropdownContainer&&(this.isMobile||window.removeEventListener("scroll",this._handleWindowScroll),this.dropdown.parentNode&&this.dropdown.parentNode.removeChild(this.dropdown)),this._trigger("close:countrydropdown")}},{key:"_scrollTo",value:function(t,e){var i=this.countryList,n=window.pageYOffset||document.documentElement.scrollTop,a=i.offsetHeight,o=i.getBoundingClientRect().top+n,s=o+a,r=t.offsetHeight,l=t.getBoundingClientRect().top+n,u=l+r,d=l-o+i.scrollTop,h=a/2-r/2;if(l<o)e&&(d-=h),i.scrollTop=d;else if(u>s){e&&(d+=h);var c=a-r;i.scrollTop=d-c}}},{key:"_updateDialCode",value:function(t,e){var i,n=this.telInput.value,a="+".concat(t);if("+"===n.charAt(0)){var o=this._getDialCode(n);i=o?n.replace(o,a):a}else{if(this.options.nationalMode||this.options.separateDialCode)return;if(n)i=a+n;else{if(!e&&this.options.autoHideDialCode)return;i=a}}this.telInput.value=i}},{key:"_getDialCode",value:function(t,e){var i="";if("+"===t.charAt(0))for(var n="",a=0;a<t.length;a++){var o=t.charAt(a);if(!isNaN(parseInt(o,10))){if(n+=o,e)this.countryCodes[n]&&(i=t.substr(0,a+1));else if(this.dialCodes[n]){i=t.substr(0,a+1);break}if(n.length===this.countryCodeMaxLen)break}}return i}},{key:"_getFullNumber",value:function(){var t=this.telInput.value.trim(),e=this.selectedCountryData.dialCode,i=this._getNumeric(t);return(this.options.separateDialCode&&"+"!==t.charAt(0)&&e&&i?"+".concat(e):"")+t}},{key:"_beforeSetNumber",value:function(t){var e=t;if(this.options.separateDialCode){var i=this._getDialCode(e);if(i){var n=" "===e[(i="+".concat(this.selectedCountryData.dialCode)).length]||"-"===e[i.length]?i.length+1:i.length;e=e.substr(n)}}return this._cap(e)}},{key:"_triggerCountryChange",value:function(){this._trigger("countrychange")}},{key:"handleAutoCountry",value:function(){"auto"===this.options.initialCountry&&(this.defaultCountry=window.intlTelInputGlobals.autoCountry,this.telInput.value||this.setCountry(this.defaultCountry),this.resolveAutoCountryPromise())}},{key:"handleUtils",value:function(){window.intlTelInputUtils&&(this.telInput.value&&this._updateValFromNumber(this.telInput.value),this._updatePlaceholder()),this.resolveUtilsScriptPromise()}},{key:"destroy",value:function(){var t=this.telInput.form;if(this.options.allowDropdown){this._closeDropdown(),this.selectedFlag.removeEventListener("click",this._handleClickSelectedFlag),this.flagsContainer.removeEventListener("keydown",this._handleFlagsContainerKeydown);var e=this._getClosestLabel();e&&e.removeEventListener("click",this._handleLabelClick)}this.hiddenInput&&t&&t.removeEventListener("submit",this._handleHiddenInputSubmit),this.options.autoHideDialCode&&(t&&t.removeEventListener("submit",this._handleSubmitOrBlurEvent),this.telInput.removeEventListener("blur",this._handleSubmitOrBlurEvent)),this.telInput.removeEventListener("keyup",this._handleKeyupEvent),this.telInput.removeEventListener("cut",this._handleClipboardEvent),this.telInput.removeEventListener("paste",this._handleClipboardEvent),this.telInput.removeAttribute("data-intl-tel-input-id");var i=this.telInput.parentNode;i.parentNode.insertBefore(this.telInput,i),i.parentNode.removeChild(i),delete window.intlTelInputGlobals.instances[this.id]}},{key:"getExtension",value:function(){return window.intlTelInputUtils?intlTelInputUtils.getExtension(this._getFullNumber(),this.selectedCountryData.iso2):""}},{key:"getNumber",value:function(t){if(window.intlTelInputUtils){var e=this.selectedCountryData.iso2;return intlTelInputUtils.formatNumber(this._getFullNumber(),e,t)}return""}},{key:"getNumberType",value:function(){return window.intlTelInputUtils?intlTelInputUtils.getNumberType(this._getFullNumber(),this.selectedCountryData.iso2):-99}},{key:"getSelectedCountryData",value:function(){return this.selectedCountryData}},{key:"getValidationError",value:function(){if(window.intlTelInputUtils){var t=this.selectedCountryData.iso2;return intlTelInputUtils.getValidationError(this._getFullNumber(),t)}return-99}},{key:"isValidNumber",value:function(){var t=this._getFullNumber().trim(),e=this.options.nationalMode?this.selectedCountryData.iso2:"";return window.intlTelInputUtils?intlTelInputUtils.isValidNumber(t,e):null}},{key:"setCountry",value:function(t){var e=t.toLowerCase();this.selectedFlagInner.classList.contains("iti__".concat(e))||(this._setFlag(e),this._updateDialCode(this.selectedCountryData.dialCode,!1),this._triggerCountryChange())}},{key:"setNumber",value:function(t){var e=this._updateFlagFromNumber(t);this._updateValFromNumber(t),e&&this._triggerCountryChange()}},{key:"setPlaceholderNumberType",value:function(t){this.options.placeholderNumberType=t,this._updatePlaceholder()}}])&&o(n.prototype,a),s&&o(n,s),t}();s.getCountryData=function(){return i};var p=function(t,e,i){var n=document.createElement("script");n.onload=function(){h("handleUtils"),e&&e()},n.onerror=function(){h("rejectUtilsScriptPromise"),i&&i()},n.className="iti-load-utils",n.async=!0,n.src=t,document.body.appendChild(n)};s.loadUtils=function(t){if(!window.intlTelInputUtils&&!window.intlTelInputGlobals.startedLoadingUtilsScript){if(window.intlTelInputGlobals.startedLoadingUtilsScript=!0,"undefined"!=typeof Promise)return new Promise(function(e,i){return p(t,e,i)});p(t)}return null},s.defaults=l,s.version="17.0.3";t.fn.intlTelInput=function(i){var n,a=arguments;return i===e||"object"==typeof i?this.each(function(){if(!t.data(this,"plugin_intlTelInput")){var e=new c(this,i);e._init(),window.intlTelInputGlobals.instances[e.id]=e,t.data(this,"plugin_intlTelInput",e)}}):"string"==typeof i&&"_"!==i[0]?(this.each(function(){var e=t.data(this,"plugin_intlTelInput");e instanceof c&&"function"==typeof e[i]&&(n=e[i].apply(e,Array.prototype.slice.call(a,1))),"destroy"===i&&t.data(this,"plugin_intlTelInput",null)}),n!==e?n:this):void 0}});
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImludGxUZWxJbnB1dC1qcXVlcnkuanMiXSwibmFtZXMiOlsiZmFjdG9yeSIsIm1vZHVsZSIsImV4cG9ydHMiLCJyZXF1aXJlIiwiZGVmaW5lIiwiYW1kIiwiJCIsImpRdWVyeSIsInVuZGVmaW5lZCIsImFsbENvdW50cmllcyIsImkiLCJsZW5ndGgiLCJjIiwibmFtZSIsImlzbzIiLCJkaWFsQ29kZSIsInByaW9yaXR5IiwiYXJlYUNvZGVzIiwiX2RlZmluZVByb3BlcnRpZXMiLCJ0YXJnZXQiLCJwcm9wcyIsImRlc2NyaXB0b3IiLCJlbnVtZXJhYmxlIiwiY29uZmlndXJhYmxlIiwid3JpdGFibGUiLCJPYmplY3QiLCJkZWZpbmVQcm9wZXJ0eSIsImtleSIsImludGxUZWxJbnB1dEdsb2JhbHMiLCJnZXRJbnN0YW5jZSIsImlucHV0IiwiaWQiLCJnZXRBdHRyaWJ1dGUiLCJ3aW5kb3ciLCJpbnN0YW5jZXMiLCJkZWZhdWx0cyIsImFsbG93RHJvcGRvd24iLCJhdXRvSGlkZURpYWxDb2RlIiwiYXV0b1BsYWNlaG9sZGVyIiwiY3VzdG9tQ29udGFpbmVyIiwiY3VzdG9tUGxhY2Vob2xkZXIiLCJkcm9wZG93bkNvbnRhaW5lciIsImV4Y2x1ZGVDb3VudHJpZXMiLCJmb3JtYXRPbkRpc3BsYXkiLCJnZW9JcExvb2t1cCIsImhpZGRlbklucHV0IiwiaW5pdGlhbENvdW50cnkiLCJsb2NhbGl6ZWRDb3VudHJpZXMiLCJuYXRpb25hbE1vZGUiLCJvbmx5Q291bnRyaWVzIiwicGxhY2Vob2xkZXJOdW1iZXJUeXBlIiwicHJlZmVycmVkQ291bnRyaWVzIiwic2VwYXJhdGVEaWFsQ29kZSIsInV0aWxzU2NyaXB0IiwicmVnaW9ubGVzc05hbnBOdW1iZXJzIiwiYWRkRXZlbnRMaXN0ZW5lciIsIndpbmRvd0xvYWRlZCIsImZvckVhY2hQcm9wIiwib2JqIiwiY2FsbGJhY2siLCJrZXlzIiwiZm9yRWFjaEluc3RhbmNlIiwibWV0aG9kIiwiSXRpIiwib3B0aW9ucyIsIl90aGlzIiwidGhpcyIsImluc3RhbmNlIiwiQ29uc3RydWN0b3IiLCJUeXBlRXJyb3IiLCJfY2xhc3NDYWxsQ2hlY2siLCJ0ZWxJbnB1dCIsImFjdGl2ZUl0ZW0iLCJoaWdobGlnaHRlZEl0ZW0iLCJjdXN0b21PcHRpb25zIiwidmFsdWUiLCJoYXNPd25Qcm9wZXJ0eSIsImhhZEluaXRpYWxQbGFjZWhvbGRlciIsIkJvb2xlYW4iLCJwcm90b1Byb3BzIiwic3RhdGljUHJvcHMiLCJfdGhpczIiLCJpc01vYmlsZSIsInRlc3QiLCJuYXZpZ2F0b3IiLCJ1c2VyQWdlbnQiLCJkb2N1bWVudCIsImJvZHkiLCJjbGFzc0xpc3QiLCJhZGQiLCJQcm9taXNlIiwiYXV0b0NvdW50cnlQcm9taXNlIiwicmVzb2x2ZSIsInJlamVjdCIsInJlc29sdmVBdXRvQ291bnRyeVByb21pc2UiLCJyZWplY3RBdXRvQ291bnRyeVByb21pc2UiLCJ1dGlsc1NjcmlwdFByb21pc2UiLCJyZXNvbHZlVXRpbHNTY3JpcHRQcm9taXNlIiwicmVqZWN0VXRpbHNTY3JpcHRQcm9taXNlIiwicHJvbWlzZSIsImFsbCIsInNlbGVjdGVkQ291bnRyeURhdGEiLCJfcHJvY2Vzc0NvdW50cnlEYXRhIiwiX2dlbmVyYXRlTWFya3VwIiwiX3NldEluaXRpYWxTdGF0ZSIsIl9pbml0TGlzdGVuZXJzIiwiX2luaXRSZXF1ZXN0cyIsIl9wcm9jZXNzQWxsQ291bnRyaWVzIiwiX3Byb2Nlc3NDb3VudHJ5Q29kZXMiLCJfcHJvY2Vzc1ByZWZlcnJlZENvdW50cmllcyIsIl90cmFuc2xhdGVDb3VudHJpZXNCeUxvY2FsZSIsImNvdW50cmllcyIsInNvcnQiLCJfY291bnRyeU5hbWVTb3J0IiwiY291bnRyeUNvZGUiLCJjb3VudHJ5Q29kZU1heExlbiIsImNvdW50cnlDb2RlcyIsImluZGV4IiwibG93ZXJDYXNlT25seUNvdW50cmllcyIsIm1hcCIsImNvdW50cnkiLCJ0b0xvd2VyQ2FzZSIsImZpbHRlciIsImluZGV4T2YiLCJsb3dlckNhc2VFeGNsdWRlQ291bnRyaWVzIiwiaXNvIiwiYSIsImIiLCJsb2NhbGVDb21wYXJlIiwiZGlhbENvZGVzIiwiX2FkZENvdW50cnlDb2RlIiwiX2kiLCJfYyIsInJvb3RDb3VudHJ5Q29kZSIsImoiLCJhcmVhQ29kZSIsImsiLCJwYXJ0aWFsRGlhbENvZGUiLCJzdWJzdHIiLCJjb3VudHJ5RGF0YSIsIl9nZXRDb3VudHJ5RGF0YSIsInB1c2giLCJhdHRycyIsImNvbnRhaW5lciIsImVsIiwiY3JlYXRlRWxlbWVudCIsInNldEF0dHJpYnV0ZSIsImFwcGVuZENoaWxkIiwiaGFzQXR0cmlidXRlIiwiZm9ybSIsInBhcmVudENsYXNzIiwid3JhcHBlciIsIl9jcmVhdGVFbCIsImNsYXNzIiwicGFyZW50Tm9kZSIsImluc2VydEJlZm9yZSIsImZsYWdzQ29udGFpbmVyIiwic2VsZWN0ZWRGbGFnIiwicm9sZSIsImFyaWEtb3ducyIsImNvbmNhdCIsImFyaWEtZXhwYW5kZWQiLCJzZWxlY3RlZEZsYWdJbm5lciIsInNlbGVjdGVkRGlhbENvZGUiLCJkcm9wZG93bkFycm93IiwiY291bnRyeUxpc3QiLCJfYXBwZW5kTGlzdEl0ZW1zIiwiYXJpYS1kaXNhYmxlZCIsImRyb3Bkb3duIiwiaGlkZGVuSW5wdXROYW1lIiwibGFzdEluZGV4T2YiLCJ0eXBlIiwiY2xhc3NOYW1lIiwicHJlZmVycmVkIiwidG1wIiwiaWRTdWZmaXgiLCJpbnNlcnRBZGphY2VudEhUTUwiLCJ2YWwiLCJfZ2V0RGlhbENvZGUiLCJpc1JlZ2lvbmxlc3NOYW5wIiwiX2lzUmVnaW9ubGVzc05hbnAiLCJfdGhpcyRvcHRpb25zIiwiX3VwZGF0ZUZsYWdGcm9tTnVtYmVyIiwiX3NldEZsYWciLCJkZWZhdWx0Q291bnRyeSIsIl91cGRhdGVWYWxGcm9tTnVtYmVyIiwiX2luaXRLZXlMaXN0ZW5lcnMiLCJfaW5pdEJsdXJMaXN0ZW5lcnMiLCJfaW5pdERyb3Bkb3duTGlzdGVuZXJzIiwiX2luaXRIaWRkZW5JbnB1dExpc3RlbmVyIiwiX3RoaXMzIiwiX2hhbmRsZUhpZGRlbklucHV0U3VibWl0IiwiZ2V0TnVtYmVyIiwidGFnTmFtZSIsIl90aGlzNCIsIl9oYW5kbGVMYWJlbENsaWNrIiwiZSIsImNvbnRhaW5zIiwiZm9jdXMiLCJwcmV2ZW50RGVmYXVsdCIsImxhYmVsIiwiX2dldENsb3Nlc3RMYWJlbCIsIl9oYW5kbGVDbGlja1NlbGVjdGVkRmxhZyIsImRpc2FibGVkIiwicmVhZE9ubHkiLCJfc2hvd0Ryb3Bkb3duIiwiX2hhbmRsZUZsYWdzQ29udGFpbmVyS2V5ZG93biIsInN0b3BQcm9wYWdhdGlvbiIsIl9jbG9zZURyb3Bkb3duIiwiX3RoaXM1IiwiaW50bFRlbElucHV0VXRpbHMiLCJsb2FkVXRpbHMiLCJfbG9hZEF1dG9Db3VudHJ5IiwiYXV0b0NvdW50cnkiLCJoYW5kbGVBdXRvQ291bnRyeSIsInN0YXJ0ZWRMb2FkaW5nQXV0b0NvdW50cnkiLCJzZXRUaW1lb3V0IiwiX3RoaXM2IiwiX2hhbmRsZUtleXVwRXZlbnQiLCJfdHJpZ2dlckNvdW50cnlDaGFuZ2UiLCJfaGFuZGxlQ2xpcGJvYXJkRXZlbnQiLCJudW1iZXIiLCJtYXgiLCJfdGhpczciLCJfaGFuZGxlU3VibWl0T3JCbHVyRXZlbnQiLCJfcmVtb3ZlRW1wdHlEaWFsQ29kZSIsImNoYXJBdCIsIm51bWVyaWMiLCJfZ2V0TnVtZXJpYyIsInMiLCJyZXBsYWNlIiwiY3JlYXRlRXZlbnQiLCJpbml0RXZlbnQiLCJkaXNwYXRjaEV2ZW50IiwicmVtb3ZlIiwiX3NldERyb3Bkb3duUG9zaXRpb24iLCJfaGlnaGxpZ2h0TGlzdEl0ZW0iLCJfc2Nyb2xsVG8iLCJfYmluZERyb3Bkb3duTGlzdGVuZXJzIiwiX3RyaWdnZXIiLCJzaG91bGRIYXZlQ2xhc3MiLCJfdGhpczgiLCJwb3MiLCJnZXRCb3VuZGluZ0NsaWVudFJlY3QiLCJ3aW5kb3dUb3AiLCJwYWdlWU9mZnNldCIsImRvY3VtZW50RWxlbWVudCIsInNjcm9sbFRvcCIsImlucHV0VG9wIiwidG9wIiwiZHJvcGRvd25IZWlnaHQiLCJvZmZzZXRIZWlnaHQiLCJkcm9wZG93bkZpdHNCZWxvdyIsImlubmVySGVpZ2h0IiwiZHJvcGRvd25GaXRzQWJvdmUiLCJfdG9nZ2xlQ2xhc3MiLCJleHRyYVRvcCIsInN0eWxlIiwibGVmdCIsInNjcm9sbExlZnQiLCJfaGFuZGxlV2luZG93U2Nyb2xsIiwiX3RoaXM5IiwiX2hhbmRsZU1vdXNlb3ZlckNvdW50cnlMaXN0IiwibGlzdEl0ZW0iLCJfZ2V0Q2xvc2VzdExpc3RJdGVtIiwiX2hhbmRsZUNsaWNrQ291bnRyeUxpc3QiLCJfc2VsZWN0TGlzdEl0ZW0iLCJpc09wZW5pbmciLCJfaGFuZGxlQ2xpY2tPZmZUb0Nsb3NlIiwicXVlcnkiLCJxdWVyeVRpbWVyIiwiX2hhbmRsZUtleWRvd25PbkRyb3Bkb3duIiwiX2hhbmRsZVVwRG93bktleSIsIl9oYW5kbGVFbnRlcktleSIsImNsZWFyVGltZW91dCIsIl9zZWFyY2hGb3JDb3VudHJ5IiwibmV4dCIsInByZXZpb3VzRWxlbWVudFNpYmxpbmciLCJuZXh0RWxlbWVudFNpYmxpbmciLCJfc3RhcnRzV2l0aCIsInF1ZXJ5U2VsZWN0b3IiLCJvcmlnaW5hbE51bWJlciIsInVzZU5hdGlvbmFsIiwiX2ludGxUZWxJbnB1dFV0aWxzJG51IiwibnVtYmVyRm9ybWF0IiwiTkFUSU9OQUwiLCJJTlRFUk5BVElPTkFMIiwiZm9ybWF0IiwiZm9ybWF0TnVtYmVyIiwiX2JlZm9yZVNldE51bWJlciIsImlzTmFucCIsImFscmVhZHlTZWxlY3RlZCIsInNob3VsZEZvY3VzIiwicHJldkl0ZW0iLCJpZ25vcmVPbmx5Q291bnRyaWVzT3B0aW9uIiwiYWxsb3dGYWlsIiwiRXJyb3IiLCJwcmV2Q291bnRyeSIsInRpdGxlIiwiaW5uZXJIVE1MIiwic2VsZWN0ZWRGbGFnV2lkdGgiLCJvZmZzZXRXaWR0aCIsIl9nZXRIaWRkZW5TZWxlY3RlZEZsYWdXaWR0aCIsInBhZGRpbmdMZWZ0IiwiX3VwZGF0ZVBsYWNlaG9sZGVyIiwibmV4dEl0ZW0iLCJjb250YWluZXJDbG9uZSIsImNsb25lTm9kZSIsInZpc2liaWxpdHkiLCJmbGFnc0NvbnRhaW5lckNsb25lIiwic2VsZWN0ZWRGbGFnQ2xvbmUiLCJ3aWR0aCIsInJlbW92ZUNoaWxkIiwic2hvdWxkU2V0UGxhY2Vob2xkZXIiLCJudW1iZXJUeXBlIiwicGxhY2Vob2xkZXIiLCJnZXRFeGFtcGxlTnVtYmVyIiwiZmxhZ0NoYW5nZWQiLCJfdXBkYXRlRGlhbENvZGUiLCJsZW4iLCJzZXRTZWxlY3Rpb25SYW5nZSIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJlbGVtZW50IiwibWlkZGxlIiwiY29udGFpbmVySGVpZ2h0IiwiY29udGFpbmVyVG9wIiwiY29udGFpbmVyQm90dG9tIiwiZWxlbWVudEhlaWdodCIsImVsZW1lbnRUb3AiLCJlbGVtZW50Qm90dG9tIiwibmV3U2Nyb2xsVG9wIiwibWlkZGxlT2Zmc2V0IiwiaGVpZ2h0RGlmZmVyZW5jZSIsIm5ld0RpYWxDb2RlQmFyZSIsImhhc1NlbGVjdGVkTGlzdEl0ZW0iLCJuZXdOdW1iZXIiLCJpbnB1dFZhbCIsIm5ld0RpYWxDb2RlIiwicHJldkRpYWxDb2RlIiwiaW5jbHVkZUFyZWFDb2RlIiwibnVtZXJpY0NoYXJzIiwiaXNOYU4iLCJwYXJzZUludCIsInRyaW0iLCJudW1lcmljVmFsIiwic3RhcnQiLCJfY2FwIiwic2V0Q291bnRyeSIsInJlbW92ZUF0dHJpYnV0ZSIsImdldEV4dGVuc2lvbiIsIl9nZXRGdWxsTnVtYmVyIiwiZ2V0TnVtYmVyVHlwZSIsImdldFZhbGlkYXRpb25FcnJvciIsImlzVmFsaWROdW1iZXIiLCJvcmlnaW5hbENvdW50cnlDb2RlIiwicHJvdG90eXBlIiwiZ2V0Q291bnRyeURhdGEiLCJpbmplY3RTY3JpcHQiLCJwYXRoIiwiaGFuZGxlU3VjY2VzcyIsImhhbmRsZUZhaWx1cmUiLCJzY3JpcHQiLCJvbmxvYWQiLCJvbmVycm9yIiwiYXN5bmMiLCJzcmMiLCJzdGFydGVkTG9hZGluZ1V0aWxzU2NyaXB0IiwidmVyc2lvbiIsImZuIiwicmV0dXJucyIsImFyZ3MiLCJhcmd1bWVudHMiLCJlYWNoIiwiZGF0YSIsIml0aSIsIl9pbml0IiwiYXBwbHkiLCJBcnJheSIsInNsaWNlIiwiY2FsbCJdLCJtYXBwaW5ncyI6IkNBT0EsU0FBVUEsR0FDZ0IsaUJBQVhDLFFBQXVCQSxPQUFPQyxRQUNyQ0QsT0FBT0MsUUFBVUYsRUFBUUcsUUFBUSxXQUNSLG1CQUFYQyxRQUF5QkEsT0FBT0MsSUFDOUNELE9BQU8sQ0FBRSxVQUFZLFNBQVNFLEdBQzFCTixFQUFRTSxLQUVUTixFQUFRTyxRQVBuQixDQVFHLFNBQVNELEVBQUdFLEdBQ1gsYUFpQkEsSUFGQSxJQUFJQyxFQUFlLENBQUUsQ0FBRSw2QkFBOEIsS0FBTSxNQUFRLENBQUUscUJBQXNCLEtBQU0sT0FBUyxDQUFFLHVCQUF3QixLQUFNLE9BQVMsQ0FBRSxpQkFBa0IsS0FBTSxJQUFLLEVBQUcsQ0FBRSxRQUFXLENBQUUsVUFBVyxLQUFNLE9BQVMsQ0FBRSxTQUFVLEtBQU0sT0FBUyxDQUFFLFdBQVksS0FBTSxJQUFLLEVBQUcsQ0FBRSxRQUFXLENBQUUsc0JBQXVCLEtBQU0sSUFBSyxFQUFHLENBQUUsUUFBVyxDQUFFLFlBQWEsS0FBTSxNQUFRLENBQUUscUJBQXNCLEtBQU0sT0FBUyxDQUFFLFFBQVMsS0FBTSxPQUFTLENBQUUsWUFBYSxLQUFNLEtBQU0sR0FBSyxDQUFFLHVCQUF3QixLQUFNLE1BQVEsQ0FBRSwwQkFBMkIsS0FBTSxPQUFTLENBQUUsVUFBVyxLQUFNLElBQUssRUFBRyxDQUFFLFFBQVcsQ0FBRSx1QkFBd0IsS0FBTSxPQUFTLENBQUUsd0JBQXlCLEtBQU0sT0FBUyxDQUFFLFdBQVksS0FBTSxJQUFLLEVBQUcsQ0FBRSxRQUFXLENBQUUscUJBQXNCLEtBQU0sT0FBUyxDQUFFLG1CQUFvQixLQUFNLE1BQVEsQ0FBRSxTQUFVLEtBQU0sT0FBUyxDQUFFLGdCQUFpQixLQUFNLE9BQVMsQ0FBRSxVQUFXLEtBQU0sSUFBSyxHQUFJLENBQUUsUUFBVyxDQUFFLGlCQUFrQixLQUFNLE9BQVMsQ0FBRSxVQUFXLEtBQU0s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T0wsb0JBQW9CTSxVQUFVb1YsRUFBSXZWLElBQU11VixFQUMvQ2hYLEVBQUUrVyxLQUFLblQsS0FBTSxzQkFBd0JvVCxNQUduQixpQkFBWnRULEdBQXVDLE1BQWZBLEVBQVEsSUFJOUNFLEtBQUtrVCxLQUFLLFdBQ04sSUFBSWpULEVBQVc3RCxFQUFFK1csS0FBS25ULEtBQU0sdUJBRXhCQyxhQUFvQkosR0FBb0MsbUJBQXRCSSxFQUFTSCxLQUUzQ2lULEVBQVU5UyxFQUFTSCxHQUFTd1QsTUFBTXJULEVBQVVzVCxNQUFNdEIsVUFBVXVCLE1BQU1DLEtBQUtULEVBQU0sS0FHakUsWUFBWmxULEdBQXVCMUQsRUFBRStXLEtBQUtuVCxLQUFNLHNCQUF3QixRQUc3RCtTLElBQVl6VyxFQUFZeVcsRUFBVS9TLFdBZnRDIiwiZmlsZSI6ImludGxUZWxJbnB1dC1qcXVlcnkubWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiLypcbiAqIEludGVybmF0aW9uYWwgVGVsZXBob25lIElucHV0IHYxNy4wLjNcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9qYWNrb2Nuci9pbnRsLXRlbC1pbnB1dC5naXRcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBNSVQgbGljZW5zZVxuICovXG5cbi8vIHdyYXAgaW4gVU1EXG4oZnVuY3Rpb24oZmFjdG9yeSkge1xuICAgIGlmICh0eXBlb2YgbW9kdWxlID09PSBcIm9iamVjdFwiICYmIG1vZHVsZS5leHBvcnRzKSB7XG4gICAgICAgIG1vZHVsZS5leHBvcnRzID0gZmFjdG9yeShyZXF1aXJlKFwianF1ZXJ5XCIpKTtcbiAgICB9IGVsc2UgaWYgKHR5cGVvZiBkZWZpbmUgPT09IFwiZnVuY3Rpb25cIiAmJiBkZWZpbmUuYW1kKSB7XG4gICAgICAgIGRlZmluZShbIFwianF1ZXJ5XCIgXSwgZnVuY3Rpb24oJCkge1xuICAgICAgICAgICAgZmFjdG9yeSgkKTtcbiAgICAgICAgfSk7XG4gICAgfSBlbHNlIGZhY3RvcnkoalF1ZXJ5KTtcbn0pKGZ1bmN0aW9uKCQsIHVuZGVmaW5lZCkge1xuICAgIFwidXNlIHN0cmljdFwiO1xuICAgIC8vIEFycmF5IG9mIGNvdW50cnkgb2JqZWN0cyBmb3IgdGhlIGZsYWcgZHJvcGRvd24uXG4gICAgLy8gSGVyZSBpcyB0aGUgY3JpdGVyaWEgZm9yIHRoZSBwbHVnaW4gdG8gc3VwcG9ydCBhIGdpdmVuIGNvdW50cnkvdGVycml0b3J5XG4gICAgLy8gLSBJdCBoYXMgYW4gaXNvMiBjb2RlOiBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9JU09fMzE2Ni0xX2FscGhhLTJcbiAgICAvLyAtIEl0IGhhcyBpdCdzIG93biBjb3VudHJ5IGNhbGxpbmcgY29kZSAoaXQgaXMgbm90IGEgc3ViLXJlZ2lvbiBvZiBhbm90aGVyIGNvdW50cnkpOiBodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9MaXN0X29mX2NvdW50cnlfY2FsbGluZ19jb2Rlc1xuICAgIC8vIC0gSXQgaGFzIGEgZmxhZyBpbiB0aGUgcmVnaW9uLWZsYWdzIHByb2plY3Q6IGh0dHBzOi8vZ2l0aHViLmNvbS9iZWhkYWQvcmVnaW9uLWZsYWdzL3RyZWUvZ2gtcGFnZXMvcG5nXG4gICAgLy8gLSBJdCBpcyBzdXBwb3J0ZWQgYnkgbGlicGhvbmVudW1iZXIgKGl0IG11c3QgYmUgbGlzdGVkIG9uIHRoaXMgcGFnZSk6IGh0dHBzOi8vZ2l0aHViLmNvbS9nb29nbGVpMThuL2xpYnBob25lbnVtYmVyL2Jsb2IvbWFzdGVyL3Jlc291cmNlcy9TaG9ydE51bWJlck1ldGFkYXRhLnhtbFxuICAgIC8vIEVhY2ggY291bnRyeSBhcnJheSBoYXMgdGhlIGZvbGxvd2luZyBpbmZvcm1hdGlvbjpcbiAgICAvLyBbXG4gICAgLy8gICAgQ291bnRyeSBuYW1lLFxuICAgIC8vICAgIGlzbzIgY29kZSxcbiAgICAvLyAgICBJbnRlcm5hdGlvbmFsIGRpYWwgY29kZSxcbiAgICAvLyAgICBPcmRlciAoaWYgPjEgY291bnRyeSB3aXRoIHNhbWUgZGlhbCBjb2RlKSxcbiAgICAvLyAgICBBcmVhIGNvZGVzXG4gICAgLy8gXVxuICAgIHZhciBhbGxDb3VudHJpZXMgPSBbIFsgXCJBZmdoYW5pc3RhbiAo4oCr2KfZgdi62KfZhtiz2KrYp9mG4oCs4oCOKVwiLCBcImFmXCIsIFwiOTNcIiBdLCBbIFwiQWxiYW5pYSAoU2hxaXDDq3JpKVwiLCBcImFsXCIsIFwiMzU1XCIgXSwgWyBcIkFsZ2VyaWEgKOKAq9in2YTYrNiy2KfYptix4oCs4oCOKVwiLCBcImR6XCIsIFwiMjEzXCIgXSwgWyBcIkFtZXJpY2FuIFNhbW9hXCIsIFwiYXNcIiwgXCIxXCIsIDUsIFsgXCI2ODRcIiBdIF0sIFsgXCJBbmRvcnJhXCIsIFwiYWRcIiwgXCIzNzZcIiBdLCBbIFwiQW5nb2xhXCIsIFwiYW9cIiwgXCIyNDRcIiBdLCBbIFwiQW5ndWlsbGFcIiwgXCJhaVwiLCBcIjFcIiwgNiwgWyBcIjI2NFwiIF0gXSwgWyBcIkFudGlndWEgYW5kIEJhcmJ1ZGFcIiwgXCJhZ1wiLCBcIjFcIiwgNywgWyBcIjI2OFwiIF0gXSwgWyBcIkFyZ2VudGluYVwiLCBcImFyXCIsIFwiNTRcIiBdLCBbIFwiQXJtZW5pYSAo1YDVodW11aHVvdW/1aHVtilcIiwgXCJhbVwiLCBcIjM3NFwiIF0sIFsgXCJBcnViYVwiLCBcImF3XCIsIFwiMjk3XCIgXSwgWyBcIkF1c3RyYWxpYVwiLCBcImF1XCIsIFwiNjFcIiwgMCBdLCBbIFwiQXVzdHJpYSAow5ZzdGVycmVpY2gpXCIsIFwiYXRcIiwgXCI0M1wiIF0sIFsgXCJBemVyYmFpamFuIChBesmZcmJheWNhbilcIiwgXCJhelwiLCBcIjk5NFwiIF0sIFsgXCJCYWhhbWFzXCIsIFwiYnNcIiwgXCIxXCIsIDgsIFsgXCIyNDJcIiBdIF0sIFsgXCJCYWhyYWluICjigKvYp9mE2KjYrdix2YrZhuKArOKAjilcIiwgXCJiaFwiLCBcIjk3M1wiIF0sIFsgXCJCYW5nbGFkZXNoICjgpqzgpr7gpoLgprLgpr7gpqbgp4fgprYpXCIsIFwiYmRcIiwgXCI4ODBcIiBdLCBbIFwiQmFyYmFkb3NcIiwgXCJiYlwiLCBcIjFcIiwgOSwgWyBcIjI0NlwiIF0gXSwgWyBcIkJlbGFydXMgKNCR0LXQu9Cw0YDRg9GB0YwpXCIsIFwiYnlcIiwgXCIzNzVcIiBdLCBbIFwiQmVsZ2l1bSAoQmVsZ2nDqylcIiwgXCJiZVwiLCBcIjMyXCIgXSwgWyBcIkJlbGl6ZVwiLCBcImJ6XCIsIFwiNTAxXCIgXSwgWyBcIkJlbmluIChCw6luaW4pXCIsIFwiYmpcIiwgXCIyMjlcIiBdLCBbIFwiQmVybXVkYVwiLCBcImJtXCIsIFwiMVwiLCAxMCwgWyBcIjQ0MVwiIF0gXSwgWyBcIkJodXRhbiAo4L2g4L2W4L6y4L204L2CKVwiLCBcImJ0XCIsIFwiOTc1XCIgXSwgWyBcIkJvbGl2aWFcIiwgXCJib1wiLCBcIjU5MVwiIF0sIFsgXCJCb3NuaWEgYW5kIEhlcnplZ292aW5hICjQkdC+0YHQvdCwINC4INCl0LXRgNGG0LXQs9C+0LLQuNC90LApXCIsIFwiYmFcIiwgXCIzODdcIiBdLCBbIFwiQm90c3dhbmFcIiwgXCJid1wiLCBcIjI2N1wiIF0sIFsgXCJCcmF6aWwgKEJyYXNpbClcIiwgXCJiclwiLCBcIjU1XCIgXSwgWyBcIkJyaXRpc2ggSW5kaWFuIE9jZWFuIFRlcnJpdG9yeVwiLCBcImlvXCIsIFwiMjQ2XCIgXSwgWyBcIkJyaXRpc2ggVmlyZ2luIElzbGFuZHNcIiwgXCJ2Z1wiLCBcIjFcIiwgMTEsIFsgXCIyODRcIiBdIF0sIFsgXCJCcnVuZWlcIiwgXCJiblwiLCBcIjY3M1wiIF0sIFsgXCJCdWxnYXJpYSAo0JHRitC70LPQsNGA0LjRjylcIiwgXCJiZ1wiLCBcIjM1OVwiIF0sIFsgXCJCdXJraW5hIEZhc29cIiwgXCJiZlwiLCBcIjIyNlwiIF0sIFsgXCJCdXJ1bmRpIChVYnVydW5kaSlcIiwgXCJiaVwiLCBcIjI1N1wiIF0sIFsgXCJDYW1ib2RpYSAo4Z6A4Z6Y4Z+S4Z6W4Z674Z6H4Z62KVwiLCBcImtoXCIsIFwiODU1XCIgXSwgWyBcIkNhbWVyb29uIChDYW1lcm91bilcIiwgXCJjbVwiLCBcIjIzN1wiIF0sIFsgXCJDYW5hZGFcIiwgXCJjYVwiLCBcIjFcIiwgMSwgWyBcIjIwNFwiLCBcIjIyNlwiLCBcIjIzNlwiLCBcIjI0OVwiLCBcIjI1MFwiLCBcIjI4OVwiLCBcIjMwNlwiLCBcIjM0M1wiLCBcIjM2NVwiLCBcIjM4N1wiLCBcIjQwM1wiLCBcIjQxNlwiLCBcIjQxOFwiLCBcIjQzMVwiLCBcIjQzN1wiLCBcIjQzOFwiLCBcIjQ1MFwiLCBcIjUwNlwiLCBcIjUxNFwiLCBcIjUxOVwiLCBcIjU0OFwiLCBcIjU3OVwiLCBcIjU4MVwiLCBcIjU4N1wiLCBcIjYwNFwiLCBcIjYxM1wiLCBcIjYzOVwiLCBcIjY0N1wiLCBcIjY3MlwiLCBcIjcwNVwiLCBcIjcwOVwiLCBcIjc0MlwiLCBcIjc3OFwiLCBcIjc4MFwiLCBcIjc4MlwiLCBcIjgwN1wiLCBcIjgxOVwiLCBcIjgyNVwiLCBcIjg2N1wiLCBcIjg3M1wiLCBcIjkwMlwiLCBcIjkwNVwiIF0gXSwgWyBcIkNhcGUgVmVyZGUgKEthYnUgVmVyZGkpXCIsIFwiY3ZcIiwgXCIyMzhcIiBdLCBbIFwiQ2FyaWJiZWFuIE5ldGhlcmxhbmRzXCIsIFwiYnFcIiwgXCI1OTlcIiwgMSwgWyBcIjNcIiwgXCI0XCIsIFwiN1wiIF0gXSwgWyBcIkNheW1hbiBJc2xhbmRzXCIsIFwia3lcIiwgXCIxXCIsIDEyLCBbIFwiMzQ1XCIgXSBdLCBbIFwiQ2VudHJhbCBBZnJpY2FuIFJlcHVibGljIChSw6lwdWJsaXF1ZSBjZW50cmFmcmljYWluZSlcIiwgXCJjZlwiLCBcIjIzNlwiIF0sIFsgXCJDaGFkIChUY2hhZClcIiwgXCJ0ZFwiLCBcIjIzNVwiIF0sIFsgXCJDaGlsZVwiLCBcImNsXCIsIFwiNTZcIiBdLCBbIFwiQ2hpbmEgKOS4reWbvSlcIiwgXCJjblwiLCBcIjg2XCIgXSwgWyBcIkNocmlzdG1hcyBJc2xhbmRcIiwgXCJjeFwiLCBcIjYxXCIsIDIsIFsgXCI4OTE2NFwiIF0gXSwgWyBcIkNvY29zIChLZWVsaW5nKSBJc2xhbmRzXCIsIFwiY2NcIiwgXCI2MVwiLCAxLCBbIFwiODkxNjJcIiBdIF0sIFsgXCJDb2xvbWJpYVwiLCBcImNvXCIsIFwiNTdcIiBdLCBbIFwiQ29tb3JvcyAo4oCr2KzYstixINin2YTZgtmF2LHigKzigI4pXCIsIFwia21cIiwgXCIyNjlcIiBdLCBbIFwiQ29uZ28gKERSQykgKEphbWh1cmkgeWEgS2lkZW1va3Jhc2lhIHlhIEtvbmdvKVwiLCBcImNkXCIsIFwiMjQzXCIgXSwgWyBcIkNvbmdvIChSZXB1YmxpYykgKENvbmdvLUJyYXp6YXZpbGxlKVwiLCBcImNnXCIsIFwiMjQyXCIgXSwgWyBcIkNvb2sgSXNsYW5kc1wiLCBcImNrXCIsIFwiNjgyXCIgXSwgWyBcIkNvc3RhIFJpY2FcIiwgXCJjclwiLCBcIjUwNlwiIF0sIFsgXCJDw7R0ZSBk4oCZSXZvaXJlXCIsIFwiY2lcIiwgXCIyMjVcIiBdLCBbIFwiQ3JvYXRpYSAoSHJ2YXRza2EpXCIsIFwiaHJcIiwgXCIzODVcIiBdLCBbIFwiQ3ViYVwiLCBcImN1XCIsIFwiNTNcIiBdLCBbIFwiQ3VyYcOnYW9cIiwgXCJjd1wiLCBcIjU5OVwiLCAwIF0sIFsgXCJDeXBydXMgKM6az43PgM+Bzr/PgilcIiwgXCJjeVwiLCBcIjM1N1wiIF0sIFsgXCJDemVjaCBSZXB1YmxpYyAoxIxlc2vDoSByZXB1Ymxpa2EpXCIsIFwiY3pcIiwgXCI0MjBcIiBdLCBbIFwiRGVubWFyayAoRGFubWFyaylcIiwgXCJka1wiLCBcIjQ1XCIgXSwgWyBcIkRqaWJvdXRpXCIsIFwiZGpcIiwgXCIyNTNcIiBdLCBbIFwiRG9taW5pY2FcIiwgXCJkbVwiLCBcIjFcIiwgMTMsIFsgXCI3NjdcIiBdIF0sIFsgXCJEb21pbmljYW4gUmVwdWJsaWMgKFJlcMO6YmxpY2EgRG9taW5pY2FuYSlcIiwgXCJkb1wiLCBcIjFcIiwgMiwgWyBcIjgwOVwiLCBcIjgyOVwiLCBcIjg0OVwiIF0gXSwgWyBcIkVjdWFkb3JcIiwgXCJlY1wiLCBcIjU5M1wiIF0sIFsgXCJFZ3lwdCAo4oCr2YXYtdix4oCs4oCOKVwiLCBcImVnXCIsIFwiMjBcIiBdLCBbIFwiRWwgU2FsdmFkb3JcIiwgXCJzdlwiLCBcIjUwM1wiIF0sIFsgXCJFcXVhdG9yaWFsIEd1aW5lYSAoR3VpbmVhIEVjdWF0b3JpYWwpXCIsIFwiZ3FcIiwgXCIyNDBcIiBdLCBbIFwiRXJpdHJlYVwiLCBcImVyXCIsIFwiMjkxXCIgXSwgWyBcIkVzdG9uaWEgKEVlc3RpKVwiLCBcImVlXCIsIFwiMzcyXCIgXSwgWyBcIkV0aGlvcGlhXCIsIFwiZXRcIiwgXCIyNTFcIiBdLCBbIFwiRmFsa2xhbmQgSXNsYW5kcyAoSXNsYXMgTWFsdmluYXMpXCIsIFwiZmtcIiwgXCI1MDBcIiBdLCBbIFwiRmFyb2UgSXNsYW5kcyAoRsO4cm95YXIpXCIsIFwiZm9cIiwgXCIyOThcIiBdLCBbIFwiRmlqaVwiLCBcImZqXCIsIFwiNjc5XCIgXSwgWyBcIkZpbmxhbmQgKFN1b21pKVwiLCBcImZpXCIsIFwiMzU4XCIsIDAgXSwgWyBcIkZyYW5jZVwiLCBcImZyXCIsIFwiMzNcIiBdLCBbIFwiRnJlbmNoIEd1aWFuYSAoR3V5YW5lIGZyYW7Dp2Fpc2UpXCIsIFwiZ2ZcIiwgXCI1OTRcIiBdLCBbIFwiRnJlbmNoIFBvbHluZXNpYSAoUG9seW7DqXNpZSBmcmFuw6dhaXNlKVwiLCBcInBmXCIsIFwiNjg5XCIgXSwgWyBcIkdhYm9uXCIsIFwiZ2FcIiwgXCIyNDFcIiBdLCBbIFwiR2FtYmlhXCIsIFwiZ21cIiwgXCIyMjBcIiBdLCBbIFwiR2VvcmdpYSAo4YOh4YOQ4YOl4YOQ4YOg4YOX4YOV4YOU4YOa4YOdKVwiLCBcImdlXCIsIFwiOTk1XCIgXSwgWyBcIkdlcm1hbnkgKERldXRzY2hsYW5kKVwiLCBcImRlXCIsIFwiNDlcIiBdLCBbIFwiR2hhbmEgKEdhYW5hKVwiLCBcImdoXCIsIFwiMjMzXCIgXSwgWyBcIkdpYnJhbHRhclwiLCBcImdpXCIsIFwiMzUwXCIgXSwgWyBcIkdyZWVjZSAozpXOu867zqzOtM6xKVwiLCBcImdyXCIsIFwiMzBcIiBdLCBbIFwiR3JlZW5sYW5kIChLYWxhYWxsaXQgTnVuYWF0KVwiLCBcImdsXCIsIFwiMjk5XCIgXSwgWyBcIkdyZW5hZGFcIiwgXCJnZFwiLCBcIjFcIiwgMTQsIFsgXCI0NzNcIiBdIF0sIFsgXCJHdWFkZWxvdXBlXCIsIFwiZ3BcIiwgXCI1OTBcIiwgMCBdLCBbIFwiR3VhbVwiLCBcImd1XCIsIFwiMVwiLCAxNSwgWyBcIjY3MVwiIF0gXSwgWyBcIkd1YXRlbWFsYVwiLCBcImd0XCIsIFwiNTAyXCIgXSwgWyBcIkd1ZXJuc2V5XCIsIFwiZ2dcIiwgXCI0NFwiLCAxLCBbIFwiMTQ4MVwiLCBcIjc3ODFcIiwgXCI3ODM5XCIsIFwiNzkxMVwiIF0gXSwgWyBcIkd1aW5lYSAoR3VpbsOpZSlcIiwgXCJnblwiLCBcIjIyNFwiIF0sIFsgXCJHdWluZWEtQmlzc2F1IChHdWluw6kgQmlzc2F1KVwiLCBcImd3XCIsIFwiMjQ1XCIgXSwgWyBcIkd1eWFuYVwiLCBcImd5XCIsIFwiNTkyXCIgXSwgWyBcIkhhaXRpXCIsIFwiaHRcIiwgXCI1MDlcIiBdLCBbIFwiSG9uZHVyYXNcIiwgXCJoblwiLCBcIjUwNFwiIF0sIFsgXCJIb25nIEtvbmcgKOmmmea4rylcIiwgXCJoa1wiLCBcIjg1MlwiIF0sIFsgXCJIdW5nYXJ5IChNYWd5YXJvcnN6w6FnKVwiLCBcImh1XCIsIFwiMzZcIiBdLCBbIFwiSWNlbGFuZCAow41zbGFuZClcIiwgXCJpc1wiLCBcIjM1NFwiIF0sIFsgXCJJbmRpYSAo4KSt4KS+4KSw4KSkKVwiLCBcImluXCIsIFwiOTFcIiBdLCBbIFwiSW5kb25lc2lhXCIsIFwiaWRcIiwgXCI2MlwiIF0sIFsgXCJJcmFuICjigKvYp9uM2LHYp9mG4oCs4oCOKVwiLCBcImlyXCIsIFwiOThcIiBdLCBbIFwiSXJhcSAo4oCr2KfZhNi52LHYp9mC4oCs4oCOKVwiLCBcImlxXCIsIFwiOTY0XCIgXSwgWyBcIklyZWxhbmRcIiwgXCJpZVwiLCBcIjM1M1wiIF0sIFsgXCJJc2xlIG9mIE1hblwiLCBcImltXCIsIFwiNDRcIiwgMiwgWyBcIjE2MjRcIiwgXCI3NDU3NlwiLCBcIjc1MjRcIiwgXCI3OTI0XCIsIFwiNzYyNFwiIF0gXSwgWyBcIklzcmFlbCAo4oCr15nXqdeo15DXnOKArOKAjilcIiwgXCJpbFwiLCBcIjk3MlwiIF0sIFsgXCJJdGFseSAoSXRhbGlhKVwiLCBcIml0XCIsIFwiMzlcIiwgMCBdLCBbIFwiSmFtYWljYVwiLCBcImptXCIsIFwiMVwiLCA0LCBbIFwiODc2XCIsIFwiNjU4XCIgXSBdLCBbIFwiSmFwYW4gKOaXpeacrClcIiwgXCJqcFwiLCBcIjgxXCIgXSwgWyBcIkplcnNleVwiLCBcImplXCIsIFwiNDRcIiwgMywgWyBcIjE1MzRcIiwgXCI3NTA5XCIsIFwiNzcwMFwiLCBcIjc3OTdcIiwgXCI3ODI5XCIsIFwiNzkzN1wiIF0gXSwgWyBcIkpvcmRhbiAo4oCr2KfZhNij2LHYr9mG4oCs4oCOKVwiLCBcImpvXCIsIFwiOTYyXCIgXSwgWyBcIkthemFraHN0YW4gKNCa0LDQt9Cw0YXRgdGC0LDQvSlcIiwgXCJrelwiLCBcIjdcIiwgMSwgWyBcIjMzXCIsIFwiN1wiIF0gXSwgWyBcIktlbnlhXCIsIFwia2VcIiwgXCIyNTRcIiBdLCBbIFwiS2lyaWJhdGlcIiwgXCJraVwiLCBcIjY4NlwiIF0sIFsgXCJLb3Nvdm9cIiwgXCJ4a1wiLCBcIjM4M1wiIF0sIFsgXCJLdXdhaXQgKOKAq9in2YTZg9mI2YrYquKArOKAjilcIiwgXCJrd1wiLCBcIjk2NVwiIF0sIFsgXCJLeXJneXpzdGFuICjQmtGL0YDQs9GL0LfRgdGC0LDQvSlcIiwgXCJrZ1wiLCBcIjk5NlwiIF0sIFsgXCJMYW9zICjguqXgurLguqcpXCIsIFwibGFcIiwgXCI4NTZcIiBdLCBbIFwiTGF0dmlhIChMYXR2aWphKVwiLCBcImx2XCIsIFwiMzcxXCIgXSwgWyBcIkxlYmFub24gKOKAq9mE2KjZhtin2YbigKzigI4pXCIsIFwibGJcIiwgXCI5NjFcIiBdLCBbIFwiTGVzb3Rob1wiLCBcImxzXCIsIFwiMjY2XCIgXSwgWyBcIkxpYmVyaWFcIiwgXCJsclwiLCBcIjIzMVwiIF0sIFsgXCJMaWJ5YSAo4oCr2YTZitio2YrYp+KArOKAjilcIiwgXCJseVwiLCBcIjIxOFwiIF0sIFsgXCJMaWVjaHRlbnN0ZWluXCIsIFwibGlcIiwgXCI0MjNcIiBdLCBbIFwiTGl0aHVhbmlhIChMaWV0dXZhKVwiLCBcImx0XCIsIFwiMzcwXCIgXSwgWyBcIkx1eGVtYm91cmdcIiwgXCJsdVwiLCBcIjM1MlwiIF0sIFsgXCJNYWNhdSAo5r6z6ZaAKVwiLCBcIm1vXCIsIFwiODUzXCIgXSwgWyBcIk1hY2Vkb25pYSAoRllST00pICjQnNCw0LrQtdC00L7QvdC40ZjQsClcIiwgXCJta1wiLCBcIjM4OVwiIF0sIFsgXCJNYWRhZ2FzY2FyIChNYWRhZ2FzaWthcmEpXCIsIFwibWdcIiwgXCIyNjFcIiBdLCBbIFwiTWFsYXdpXCIsIFwibXdcIiwgXCIyNjVcIiBdLCBbIFwiTWFsYXlzaWFcIiwgXCJteVwiLCBcIjYwXCIgXSwgWyBcIk1hbGRpdmVzXCIsIFwibXZcIiwgXCI5NjBcIiBdLCBbIFwiTWFsaVwiLCBcIm1sXCIsIFwiMjIzXCIgXSwgWyBcIk1hbHRhXCIsIFwibXRcIiwgXCIzNTZcIiBdLCBbIFwiTWFyc2hhbGwgSXNsYW5kc1wiLCBcIm1oXCIsIFwiNjkyXCIgXSwgWyBcIk1hcnRpbmlxdWVcIiwgXCJtcVwiLCBcIjU5NlwiIF0sIFsgXCJNYXVyaXRhbmlhICjigKvZhdmI2LHZitiq2KfZhtmK2KfigKzigI4pXCIsIFwibXJcIiwgXCIyMjJcIiBdLCBbIFwiTWF1cml0aXVzIChNb3JpcylcIiwgXCJtdVwiLCBcIjIzMFwiIF0sIFsgXCJNYXlvdHRlXCIsIFwieXRcIiwgXCIyNjJcIiwgMSwgWyBcIjI2OVwiLCBcIjYzOVwiIF0gXSwgWyBcIk1leGljbyAoTcOpeGljbylcIiwgXCJteFwiLCBcIjUyXCIgXSwgWyBcIk1pY3JvbmVzaWFcIiwgXCJmbVwiLCBcIjY5MVwiIF0sIFsgXCJNb2xkb3ZhIChSZXB1YmxpY2EgTW9sZG92YSlcIiwgXCJtZFwiLCBcIjM3M1wiIF0sIFsgXCJNb25hY29cIiwgXCJtY1wiLCBcIjM3N1wiIF0sIFsgXCJNb25nb2xpYSAo0JzQvtC90LPQvtC7KVwiLCBcIm1uXCIsIFwiOTc2XCIgXSwgWyBcIk1vbnRlbmVncm8gKENybmEgR29yYSlcIiwgXCJtZVwiLCBcIjM4MlwiIF0sIFsgXCJNb250c2VycmF0XCIsIFwibXNcIiwgXCIxXCIsIDE2LCBbIFwiNjY0XCIgXSBdLCBbIFwiTW9yb2NjbyAo4oCr2KfZhNmF2LrYsdio4oCs4oCOKVwiLCBcIm1hXCIsIFwiMjEyXCIsIDAgXSwgWyBcIk1vemFtYmlxdWUgKE1vw6dhbWJpcXVlKVwiLCBcIm16XCIsIFwiMjU4XCIgXSwgWyBcIk15YW5tYXIgKEJ1cm1hKSAo4YCZ4YC84YCU4YC64YCZ4YCsKVwiLCBcIm1tXCIsIFwiOTVcIiBdLCBbIFwiTmFtaWJpYSAoTmFtaWJpw6spXCIsIFwibmFcIiwgXCIyNjRcIiBdLCBbIFwiTmF1cnVcIiwgXCJuclwiLCBcIjY3NFwiIF0sIFsgXCJOZXBhbCAo4KSo4KWH4KSq4KS+4KSyKVwiLCBcIm5wXCIsIFwiOTc3XCIgXSwgWyBcIk5ldGhlcmxhbmRzIChOZWRlcmxhbmQpXCIsIFwibmxcIiwgXCIzMVwiIF0sIFsgXCJOZXcgQ2FsZWRvbmlhIChOb3V2ZWxsZS1DYWzDqWRvbmllKVwiLCBcIm5jXCIsIFwiNjg3XCIgXSwgWyBcIk5ldyBaZWFsYW5kXCIsIFwibnpcIiwgXCI2NFwiIF0sIFsgXCJOaWNhcmFndWFcIiwgXCJuaVwiLCBcIjUwNVwiIF0sIFsgXCJOaWdlciAoTmlqYXIpXCIsIFwibmVcIiwgXCIyMjdcIiBdLCBbIFwiTmlnZXJpYVwiLCBcIm5nXCIsIFwiMjM0XCIgXSwgWyBcIk5pdWVcIiwgXCJudVwiLCBcIjY4M1wiIF0sIFsgXCJOb3Jmb2xrIElzbGFuZFwiLCBcIm5mXCIsIFwiNjcyXCIgXSwgWyBcIk5vcnRoIEtvcmVhICjsobDshKAg66+87KO87KO87J2YIOyduOuvvCDqs7XtmZTqta0pXCIsIFwia3BcIiwgXCI4NTBcIiBdLCBbIFwiTm9ydGhlcm4gTWFyaWFuYSBJc2xhbmRzXCIsIFwibXBcIiwgXCIxXCIsIDE3LCBbIFwiNjcwXCIgXSBdLCBbIFwiTm9yd2F5IChOb3JnZSlcIiwgXCJub1wiLCBcIjQ3XCIsIDAgXSwgWyBcIk9tYW4gKOKAq9i52Y/Zhdin2YbigKzigI4pXCIsIFwib21cIiwgXCI5NjhcIiBdLCBbIFwiUGFraXN0YW4gKOKAq9m+2Kfaqdiz2KrYp9mG4oCs4oCOKVwiLCBcInBrXCIsIFwiOTJcIiBdLCBbIFwiUGFsYXVcIiwgXCJwd1wiLCBcIjY4MFwiIF0sIFsgXCJQYWxlc3RpbmUgKOKAq9mB2YTYs9i32YrZhuKArOKAjilcIiwgXCJwc1wiLCBcIjk3MFwiIF0sIFsgXCJQYW5hbWEgKFBhbmFtw6EpXCIsIFwicGFcIiwgXCI1MDdcIiBdLCBbIFwiUGFwdWEgTmV3IEd1aW5lYVwiLCBcInBnXCIsIFwiNjc1XCIgXSwgWyBcIlBhcmFndWF5XCIsIFwicHlcIiwgXCI1OTVcIiBdLCBbIFwiUGVydSAoUGVyw7opXCIsIFwicGVcIiwgXCI1MVwiIF0sIFsgXCJQaGlsaXBwaW5lc1wiLCBcInBoXCIsIFwiNjNcIiBdLCBbIFwiUG9sYW5kIChQb2xza2EpXCIsIFwicGxcIiwgXCI0OFwiIF0sIFsgXCJQb3J0dWdhbFwiLCBcInB0XCIsIFwiMzUxXCIgXSwgWyBcIlB1ZXJ0byBSaWNvXCIsIFwicHJcIiwgXCIxXCIsIDMsIFsgXCI3ODdcIiwgXCI5MzlcIiBdIF0sIFsgXCJRYXRhciAo4oCr2YLYt9ix4oCs4oCOKVwiLCBcInFhXCIsIFwiOTc0XCIgXSwgWyBcIlLDqXVuaW9uIChMYSBSw6l1bmlvbilcIiwgXCJyZVwiLCBcIjI2MlwiLCAwIF0sIFsgXCJSb21hbmlhIChSb23Dom5pYSlcIiwgXCJyb1wiLCBcIjQwXCIgXSwgWyBcIlJ1c3NpYSAo0KDQvtGB0YHQuNGPKVwiLCBcInJ1XCIsIFwiN1wiLCAwIF0sIFsgXCJSd2FuZGFcIiwgXCJyd1wiLCBcIjI1MFwiIF0sIFsgXCJTYWludCBCYXJ0aMOpbGVteVwiLCBcImJsXCIsIFwiNTkwXCIsIDEgXSwgWyBcIlNhaW50IEhlbGVuYVwiLCBcInNoXCIsIFwiMjkwXCIgXSwgWyBcIlNhaW50IEtpdHRzIGFuZCBOZXZpc1wiLCBcImtuXCIsIFwiMVwiLCAxOCwgWyBcIjg2OVwiIF0gXSwgWyBcIlNhaW50IEx1Y2lhXCIsIFwibGNcIiwgXCIxXCIsIDE5LCBbIFwiNzU4XCIgXSBdLCBbIFwiU2FpbnQgTWFydGluIChTYWludC1NYXJ0aW4gKHBhcnRpZSBmcmFuw6dhaXNlKSlcIiwgXCJtZlwiLCBcIjU5MFwiLCAyIF0sIFsgXCJTYWludCBQaWVycmUgYW5kIE1pcXVlbG9uIChTYWludC1QaWVycmUtZXQtTWlxdWVsb24pXCIsIFwicG1cIiwgXCI1MDhcIiBdLCBbIFwiU2FpbnQgVmluY2VudCBhbmQgdGhlIEdyZW5hZGluZXNcIiwgXCJ2Y1wiLCBcIjFcIiwgMjAsIFsgXCI3ODRcIiBdIF0sIFsgXCJTYW1vYVwiLCBcIndzXCIsIFwiNjg1XCIgXSwgWyBcIlNhbiBNYXJpbm9cIiwgXCJzbVwiLCBcIjM3OFwiIF0sIFsgXCJTw6NvIFRvbcOpIGFuZCBQcsOtbmNpcGUgKFPDo28gVG9tw6kgZSBQcsOtbmNpcGUpXCIsIFwic3RcIiwgXCIyMzlcIiBdLCBbIFwiU2F1ZGkgQXJhYmlhICjigKvYp9mE2YXZhdmE2YPYqSDYp9mE2LnYsdio2YrYqSDYp9mE2LPYudmI2K/Zitip4oCs4oCOKVwiLCBcInNhXCIsIFwiOTY2XCIgXSwgWyBcIlNlbmVnYWwgKFPDqW7DqWdhbClcIiwgXCJzblwiLCBcIjIyMVwiIF0sIFsgXCJTZXJiaWEgKNCh0YDQsdC40ZjQsClcIiwgXCJyc1wiLCBcIjM4MVwiIF0sIFsgXCJTZXljaGVsbGVzXCIsIFwic2NcIiwgXCIyNDhcIiBdLCBbIFwiU2llcnJhIExlb25lXCIsIFwic2xcIiwgXCIyMzJcIiBdLCBbIFwiU2luZ2Fwb3JlXCIsIFwic2dcIiwgXCI2NVwiIF0sIFsgXCJTaW50IE1hYXJ0ZW5cIiwgXCJzeFwiLCBcIjFcIiwgMjEsIFsgXCI3MjFcIiBdIF0sIFsgXCJTbG92YWtpYSAoU2xvdmVuc2tvKVwiLCBcInNrXCIsIFwiNDIxXCIgXSwgWyBcIlNsb3ZlbmlhIChTbG92ZW5pamEpXCIsIFwic2lcIiwgXCIzODZcIiBdLCBbIFwiU29sb21vbiBJc2xhbmRzXCIsIFwic2JcIiwgXCI2NzdcIiBdLCBbIFwiU29tYWxpYSAoU29vbWFhbGl5YSlcIiwgXCJzb1wiLCBcIjI1MlwiIF0sIFsgXCJTb3V0aCBBZnJpY2FcIiwgXCJ6YVwiLCBcIjI3XCIgXSwgWyBcIlNvdXRoIEtvcmVhICjrjIDtlZzrr7zqta0pXCIsIFwia3JcIiwgXCI4MlwiIF0sIFsgXCJTb3V0aCBTdWRhbiAo4oCr2KzZhtmI2Kgg2KfZhNiz2YjYr9in2YbigKzigI4pXCIsIFwic3NcIiwgXCIyMTFcIiBdLCBbIFwiU3BhaW4gKEVzcGHDsWEpXCIsIFwiZXNcIiwgXCIzNFwiIF0sIFsgXCJTcmkgTGFua2EgKOC3geC3iuKAjeC2u+C3kyDgtr3gtoLgtprgt4/gt4ApXCIsIFwibGtcIiwgXCI5NFwiIF0sIFsgXCJTdWRhbiAo4oCr2KfZhNiz2YjYr9in2YbigKzigI4pXCIsIFwic2RcIiwgXCIyNDlcIiBdLCBbIFwiU3VyaW5hbWVcIiwgXCJzclwiLCBcIjU5N1wiIF0sIFsgXCJTdmFsYmFyZCBhbmQgSmFuIE1heWVuXCIsIFwic2pcIiwgXCI0N1wiLCAxLCBbIFwiNzlcIiBdIF0sIFsgXCJTd2F6aWxhbmRcIiwgXCJzelwiLCBcIjI2OFwiIF0sIFsgXCJTd2VkZW4gKFN2ZXJpZ2UpXCIsIFwic2VcIiwgXCI0NlwiIF0sIFsgXCJTd2l0emVybGFuZCAoU2Nod2VpeilcIiwgXCJjaFwiLCBcIjQxXCIgXSwgWyBcIlN5cmlhICjigKvYs9mI2LHZitin4oCs4oCOKVwiLCBcInN5XCIsIFwiOTYzXCIgXSwgWyBcIlRhaXdhbiAo5Y+w54GjKVwiLCBcInR3XCIsIFwiODg2XCIgXSwgWyBcIlRhamlraXN0YW5cIiwgXCJ0alwiLCBcIjk5MlwiIF0sIFsgXCJUYW56YW5pYVwiLCBcInR6XCIsIFwiMjU1XCIgXSwgWyBcIlRoYWlsYW5kICjguYTguJfguKIpXCIsIFwidGhcIiwgXCI2NlwiIF0sIFsgXCJUaW1vci1MZXN0ZVwiLCBcInRsXCIsIFwiNjcwXCIgXSwgWyBcIlRvZ29cIiwgXCJ0Z1wiLCBcIjIyOFwiIF0sIFsgXCJUb2tlbGF1XCIsIFwidGtcIiwgXCI2OTBcIiBdLCBbIFwiVG9uZ2FcIiwgXCJ0b1wiLCBcIjY3NlwiIF0sIFsgXCJUcmluaWRhZCBhbmQgVG9iYWdvXCIsIFwidHRcIiwgXCIxXCIsIDIyLCBbIFwiODY4XCIgXSBdLCBbIFwiVHVuaXNpYSAo4oCr2KrZiNmG2LPigKzigI4pXCIsIFwidG5cIiwgXCIyMTZcIiBdLCBbIFwiVHVya2V5IChUw7xya2l5ZSlcIiwgXCJ0clwiLCBcIjkwXCIgXSwgWyBcIlR1cmttZW5pc3RhblwiLCBcInRtXCIsIFwiOTkzXCIgXSwgWyBcIlR1cmtzIGFuZCBDYWljb3MgSXNsYW5kc1wiLCBcInRjXCIsIFwiMVwiLCAyMywgWyBcIjY0OVwiIF0gXSwgWyBcIlR1dmFsdVwiLCBcInR2XCIsIFwiNjg4XCIgXSwgWyBcIlUuUy4gVmlyZ2luIElzbGFuZHNcIiwgXCJ2aVwiLCBcIjFcIiwgMjQsIFsgXCIzNDBcIiBdIF0sIFsgXCJVZ2FuZGFcIiwgXCJ1Z1wiLCBcIjI1NlwiIF0sIFsgXCJVa3JhaW5lICjQo9C60YDQsNGX0L3QsClcIiwgXCJ1YVwiLCBcIjM4MFwiIF0sIFsgXCJVbml0ZWQgQXJhYiBFbWlyYXRlcyAo4oCr2KfZhNil2YXYp9ix2KfYqiDYp9mE2LnYsdio2YrYqSDYp9mE2YXYqtit2K/YqeKArOKAjilcIiwgXCJhZVwiLCBcIjk3MVwiIF0sIFsgXCJVbml0ZWQgS2luZ2RvbVwiLCBcImdiXCIsIFwiNDRcIiwgMCBdLCBbIFwiVW5pdGVkIFN0YXRlc1wiLCBcInVzXCIsIFwiMVwiLCAwIF0sIFsgXCJVcnVndWF5XCIsIFwidXlcIiwgXCI1OThcIiBdLCBbIFwiVXpiZWtpc3RhbiAoT8q7emJla2lzdG9uKVwiLCBcInV6XCIsIFwiOTk4XCIgXSwgWyBcIlZhbnVhdHVcIiwgXCJ2dVwiLCBcIjY3OFwiIF0sIFsgXCJWYXRpY2FuIENpdHkgKENpdHTDoCBkZWwgVmF0aWNhbm8pXCIsIFwidmFcIiwgXCIzOVwiLCAxLCBbIFwiMDY2OThcIiBdIF0sIFsgXCJWZW5lenVlbGFcIiwgXCJ2ZVwiLCBcIjU4XCIgXSwgWyBcIlZpZXRuYW0gKFZp4buHdCBOYW0pXCIsIFwidm5cIiwgXCI4NFwiIF0sIFsgXCJXYWxsaXMgYW5kIEZ1dHVuYSAoV2FsbGlzLWV0LUZ1dHVuYSlcIiwgXCJ3ZlwiLCBcIjY4MVwiIF0sIFsgXCJXZXN0ZXJuIFNhaGFyYSAo4oCr2KfZhNi12K3Ysdin2KEg2KfZhNi62LHYqNmK2KnigKzigI4pXCIsIFwiZWhcIiwgXCIyMTJcIiwgMSwgWyBcIjUyODhcIiwgXCI1Mjg5XCIgXSBdLCBbIFwiWWVtZW4gKOKAq9in2YTZitmF2YbigKzigI4pXCIsIFwieWVcIiwgXCI5NjdcIiBdLCBbIFwiWmFtYmlhXCIsIFwiem1cIiwgXCIyNjBcIiBdLCBbIFwiWmltYmFid2VcIiwgXCJ6d1wiLCBcIjI2M1wiIF0sIFsgXCLDhWxhbmQgSXNsYW5kc1wiLCBcImF4XCIsIFwiMzU4XCIsIDEsIFsgXCIxOFwiIF0gXSBdO1xuICAgIC8vIGxvb3Agb3ZlciBhbGwgb2YgdGhlIGNvdW50cmllcyBhYm92ZSwgcmVzdHJ1Y3R1cmluZyB0aGUgZGF0YSB0byBiZSBvYmplY3RzIHdpdGggbmFtZWQga2V5c1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYWxsQ291bnRyaWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgIHZhciBjID0gYWxsQ291bnRyaWVzW2ldO1xuICAgICAgICBhbGxDb3VudHJpZXNbaV0gPSB7XG4gICAgICAgICAgICBuYW1lOiBjWzBdLFxuICAgICAgICAgICAgaXNvMjogY1sxXSxcbiAgICAgICAgICAgIGRpYWxDb2RlOiBjWzJdLFxuICAgICAgICAgICAgcHJpb3JpdHk6IGNbM10gfHwgMCxcbiAgICAgICAgICAgIGFyZWFDb2RlczogY1s0XSB8fCBudWxsXG4gICAgICAgIH07XG4gICAgfVxuICAgIFwidXNlIHN0cmljdFwiO1xuICAgIGZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHtcbiAgICAgICAgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7XG4gICAgICAgIH1cbiAgICB9XG4gICAgZnVuY3Rpb24gX2RlZmluZVByb3BlcnRpZXModGFyZ2V0LCBwcm9wcykge1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHByb3BzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldO1xuICAgICAgICAgICAgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlO1xuICAgICAgICAgICAgZGVzY3JpcHRvci5jb25maWd1cmFibGUgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTtcbiAgICAgICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTtcbiAgICAgICAgfVxuICAgIH1cbiAgICBmdW5jdGlvbiBfY3JlYXRlQ2xhc3MoQ29uc3RydWN0b3IsIHByb3RvUHJvcHMsIHN0YXRpY1Byb3BzKSB7XG4gICAgICAgIGlmIChwcm90b1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvci5wcm90b3R5cGUsIHByb3RvUHJvcHMpO1xuICAgICAgICBpZiAoc3RhdGljUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLCBzdGF0aWNQcm9wcyk7XG4gICAgICAgIHJldHVybiBDb25zdHJ1Y3RvcjtcbiAgICB9XG4gICAgdmFyIGludGxUZWxJbnB1dEdsb2JhbHMgPSB7XG4gICAgICAgIGdldEluc3RhbmNlOiBmdW5jdGlvbiBnZXRJbnN0YW5jZShpbnB1dCkge1xuICAgICAgICAgICAgdmFyIGlkID0gaW5wdXQuZ2V0QXR0cmlidXRlKFwiZGF0YS1pbnRsLXRlbC1pbnB1dC1pZFwiKTtcbiAgICAgICAgICAgIHJldHVybiB3aW5kb3cuaW50bFRlbElucHV0R2xvYmFscy5pbnN0YW5jZXNbaWRdO1xuICAgICAgICB9LFxuICAgICAgICBpbnN0YW5jZXM6IHt9XG4gICAgfTtcbiAgICBpZiAodHlwZW9mIHdpbmRvdyA9PT0gXCJvYmplY3RcIikgd2luZG93LmludGxUZWxJbnB1dEdsb2JhbHMgPSBpbnRsVGVsSW5wdXRHbG9iYWxzO1xuICAgIC8vIHRoZXNlIHZhcnMgcGVyc2lzdCB0aHJvdWdoIGFsbCBpbnN0YW5jZXMgb2YgdGhlIHBsdWdpblxuICAgIHZhciBpZCA9IDA7XG4gICAgdmFyIGRlZmF1bHRzID0ge1xuICAgICAgICAvLyB3aGV0aGVyIG9yIG5vdCB0byBhbGxvdyB0aGUgZHJvcGRvd25cbiAgICAgICAgYWxsb3dEcm9wZG93bjogdHJ1ZSxcbiAgICAgICAgLy8gaWYgdGhlcmUgaXMganVzdCBhIGRpYWwgY29kZSBpbiB0aGUgaW5wdXQ6IHJlbW92ZSBpdCBvbiBibHVyXG4gICAgICAgIGF1dG9IaWRlRGlhbENvZGU6IHRydWUsXG4gICAgICAgIC8vIGFkZCBhIHBsYWNlaG9sZGVyIGluIHRoZSBpbnB1dCB3aXRoIGFuIGV4YW1wbGUgbnVtYmVyIGZvciB0aGUgc2VsZWN0ZWQgY291bnRyeVxuICAgICAgICBhdXRvUGxhY2Vob2xkZXI6IFwicG9saXRlXCIsXG4gICAgICAgIC8vIG1vZGlmeSB0aGUgcGFyZW50Q2xhc3NcbiAgICAgICAgY3VzdG9tQ29udGFpbmVyOiBcIlwiLFxuICAgICAgICAvLyBtb2RpZnkgdGhlIGF1dG8gcGxhY2Vob2xkZXJcbiAgICAgICAgY3VzdG9tUGxhY2Vob2xkZXI6IG51bGwsXG4gICAgICAgIC8vIGFwcGVuZCBtZW51IHRvIHNwZWNpZmllZCBlbGVtZW50XG4gICAgICAgIGRyb3Bkb3duQ29udGFpbmVyOiBudWxsLFxuICAgICAgICAvLyBkb24ndCBkaXNwbGF5IHRoZXNlIGNvdW50cmllc1xuICAgICAgICBleGNsdWRlQ291bnRyaWVzOiBbXSxcbiAgICAgICAgLy8gZm9ybWF0IHRoZSBpbnB1dCB2YWx1ZSBkdXJpbmcgaW5pdGlhbGlzYXRpb24gYW5kIG9uIHNldE51bWJlclxuICAgICAgICBmb3JtYXRPbkRpc3BsYXk6IHRydWUsXG4gICAgICAgIC8vIGdlb0lwIGxvb2t1cCBmdW5jdGlvblxuICAgICAgICBnZW9JcExvb2t1cDogbnVsbCxcbiAgICAgICAgLy8gaW5qZWN0IGEgaGlkZGVuIGlucHV0IHdpdGggdGhpcyBuYW1lLCBhbmQgb24gc3VibWl0LCBwb3B1bGF0ZSBpdCB3aXRoIHRoZSByZXN1bHQgb2YgZ2V0TnVtYmVyXG4gICAgICAgIGhpZGRlbklucHV0OiBcIlwiLFxuICAgICAgICAvLyBpbml0aWFsIGNvdW50cnlcbiAgICAgICAgaW5pdGlhbENvdW50cnk6IFwiXCIsXG4gICAgICAgIC8vIGxvY2FsaXplZCBjb3VudHJ5IG5hbWVzIGUuZy4geyAnZGUnOiAnRGV1dHNjaGxhbmQnIH1cbiAgICAgICAgbG9jYWxpemVkQ291bnRyaWVzOiBudWxsLFxuICAgICAgICAvLyBkb24ndCBpbnNlcnQgaW50ZXJuYXRpb25hbCBkaWFsIGNvZGVzXG4gICAgICAgIG5hdGlvbmFsTW9kZTogdHJ1ZSxcbiAgICAgICAgLy8gZGlzcGxheSBvbmx5IHRoZXNlIGNvdW50cmllc1xuICAgICAgICBvbmx5Q291bnRyaWVzOiBbXSxcbiAgICAgICAgLy8gbnVtYmVyIHR5cGUgdG8gdXNlIGZvciBwbGFjZWhvbGRlcnNcbiAgICAgICAgcGxhY2Vob2xkZXJOdW1iZXJUeXBlOiBcIk1PQklMRVwiLFxuICAgICAgICAvLyB0aGUgY291bnRyaWVzIGF0IHRoZSB0b3Agb2YgdGhlIGxpc3QuIGRlZmF1bHRzIHRvIHVuaXRlZCBzdGF0ZXMgYW5kIHVuaXRlZCBraW5nZG9tXG4gICAgICAgIHByZWZlcnJlZENvdW50cmllczogWyBcInVzXCIsIFwiZ2JcIiBdLFxuICAgICAgICAvLyBkaXNwbGF5IHRoZSBjb3VudHJ5IGRpYWwgY29kZSBuZXh0IHRvIHRoZSBzZWxlY3RlZCBmbGFnIHNvIGl0J3Mgbm90IHBhcnQgb2YgdGhlIHR5cGVkIG51bWJlclxuICAgICAgICBzZXBhcmF0ZURpYWxDb2RlOiBmYWxzZSxcbiAgICAgICAgLy8gc3BlY2lmeSB0aGUgcGF0aCB0byB0aGUgbGlicGhvbmVudW1iZXIgc2NyaXB0IHRvIGVuYWJsZSB2YWxpZGF0aW9uL2Zvcm1hdHRpbmdcbiAgICAgICAgdXRpbHNTY3JpcHQ6IFwiXCJcbiAgICB9O1xuICAgIC8vIGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0xpc3Rfb2ZfTm9ydGhfQW1lcmljYW5fTnVtYmVyaW5nX1BsYW5fYXJlYV9jb2RlcyNOb24tZ2VvZ3JhcGhpY19hcmVhX2NvZGVzXG4gICAgdmFyIHJlZ2lvbmxlc3NOYW5wTnVtYmVycyA9IFsgXCI4MDBcIiwgXCI4MjJcIiwgXCI4MzNcIiwgXCI4NDRcIiwgXCI4NTVcIiwgXCI4NjZcIiwgXCI4NzdcIiwgXCI4ODBcIiwgXCI4ODFcIiwgXCI4ODJcIiwgXCI4ODNcIiwgXCI4ODRcIiwgXCI4ODVcIiwgXCI4ODZcIiwgXCI4ODdcIiwgXCI4ODhcIiwgXCI4ODlcIiBdO1xuICAgIGlmICh0eXBlb2Ygd2luZG93ID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgIC8vIGtlZXAgdHJhY2sgb2YgaWYgdGhlIHdpbmRvdy5sb2FkIGV2ZW50IGhhcyBmaXJlZCBhcyBpbXBvc3NpYmxlIHRvIGNoZWNrIGFmdGVyIHRoZSBmYWN0XG4gICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibG9hZFwiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIC8vIFVQREFURTogdXNlIGEgcHVibGljIHN0YXRpYyBmaWVsZCBzbyB3ZSBjYW4gZnVkZ2UgaXQgaW4gdGhlIHRlc3RzXG4gICAgICAgICAgICB3aW5kb3cuaW50bFRlbElucHV0R2xvYmFscy53aW5kb3dMb2FkZWQgPSB0cnVlO1xuICAgICAgICB9KTtcbiAgICB9XG4gICAgLy8gdXRpbGl0eSBmdW5jdGlvbiB0byBpdGVyYXRlIG92ZXIgYW4gb2JqZWN0LiBjYW4ndCB1c2UgT2JqZWN0LmVudHJpZXMgb3IgbmF0aXZlIGZvckVhY2ggYmVjYXVzZVxuICAgIC8vIG9mIElFMTFcbiAgICB2YXIgZm9yRWFjaFByb3AgPSBmdW5jdGlvbiBmb3JFYWNoUHJvcChvYmosIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciBrZXlzID0gT2JqZWN0LmtleXMob2JqKTtcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBrZXlzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjYWxsYmFjayhrZXlzW2ldLCBvYmpba2V5c1tpXV0pO1xuICAgICAgICB9XG4gICAgfTtcbiAgICAvLyBydW4gYSBtZXRob2Qgb24gZWFjaCBpbnN0YW5jZSBvZiB0aGUgcGx1Z2luXG4gICAgdmFyIGZvckVhY2hJbnN0YW5jZSA9IGZ1bmN0aW9uIGZvckVhY2hJbnN0YW5jZShtZXRob2QpIHtcbiAgICAgICAgZm9yRWFjaFByb3Aod2luZG93LmludGxUZWxJbnB1dEdsb2JhbHMuaW5zdGFuY2VzLCBmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgICAgIHdpbmRvdy5pbnRsVGVsSW5wdXRHbG9iYWxzLmluc3RhbmNlc1trZXldW21ldGhvZF0oKTtcbiAgICAgICAgfSk7XG4gICAgfTtcbiAgICAvLyB0aGlzIGlzIG91ciBwbHVnaW4gY2xhc3MgdGhhdCB3ZSB3aWxsIGNyZWF0ZSBhbiBpbnN0YW5jZSBvZlxuICAgIC8vIGVzbGludC1kaXNhYmxlLW5leHQtbGluZSBuby11bnVzZWQtdmFyc1xuICAgIHZhciBJdGkgPSAvKiNfX1BVUkVfXyovXG4gICAgZnVuY3Rpb24oKSB7XG4gICAgICAgIGZ1bmN0aW9uIEl0aShpbnB1dCwgb3B0aW9ucykge1xuICAgICAgICAgICAgdmFyIF90aGlzID0gdGhpcztcbiAgICAgICAgICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBJdGkpO1xuICAgICAgICAgICAgdGhpcy5pZCA9IGlkKys7XG4gICAgICAgICAgICB0aGlzLnRlbElucHV0ID0gaW5wdXQ7XG4gICAgICAgICAgICB0aGlzLmFjdGl2ZUl0ZW0gPSBudWxsO1xuICAgICAgICAgICAgdGhpcy5oaWdobGlnaHRlZEl0ZW0gPSBudWxsO1xuICAgICAgICAgICAgLy8gcHJvY2VzcyBzcGVjaWZpZWQgb3B0aW9ucyAvIGRlZmF1bHRzXG4gICAgICAgICAgICAvLyBhbHRlcm5hdGl2ZSB0byBPYmplY3QuYXNzaWduLCB3aGljaCBpc24ndCBzdXBwb3J0ZWQgYnkgSUUxMVxuICAgICAgICAgICAgdmFyIGN1c3RvbU9wdGlvbnMgPSBvcHRpb25zIHx8IHt9O1xuICAgICAgICAgICAgdGhpcy5vcHRpb25zID0ge307XG4gICAgICAgICAgICBmb3JFYWNoUHJvcChkZWZhdWx0cywgZnVuY3Rpb24oa2V5LCB2YWx1ZSkge1xuICAgICAgICAgICAgICAgIF90aGlzLm9wdGlvbnNba2V5XSA9IGN1c3RvbU9wdGlvbnMuaGFzT3duUHJvcGVydHkoa2V5KSA/IGN1c3RvbU9wdGlvbnNba2V5XSA6IHZhbHVlO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0aGlzLmhhZEluaXRpYWxQbGFjZWhvbGRlciA9IEJvb2xlYW4oaW5wdXQuZ2V0QXR0cmlidXRlKFwicGxhY2Vob2xkZXJcIikpO1xuICAgICAgICB9XG4gICAgICAgIF9jcmVhdGVDbGFzcyhJdGksIFsge1xuICAgICAgICAgICAga2V5OiBcIl9pbml0XCIsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gX2luaXQoKSB7XG4gICAgICAgICAgICAgICAgdmFyIF90aGlzMiA9IHRoaXM7XG4gICAgICAgICAgICAgICAgLy8gaWYgaW4gbmF0aW9uYWxNb2RlLCBkaXNhYmxlIG9wdGlvbnMgcmVsYXRpbmcgdG8gZGlhbCBjb2Rlc1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMubmF0aW9uYWxNb2RlKSB0aGlzLm9wdGlvbnMuYXV0b0hpZGVEaWFsQ29kZSA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIC8vIGlmIHNlcGFyYXRlRGlhbENvZGUgdGhlbiBkb2Vzbid0IG1ha2Ugc2Vuc2UgdG8gQSkgaW5zZXJ0IGRpYWwgY29kZSBpbnRvIGlucHV0XG4gICAgICAgICAgICAgICAgLy8gKGF1dG9IaWRlRGlhbENvZGUpLCBhbmQgQikgZGlzcGxheSBuYXRpb25hbCBudW1iZXJzIChiZWNhdXNlIHdlJ3JlIGRpc3BsYXlpbmcgdGhlIGNvdW50cnlcbiAgICAgICAgICAgICAgICAvLyBkaWFsIGNvZGUgbmV4dCB0byB0aGVtKVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuc2VwYXJhdGVEaWFsQ29kZSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMuYXV0b0hpZGVEaWFsQ29kZSA9IHRoaXMub3B0aW9ucy5uYXRpb25hbE1vZGUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gd2UgY2Fubm90IGp1c3QgdGVzdCBzY3JlZW4gc2l6ZSBhcyBzb21lIHNtYXJ0cGhvbmVzL3dlYnNpdGUgbWV0YSB0YWdzIHdpbGwgcmVwb3J0IGRlc2t0b3BcbiAgICAgICAgICAgICAgICAvLyByZXNvbHV0aW9uc1xuICAgICAgICAgICAgICAgIC8vIE5vdGU6IGZvciBzb21lIHJlYXNvbiBqYXNtaW5lIGJyZWFrcyBpZiB5b3UgcHV0IHRoaXMgaW4gdGhlIG1haW4gUGx1Z2luIGZ1bmN0aW9uIHdpdGggdGhlXG4gICAgICAgICAgICAgICAgLy8gcmVzdCBvZiB0aGVzZSBkZWNsYXJhdGlvbnNcbiAgICAgICAgICAgICAgICAvLyBOb3RlOiB0byB0YXJnZXQgQW5kcm9pZCBNb2JpbGVzIChhbmQgbm90IFRhYmxldHMpLCB3ZSBtdXN0IGZpbmQgJ0FuZHJvaWQnIGFuZCAnTW9iaWxlJ1xuICAgICAgICAgICAgICAgIHRoaXMuaXNNb2JpbGUgPSAvQW5kcm9pZC4rTW9iaWxlfHdlYk9TfGlQaG9uZXxpUG9kfEJsYWNrQmVycnl8SUVNb2JpbGV8T3BlcmEgTWluaS9pLnRlc3QobmF2aWdhdG9yLnVzZXJBZ2VudCk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaXNNb2JpbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gdHJpZ2dlciB0aGUgbW9iaWxlIGRyb3Bkb3duIGNzc1xuICAgICAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmNsYXNzTGlzdC5hZGQoXCJpdGktbW9iaWxlXCIpO1xuICAgICAgICAgICAgICAgICAgICAvLyBvbiBtb2JpbGUsIHdlIHdhbnQgYSBmdWxsIHNjcmVlbiBkcm9wZG93biwgc28gd2UgbXVzdCBhcHBlbmQgaXQgdG8gdGhlIGJvZHlcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF0aGlzLm9wdGlvbnMuZHJvcGRvd25Db250YWluZXIpIHRoaXMub3B0aW9ucy5kcm9wZG93bkNvbnRhaW5lciA9IGRvY3VtZW50LmJvZHk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIHRoZXNlIHByb21pc2VzIGdldCByZXNvbHZlZCB3aGVuIHRoZWlyIGluZGl2aWR1YWwgcmVxdWVzdHMgY29tcGxldGVcbiAgICAgICAgICAgICAgICAvLyB0aGlzIHdheSB0aGUgZGV2IGNhbiBkbyBzb21ldGhpbmcgbGlrZSBpdGkucHJvbWlzZS50aGVuKC4uLikgdG8ga25vdyB3aGVuIGFsbCByZXF1ZXN0cyBhcmVcbiAgICAgICAgICAgICAgICAvLyBjb21wbGV0ZVxuICAgICAgICAgICAgICAgIGlmICh0eXBlb2YgUHJvbWlzZSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgICAgICAgICB2YXIgYXV0b0NvdW50cnlQcm9taXNlID0gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSwgcmVqZWN0KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIucmVzb2x2ZUF1dG9Db3VudHJ5UHJvbWlzZSA9IHJlc29sdmU7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpczIucmVqZWN0QXV0b0NvdW50cnlQcm9taXNlID0gcmVqZWN0O1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHV0aWxzU2NyaXB0UHJvbWlzZSA9IG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUsIHJlamVjdCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLnJlc29sdmVVdGlsc1NjcmlwdFByb21pc2UgPSByZXNvbHZlO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXMyLnJlamVjdFV0aWxzU2NyaXB0UHJvbWlzZSA9IHJlamVjdDtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucHJvbWlzZSA9IFByb21pc2UuYWxsKFsgYXV0b0NvdW50cnlQcm9taXNlLCB1dGlsc1NjcmlwdFByb21pc2UgXSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gcHJldmVudCBlcnJvcnMgd2hlbiBQcm9taXNlIGRvZXNuJ3QgZXhpc3RcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZXNvbHZlQXV0b0NvdW50cnlQcm9taXNlID0gdGhpcy5yZWplY3RBdXRvQ291bnRyeVByb21pc2UgPSBmdW5jdGlvbigpIHt9O1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlc29sdmVVdGlsc1NjcmlwdFByb21pc2UgPSB0aGlzLnJlamVjdFV0aWxzU2NyaXB0UHJvbWlzZSA9IGZ1bmN0aW9uKCkge307XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGluIHZhcmlvdXMgc2l0dWF0aW9ucyB0aGVyZSBjb3VsZCBiZSBubyBjb3VudHJ5IHNlbGVjdGVkIGluaXRpYWxseSwgYnV0IHdlIG5lZWQgdG8gYmUgYWJsZVxuICAgICAgICAgICAgICAgIC8vIHRvIGFzc3VtZSB0aGlzIHZhcmlhYmxlIGV4aXN0c1xuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRDb3VudHJ5RGF0YSA9IHt9O1xuICAgICAgICAgICAgICAgIC8vIHByb2Nlc3MgYWxsIHRoZSBkYXRhOiBvbmx5Q291bnRyaWVzLCBleGNsdWRlQ291bnRyaWVzLCBwcmVmZXJyZWRDb3VudHJpZXMgZXRjXG4gICAgICAgICAgICAgICAgdGhpcy5fcHJvY2Vzc0NvdW50cnlEYXRhKCk7XG4gICAgICAgICAgICAgICAgLy8gZ2VuZXJhdGUgdGhlIG1hcmt1cFxuICAgICAgICAgICAgICAgIHRoaXMuX2dlbmVyYXRlTWFya3VwKCk7XG4gICAgICAgICAgICAgICAgLy8gc2V0IHRoZSBpbml0aWFsIHN0YXRlIG9mIHRoZSBpbnB1dCB2YWx1ZSBhbmQgdGhlIHNlbGVjdGVkIGZsYWdcbiAgICAgICAgICAgICAgICB0aGlzLl9zZXRJbml0aWFsU3RhdGUoKTtcbiAgICAgICAgICAgICAgICAvLyBzdGFydCBhbGwgb2YgdGhlIGV2ZW50IGxpc3RlbmVyczogYXV0b0hpZGVEaWFsQ29kZSwgaW5wdXQga2V5ZG93biwgc2VsZWN0ZWRGbGFnIGNsaWNrXG4gICAgICAgICAgICAgICAgdGhpcy5faW5pdExpc3RlbmVycygpO1xuICAgICAgICAgICAgICAgIC8vIHV0aWxzIHNjcmlwdCwgYW5kIGF1dG8gY291bnRyeVxuICAgICAgICAgICAgICAgIHRoaXMuX2luaXRSZXF1ZXN0cygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6IFwiX3Byb2Nlc3NDb3VudHJ5RGF0YVwiLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9wcm9jZXNzQ291bnRyeURhdGEoKSB7XG4gICAgICAgICAgICAgICAgLy8gcHJvY2VzcyBvbmx5Q291bnRyaWVzIG9yIGV4Y2x1ZGVDb3VudHJpZXMgYXJyYXkgaWYgcHJlc2VudFxuICAgICAgICAgICAgICAgIHRoaXMuX3Byb2Nlc3NBbGxDb3VudHJpZXMoKTtcbiAgICAgICAgICAgICAgICAvLyBwcm9jZXNzIHRoZSBjb3VudHJ5Q29kZXMgbWFwXG4gICAgICAgICAgICAgICAgdGhpcy5fcHJvY2Vzc0NvdW50cnlDb2RlcygpO1xuICAgICAgICAgICAgICAgIC8vIHByb2Nlc3MgdGhlIHByZWZlcnJlZENvdW50cmllc1xuICAgICAgICAgICAgICAgIHRoaXMuX3Byb2Nlc3NQcmVmZXJyZWRDb3VudHJpZXMoKTtcbiAgICAgICAgICAgICAgICAvLyB0cmFuc2xhdGUgY291bnRyaWVzIGFjY29yZGluZyB0byBsb2NhbGl6ZWRDb3VudHJpZXMgb3B0aW9uXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5sb2NhbGl6ZWRDb3VudHJpZXMpIHRoaXMuX3RyYW5zbGF0ZUNvdW50cmllc0J5TG9jYWxlKCk7XG4gICAgICAgICAgICAgICAgLy8gc29ydCBjb3VudHJpZXMgYnkgbmFtZVxuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMub25seUNvdW50cmllcy5sZW5ndGggfHwgdGhpcy5vcHRpb25zLmxvY2FsaXplZENvdW50cmllcykge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvdW50cmllcy5zb3J0KHRoaXMuX2NvdW50cnlOYW1lU29ydCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6IFwiX2FkZENvdW50cnlDb2RlXCIsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gX2FkZENvdW50cnlDb2RlKGlzbzIsIGNvdW50cnlDb2RlLCBwcmlvcml0eSkge1xuICAgICAgICAgICAgICAgIGlmIChjb3VudHJ5Q29kZS5sZW5ndGggPiB0aGlzLmNvdW50cnlDb2RlTWF4TGVuKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY291bnRyeUNvZGVNYXhMZW4gPSBjb3VudHJ5Q29kZS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5jb3VudHJ5Q29kZXMuaGFzT3duUHJvcGVydHkoY291bnRyeUNvZGUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY291bnRyeUNvZGVzW2NvdW50cnlDb2RlXSA9IFtdO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBiYWlsIGlmIHdlIGFscmVhZHkgaGF2ZSB0aGlzIGNvdW50cnkgZm9yIHRoaXMgY291bnRyeUNvZGVcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuY291bnRyeUNvZGVzW2NvdW50cnlDb2RlXS5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jb3VudHJ5Q29kZXNbY291bnRyeUNvZGVdW2ldID09PSBpc28yKSByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIGNoZWNrIGZvciB1bmRlZmluZWQgYXMgMCBpcyBmYWxzeVxuICAgICAgICAgICAgICAgIHZhciBpbmRleCA9IHByaW9yaXR5ICE9PSB1bmRlZmluZWQgPyBwcmlvcml0eSA6IHRoaXMuY291bnRyeUNvZGVzW2NvdW50cnlDb2RlXS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgdGhpcy5jb3VudHJ5Q29kZXNbY291bnRyeUNvZGVdW2luZGV4XSA9IGlzbzI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogXCJfcHJvY2Vzc0FsbENvdW50cmllc1wiLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9wcm9jZXNzQWxsQ291bnRyaWVzKCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMub25seUNvdW50cmllcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxvd2VyQ2FzZU9ubHlDb3VudHJpZXMgPSB0aGlzLm9wdGlvbnMub25seUNvdW50cmllcy5tYXAoZnVuY3Rpb24oY291bnRyeSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvdW50cnkudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY291bnRyaWVzID0gYWxsQ291bnRyaWVzLmZpbHRlcihmdW5jdGlvbihjb3VudHJ5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbG93ZXJDYXNlT25seUNvdW50cmllcy5pbmRleE9mKGNvdW50cnkuaXNvMikgPiAtMTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0aGlzLm9wdGlvbnMuZXhjbHVkZUNvdW50cmllcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxvd2VyQ2FzZUV4Y2x1ZGVDb3VudHJpZXMgPSB0aGlzLm9wdGlvbnMuZXhjbHVkZUNvdW50cmllcy5tYXAoZnVuY3Rpb24oY291bnRyeSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvdW50cnkudG9Mb3dlckNhc2UoKTtcbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY291bnRyaWVzID0gYWxsQ291bnRyaWVzLmZpbHRlcihmdW5jdGlvbihjb3VudHJ5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gbG93ZXJDYXNlRXhjbHVkZUNvdW50cmllcy5pbmRleE9mKGNvdW50cnkuaXNvMikgPT09IC0xO1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvdW50cmllcyA9IGFsbENvdW50cmllcztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogXCJfdHJhbnNsYXRlQ291bnRyaWVzQnlMb2NhbGVcIixcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBfdHJhbnNsYXRlQ291bnRyaWVzQnlMb2NhbGUoKSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmNvdW50cmllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaXNvID0gdGhpcy5jb3VudHJpZXNbaV0uaXNvMi50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmxvY2FsaXplZENvdW50cmllcy5oYXNPd25Qcm9wZXJ0eShpc28pKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNvdW50cmllc1tpXS5uYW1lID0gdGhpcy5vcHRpb25zLmxvY2FsaXplZENvdW50cmllc1tpc29dO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6IFwiX2NvdW50cnlOYW1lU29ydFwiLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9jb3VudHJ5TmFtZVNvcnQoYSwgYikge1xuICAgICAgICAgICAgICAgIHJldHVybiBhLm5hbWUubG9jYWxlQ29tcGFyZShiLm5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6IFwiX3Byb2Nlc3NDb3VudHJ5Q29kZXNcIixcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBfcHJvY2Vzc0NvdW50cnlDb2RlcygpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvdW50cnlDb2RlTWF4TGVuID0gMDtcbiAgICAgICAgICAgICAgICAvLyBoZXJlIHdlIHN0b3JlIGp1c3QgZGlhbCBjb2Rlc1xuICAgICAgICAgICAgICAgIHRoaXMuZGlhbENvZGVzID0ge307XG4gICAgICAgICAgICAgICAgLy8gaGVyZSB3ZSBzdG9yZSBcImNvdW50cnkgY29kZXNcIiAoYm90aCBkaWFsIGNvZGVzIGFuZCB0aGVpciBhcmVhIGNvZGVzKVxuICAgICAgICAgICAgICAgIHRoaXMuY291bnRyeUNvZGVzID0ge307XG4gICAgICAgICAgICAgICAgLy8gZmlyc3Q6IGFkZCBkaWFsIGNvZGVzXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmNvdW50cmllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgYyA9IHRoaXMuY291bnRyaWVzW2ldO1xuICAgICAgICAgICAgICAgICAgICBpZiAoIXRoaXMuZGlhbENvZGVzW2MuZGlhbENvZGVdKSB0aGlzLmRpYWxDb2Rlc1tjLmRpYWxDb2RlXSA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2FkZENvdW50cnlDb2RlKGMuaXNvMiwgYy5kaWFsQ29kZSwgYy5wcmlvcml0eSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIG5leHQ6IGFkZCBhcmVhIGNvZGVzXG4gICAgICAgICAgICAgICAgLy8gdGhpcyBpcyBhIHNlY29uZCBsb29wIG92ZXIgY291bnRyaWVzLCB0byBtYWtlIHN1cmUgd2UgaGF2ZSBhbGwgb2YgdGhlIFwicm9vdFwiIGNvdW50cmllc1xuICAgICAgICAgICAgICAgIC8vIGFscmVhZHkgaW4gdGhlIG1hcCwgc28gdGhhdCB3ZSBjYW4gYWNjZXNzIHRoZW0sIGFzIGVhY2ggdGltZSB3ZSBhZGQgYW4gYXJlYSBjb2RlIHN1YnN0cmluZ1xuICAgICAgICAgICAgICAgIC8vIHRvIHRoZSBtYXAsIHdlIGFsc28gbmVlZCB0byBpbmNsdWRlIHRoZSBcInJvb3RcIiBjb3VudHJ5J3MgY29kZSwgYXMgdGhhdCBhbHNvIG1hdGNoZXNcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgdGhpcy5jb3VudHJpZXMubGVuZ3RoOyBfaSsrKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBfYyA9IHRoaXMuY291bnRyaWVzW19pXTtcbiAgICAgICAgICAgICAgICAgICAgLy8gYXJlYSBjb2Rlc1xuICAgICAgICAgICAgICAgICAgICBpZiAoX2MuYXJlYUNvZGVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgcm9vdENvdW50cnlDb2RlID0gdGhpcy5jb3VudHJ5Q29kZXNbX2MuZGlhbENvZGVdWzBdO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZm9yIGVhY2ggYXJlYSBjb2RlXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IF9jLmFyZWFDb2Rlcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBhcmVhQ29kZSA9IF9jLmFyZWFDb2Rlc1tqXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBmb3IgZWFjaCBkaWdpdCBpbiB0aGUgYXJlYSBjb2RlIHRvIGFkZCBhbGwgcGFydGlhbCBtYXRjaGVzIGFzIHdlbGxcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBrID0gMTsgayA8IGFyZWFDb2RlLmxlbmd0aDsgaysrKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciBwYXJ0aWFsRGlhbENvZGUgPSBfYy5kaWFsQ29kZSArIGFyZWFDb2RlLnN1YnN0cigwLCBrKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc3RhcnQgd2l0aCB0aGUgcm9vdCBjb3VudHJ5LCBhcyB0aGF0IGFsc28gbWF0Y2hlcyB0aGlzIGRpYWwgY29kZVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9hZGRDb3VudHJ5Q29kZShyb290Q291bnRyeUNvZGUsIHBhcnRpYWxEaWFsQ29kZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuX2FkZENvdW50cnlDb2RlKF9jLmlzbzIsIHBhcnRpYWxEaWFsQ29kZSk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIGFkZCB0aGUgZnVsbCBhcmVhIGNvZGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9hZGRDb3VudHJ5Q29kZShfYy5pc28yLCBfYy5kaWFsQ29kZSArIGFyZWFDb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiBcIl9wcm9jZXNzUHJlZmVycmVkQ291bnRyaWVzXCIsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gX3Byb2Nlc3NQcmVmZXJyZWRDb3VudHJpZXMoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5wcmVmZXJyZWRDb3VudHJpZXMgPSBbXTtcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMub3B0aW9ucy5wcmVmZXJyZWRDb3VudHJpZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvdW50cnlDb2RlID0gdGhpcy5vcHRpb25zLnByZWZlcnJlZENvdW50cmllc1tpXS50b0xvd2VyQ2FzZSgpO1xuICAgICAgICAgICAgICAgICAgICB2YXIgY291bnRyeURhdGEgPSB0aGlzLl9nZXRDb3VudHJ5RGF0YShjb3VudHJ5Q29kZSwgZmFsc2UsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAoY291bnRyeURhdGEpIHRoaXMucHJlZmVycmVkQ291bnRyaWVzLnB1c2goY291bnRyeURhdGEpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiBcIl9jcmVhdGVFbFwiLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9jcmVhdGVFbChuYW1lLCBhdHRycywgY29udGFpbmVyKSB7XG4gICAgICAgICAgICAgICAgdmFyIGVsID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChuYW1lKTtcbiAgICAgICAgICAgICAgICBpZiAoYXR0cnMpIGZvckVhY2hQcm9wKGF0dHJzLCBmdW5jdGlvbihrZXksIHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBlbC5zZXRBdHRyaWJ1dGUoa2V5LCB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgaWYgKGNvbnRhaW5lcikgY29udGFpbmVyLmFwcGVuZENoaWxkKGVsKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gZWw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogXCJfZ2VuZXJhdGVNYXJrdXBcIixcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBfZ2VuZXJhdGVNYXJrdXAoKSB7XG4gICAgICAgICAgICAgICAgLy8gaWYgYXV0b2NvbXBsZXRlIGRvZXMgbm90IGV4aXN0IG9uIHRoZSBlbGVtZW50IGFuZCBpdHMgZm9ybSwgdGhlblxuICAgICAgICAgICAgICAgIC8vIHByZXZlbnQgYXV0b2NvbXBsZXRlIGFzIHRoZXJlJ3Mgbm8gc2FmZSwgY3Jvc3MtYnJvd3NlciBldmVudCB3ZSBjYW4gcmVhY3QgdG8sIHNvIGl0IGNhblxuICAgICAgICAgICAgICAgIC8vIGVhc2lseSBwdXQgdGhlIHBsdWdpbiBpbiBhbiBpbmNvbnNpc3RlbnQgc3RhdGUgZS5nLiB0aGUgd3JvbmcgZmxhZyBzZWxlY3RlZCBmb3IgdGhlXG4gICAgICAgICAgICAgICAgLy8gYXV0b2NvbXBsZXRlZCBudW1iZXIsIHdoaWNoIG9uIHN1Ym1pdCBjb3VsZCBtZWFuIHdyb25nIG51bWJlciBpcyBzYXZlZCAoZXNwIGluIG5hdGlvbmFsTW9kZSlcbiAgICAgICAgICAgICAgICBpZiAoIXRoaXMudGVsSW5wdXQuaGFzQXR0cmlidXRlKFwiYXV0b2NvbXBsZXRlXCIpICYmICEodGhpcy50ZWxJbnB1dC5mb3JtICYmIHRoaXMudGVsSW5wdXQuZm9ybS5oYXNBdHRyaWJ1dGUoXCJhdXRvY29tcGxldGVcIikpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGVsSW5wdXQuc2V0QXR0cmlidXRlKFwiYXV0b2NvbXBsZXRlXCIsIFwib2ZmXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBjb250YWluZXJzIChtb3N0bHkgZm9yIHBvc2l0aW9uaW5nKVxuICAgICAgICAgICAgICAgIHZhciBwYXJlbnRDbGFzcyA9IFwiaXRpXCI7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5hbGxvd0Ryb3Bkb3duKSBwYXJlbnRDbGFzcyArPSBcIiBpdGktLWFsbG93LWRyb3Bkb3duXCI7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zZXBhcmF0ZURpYWxDb2RlKSBwYXJlbnRDbGFzcyArPSBcIiBpdGktLXNlcGFyYXRlLWRpYWwtY29kZVwiO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuY3VzdG9tQ29udGFpbmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHBhcmVudENsYXNzICs9IFwiIFwiO1xuICAgICAgICAgICAgICAgICAgICBwYXJlbnRDbGFzcyArPSB0aGlzLm9wdGlvbnMuY3VzdG9tQ29udGFpbmVyO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB2YXIgd3JhcHBlciA9IHRoaXMuX2NyZWF0ZUVsKFwiZGl2XCIsIHtcbiAgICAgICAgICAgICAgICAgICAgXCJjbGFzc1wiOiBwYXJlbnRDbGFzc1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIHRoaXMudGVsSW5wdXQucGFyZW50Tm9kZS5pbnNlcnRCZWZvcmUod3JhcHBlciwgdGhpcy50ZWxJbnB1dCk7XG4gICAgICAgICAgICAgICAgdGhpcy5mbGFnc0NvbnRhaW5lciA9IHRoaXMuX2NyZWF0ZUVsKFwiZGl2XCIsIHtcbiAgICAgICAgICAgICAgICAgICAgXCJjbGFzc1wiOiBcIml0aV9fZmxhZy1jb250YWluZXJcIlxuICAgICAgICAgICAgICAgIH0sIHdyYXBwZXIpO1xuICAgICAgICAgICAgICAgIHdyYXBwZXIuYXBwZW5kQ2hpbGQodGhpcy50ZWxJbnB1dCk7XG4gICAgICAgICAgICAgICAgLy8gc2VsZWN0ZWQgZmxhZyAoZGlzcGxheWVkIHRvIGxlZnQgb2YgaW5wdXQpXG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEZsYWcgPSB0aGlzLl9jcmVhdGVFbChcImRpdlwiLCB7XG4gICAgICAgICAgICAgICAgICAgIFwiY2xhc3NcIjogXCJpdGlfX3NlbGVjdGVkLWZsYWdcIixcbiAgICAgICAgICAgICAgICAgICAgcm9sZTogXCJjb21ib2JveFwiLFxuICAgICAgICAgICAgICAgICAgICBcImFyaWEtb3duc1wiOiBcIml0aS1cIi5jb25jYXQodGhpcy5pZCwgXCJfX2NvdW50cnktbGlzdGJveFwiKSxcbiAgICAgICAgICAgICAgICAgICAgXCJhcmlhLWV4cGFuZGVkXCI6IFwiZmFsc2VcIlxuICAgICAgICAgICAgICAgIH0sIHRoaXMuZmxhZ3NDb250YWluZXIpO1xuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRGbGFnSW5uZXIgPSB0aGlzLl9jcmVhdGVFbChcImRpdlwiLCB7XG4gICAgICAgICAgICAgICAgICAgIFwiY2xhc3NcIjogXCJpdGlfX2ZsYWdcIlxuICAgICAgICAgICAgICAgIH0sIHRoaXMuc2VsZWN0ZWRGbGFnKTtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNlcGFyYXRlRGlhbENvZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZERpYWxDb2RlID0gdGhpcy5fY3JlYXRlRWwoXCJkaXZcIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgXCJjbGFzc1wiOiBcIml0aV9fc2VsZWN0ZWQtZGlhbC1jb2RlXCJcbiAgICAgICAgICAgICAgICAgICAgfSwgdGhpcy5zZWxlY3RlZEZsYWcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmFsbG93RHJvcGRvd24pIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gbWFrZSBlbGVtZW50IGZvY3VzYWJsZSBhbmQgdGFiIG5hdmlnYWJsZVxuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkRmxhZy5zZXRBdHRyaWJ1dGUoXCJ0YWJpbmRleFwiLCBcIjBcIik7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZHJvcGRvd25BcnJvdyA9IHRoaXMuX2NyZWF0ZUVsKFwiZGl2XCIsIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIFwiY2xhc3NcIjogXCJpdGlfX2Fycm93XCJcbiAgICAgICAgICAgICAgICAgICAgfSwgdGhpcy5zZWxlY3RlZEZsYWcpO1xuICAgICAgICAgICAgICAgICAgICAvLyBjb3VudHJ5IGRyb3Bkb3duOiBwcmVmZXJyZWQgY291bnRyaWVzLCB0aGVuIGRpdmlkZXIsIHRoZW4gYWxsIGNvdW50cmllc1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmNvdW50cnlMaXN0ID0gdGhpcy5fY3JlYXRlRWwoXCJ1bFwiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICBcImNsYXNzXCI6IFwiaXRpX19jb3VudHJ5LWxpc3QgaXRpX19oaWRlXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICBpZDogXCJpdGktXCIuY29uY2F0KHRoaXMuaWQsIFwiX19jb3VudHJ5LWxpc3Rib3hcIiksXG4gICAgICAgICAgICAgICAgICAgICAgICByb2xlOiBcImxpc3Rib3hcIlxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMucHJlZmVycmVkQ291bnRyaWVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fYXBwZW5kTGlzdEl0ZW1zKHRoaXMucHJlZmVycmVkQ291bnRyaWVzLCBcIml0aV9fcHJlZmVycmVkXCIsIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fY3JlYXRlRWwoXCJsaVwiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJjbGFzc1wiOiBcIml0aV9fZGl2aWRlclwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJvbGU6IFwic2VwYXJhdG9yXCIsXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgXCJhcmlhLWRpc2FibGVkXCI6IFwidHJ1ZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCB0aGlzLmNvdW50cnlMaXN0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9hcHBlbmRMaXN0SXRlbXModGhpcy5jb3VudHJpZXMsIFwiaXRpX19zdGFuZGFyZFwiKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gY3JlYXRlIGRyb3Bkb3duQ29udGFpbmVyIG1hcmt1cFxuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmRyb3Bkb3duQ29udGFpbmVyKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRyb3Bkb3duID0gdGhpcy5fY3JlYXRlRWwoXCJkaXZcIiwge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIFwiY2xhc3NcIjogXCJpdGkgaXRpLS1jb250YWluZXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRyb3Bkb3duLmFwcGVuZENoaWxkKHRoaXMuY291bnRyeUxpc3QpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mbGFnc0NvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLmNvdW50cnlMaXN0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmhpZGRlbklucHV0KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBoaWRkZW5JbnB1dE5hbWUgPSB0aGlzLm9wdGlvbnMuaGlkZGVuSW5wdXQ7XG4gICAgICAgICAgICAgICAgICAgIHZhciBuYW1lID0gdGhpcy50ZWxJbnB1dC5nZXRBdHRyaWJ1dGUoXCJuYW1lXCIpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobmFtZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIGkgPSBuYW1lLmxhc3RJbmRleE9mKFwiW1wiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIGlucHV0IG5hbWUgY29udGFpbnMgc3F1YXJlIGJyYWNrZXRzLCB0aGVuIGdpdmUgdGhlIGhpZGRlbiBpbnB1dCB0aGUgc2FtZSBuYW1lLFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmVwbGFjaW5nIHRoZSBjb250ZW50cyBvZiB0aGUgbGFzdCBzZXQgb2YgYnJhY2tldHMgd2l0aCB0aGUgZ2l2ZW4gaGlkZGVuSW5wdXQgbmFtZVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGkgIT09IC0xKSBoaWRkZW5JbnB1dE5hbWUgPSBcIlwiLmNvbmNhdChuYW1lLnN1YnN0cigwLCBpKSwgXCJbXCIpLmNvbmNhdChoaWRkZW5JbnB1dE5hbWUsIFwiXVwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmhpZGRlbklucHV0ID0gdGhpcy5fY3JlYXRlRWwoXCJpbnB1dFwiLCB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0eXBlOiBcImhpZGRlblwiLFxuICAgICAgICAgICAgICAgICAgICAgICAgbmFtZTogaGlkZGVuSW5wdXROYW1lXG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB3cmFwcGVyLmFwcGVuZENoaWxkKHRoaXMuaGlkZGVuSW5wdXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiBcIl9hcHBlbmRMaXN0SXRlbXNcIixcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBfYXBwZW5kTGlzdEl0ZW1zKGNvdW50cmllcywgY2xhc3NOYW1lLCBwcmVmZXJyZWQpIHtcbiAgICAgICAgICAgICAgICAvLyB3ZSBjcmVhdGUgc28gbWFueSBET00gZWxlbWVudHMsIGl0IGlzIGZhc3RlciB0byBidWlsZCBhIHRlbXAgc3RyaW5nXG4gICAgICAgICAgICAgICAgLy8gYW5kIHRoZW4gYWRkIGV2ZXJ5dGhpbmcgdG8gdGhlIERPTSBpbiBvbmUgZ28gYXQgdGhlIGVuZFxuICAgICAgICAgICAgICAgIHZhciB0bXAgPSBcIlwiO1xuICAgICAgICAgICAgICAgIC8vIGZvciBlYWNoIGNvdW50cnlcbiAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNvdW50cmllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgYyA9IGNvdW50cmllc1tpXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGlkU3VmZml4ID0gcHJlZmVycmVkID8gXCItcHJlZmVycmVkXCIgOiBcIlwiO1xuICAgICAgICAgICAgICAgICAgICAvLyBvcGVuIHRoZSBsaXN0IGl0ZW1cbiAgICAgICAgICAgICAgICAgICAgdG1wICs9IFwiPGxpIGNsYXNzPSdpdGlfX2NvdW50cnkgXCIuY29uY2F0KGNsYXNzTmFtZSwgXCInIHRhYkluZGV4PSctMScgaWQ9J2l0aS1cIikuY29uY2F0KHRoaXMuaWQsIFwiX19pdGVtLVwiKS5jb25jYXQoYy5pc28yKS5jb25jYXQoaWRTdWZmaXgsIFwiJyByb2xlPSdvcHRpb24nIGRhdGEtZGlhbC1jb2RlPSdcIikuY29uY2F0KGMuZGlhbENvZGUsIFwiJyBkYXRhLWNvdW50cnktY29kZT0nXCIpLmNvbmNhdChjLmlzbzIsIFwiJz5cIik7XG4gICAgICAgICAgICAgICAgICAgIC8vIGFkZCB0aGUgZmxhZ1xuICAgICAgICAgICAgICAgICAgICB0bXAgKz0gXCI8ZGl2IGNsYXNzPSdpdGlfX2ZsYWctYm94Jz48ZGl2IGNsYXNzPSdpdGlfX2ZsYWcgaXRpX19cIi5jb25jYXQoYy5pc28yLCBcIic+PC9kaXY+PC9kaXY+XCIpO1xuICAgICAgICAgICAgICAgICAgICAvLyBhbmQgdGhlIGNvdW50cnkgbmFtZSBhbmQgZGlhbCBjb2RlXG4gICAgICAgICAgICAgICAgICAgIHRtcCArPSBcIjxzcGFuIGNsYXNzPSdpdGlfX2NvdW50cnktbmFtZSc+XCIuY29uY2F0KGMubmFtZSwgXCI8L3NwYW4+XCIpO1xuICAgICAgICAgICAgICAgICAgICB0bXAgKz0gXCI8c3BhbiBjbGFzcz0naXRpX19kaWFsLWNvZGUnPitcIi5jb25jYXQoYy5kaWFsQ29kZSwgXCI8L3NwYW4+XCIpO1xuICAgICAgICAgICAgICAgICAgICAvLyBjbG9zZSB0aGUgbGlzdCBpdGVtXG4gICAgICAgICAgICAgICAgICAgIHRtcCArPSBcIjwvbGk+XCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMuY291bnRyeUxpc3QuaW5zZXJ0QWRqYWNlbnRIVE1MKFwiYmVmb3JlZW5kXCIsIHRtcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogXCJfc2V0SW5pdGlhbFN0YXRlXCIsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gX3NldEluaXRpYWxTdGF0ZSgpIHtcbiAgICAgICAgICAgICAgICB2YXIgdmFsID0gdGhpcy50ZWxJbnB1dC52YWx1ZTtcbiAgICAgICAgICAgICAgICB2YXIgZGlhbENvZGUgPSB0aGlzLl9nZXREaWFsQ29kZSh2YWwpO1xuICAgICAgICAgICAgICAgIHZhciBpc1JlZ2lvbmxlc3NOYW5wID0gdGhpcy5faXNSZWdpb25sZXNzTmFucCh2YWwpO1xuICAgICAgICAgICAgICAgIHZhciBfdGhpcyRvcHRpb25zID0gdGhpcy5vcHRpb25zLCBpbml0aWFsQ291bnRyeSA9IF90aGlzJG9wdGlvbnMuaW5pdGlhbENvdW50cnksIG5hdGlvbmFsTW9kZSA9IF90aGlzJG9wdGlvbnMubmF0aW9uYWxNb2RlLCBhdXRvSGlkZURpYWxDb2RlID0gX3RoaXMkb3B0aW9ucy5hdXRvSGlkZURpYWxDb2RlLCBzZXBhcmF0ZURpYWxDb2RlID0gX3RoaXMkb3B0aW9ucy5zZXBhcmF0ZURpYWxDb2RlO1xuICAgICAgICAgICAgICAgIC8vIGlmIHdlIGFscmVhZHkgaGF2ZSBhIGRpYWwgY29kZSwgYW5kIGl0J3Mgbm90IGEgcmVnaW9ubGVzc05hbnAsIHdlIGNhbiBnbyBhaGVhZCBhbmQgc2V0IHRoZVxuICAgICAgICAgICAgICAgIC8vIGZsYWcsIGVsc2UgZmFsbCBiYWNrIHRvIHRoZSBkZWZhdWx0IGNvdW50cnlcbiAgICAgICAgICAgICAgICBpZiAoZGlhbENvZGUgJiYgIWlzUmVnaW9ubGVzc05hbnApIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlRmxhZ0Zyb21OdW1iZXIodmFsKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGluaXRpYWxDb3VudHJ5ICE9PSBcImF1dG9cIikge1xuICAgICAgICAgICAgICAgICAgICAvLyBzZWUgaWYgd2Ugc2hvdWxkIHNlbGVjdCBhIGZsYWdcbiAgICAgICAgICAgICAgICAgICAgaWYgKGluaXRpYWxDb3VudHJ5KSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9zZXRGbGFnKGluaXRpYWxDb3VudHJ5LnRvTG93ZXJDYXNlKCkpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGRpYWxDb2RlICYmIGlzUmVnaW9ubGVzc05hbnApIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBoYXMgaW50bCBkaWFsIGNvZGUsIGlzIHJlZ2lvbmxlc3MgbmFucCwgYW5kIG5vIGluaXRpYWxDb3VudHJ5LCBzbyBkZWZhdWx0IHRvIFVTXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2V0RmxhZyhcInVzXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBubyBkaWFsIGNvZGUgYW5kIG5vIGluaXRpYWxDb3VudHJ5LCBzbyBkZWZhdWx0IHRvIGZpcnN0IGluIGxpc3RcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRlZmF1bHRDb3VudHJ5ID0gdGhpcy5wcmVmZXJyZWRDb3VudHJpZXMubGVuZ3RoID8gdGhpcy5wcmVmZXJyZWRDb3VudHJpZXNbMF0uaXNvMiA6IHRoaXMuY291bnRyaWVzWzBdLmlzbzI7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKCF2YWwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2V0RmxhZyh0aGlzLmRlZmF1bHRDb3VudHJ5KTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgZW1wdHkgYW5kIG5vIG5hdGlvbmFsTW9kZSBhbmQgbm8gYXV0b0hpZGVEaWFsQ29kZSB0aGVuIGluc2VydCB0aGUgZGVmYXVsdCBkaWFsIGNvZGVcbiAgICAgICAgICAgICAgICAgICAgaWYgKCF2YWwgJiYgIW5hdGlvbmFsTW9kZSAmJiAhYXV0b0hpZGVEaWFsQ29kZSAmJiAhc2VwYXJhdGVEaWFsQ29kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50ZWxJbnB1dC52YWx1ZSA9IFwiK1wiLmNvbmNhdCh0aGlzLnNlbGVjdGVkQ291bnRyeURhdGEuZGlhbENvZGUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIE5PVEU6IGlmIGluaXRpYWxDb3VudHJ5IGlzIHNldCB0byBhdXRvLCB0aGF0IHdpbGwgYmUgaGFuZGxlZCBzZXBhcmF0ZWx5XG4gICAgICAgICAgICAgICAgLy8gZm9ybWF0IC0gbm90ZSB0aGlzIHdvbnQgYmUgcnVuIGFmdGVyIF91cGRhdGVEaWFsQ29kZSBhcyB0aGF0J3Mgb25seSBjYWxsZWQgaWYgbm8gdmFsXG4gICAgICAgICAgICAgICAgaWYgKHZhbCkgdGhpcy5fdXBkYXRlVmFsRnJvbU51bWJlcih2YWwpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6IFwiX2luaXRMaXN0ZW5lcnNcIixcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBfaW5pdExpc3RlbmVycygpIHtcbiAgICAgICAgICAgICAgICB0aGlzLl9pbml0S2V5TGlzdGVuZXJzKCk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5hdXRvSGlkZURpYWxDb2RlKSB0aGlzLl9pbml0Qmx1ckxpc3RlbmVycygpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuYWxsb3dEcm9wZG93bikgdGhpcy5faW5pdERyb3Bkb3duTGlzdGVuZXJzKCk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaGlkZGVuSW5wdXQpIHRoaXMuX2luaXRIaWRkZW5JbnB1dExpc3RlbmVyKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogXCJfaW5pdEhpZGRlbklucHV0TGlzdGVuZXJcIixcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBfaW5pdEhpZGRlbklucHV0TGlzdGVuZXIoKSB7XG4gICAgICAgICAgICAgICAgdmFyIF90aGlzMyA9IHRoaXM7XG4gICAgICAgICAgICAgICAgdGhpcy5faGFuZGxlSGlkZGVuSW5wdXRTdWJtaXQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgX3RoaXMzLmhpZGRlbklucHV0LnZhbHVlID0gX3RoaXMzLmdldE51bWJlcigpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudGVsSW5wdXQuZm9ybSkgdGhpcy50ZWxJbnB1dC5mb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgdGhpcy5faGFuZGxlSGlkZGVuSW5wdXRTdWJtaXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6IFwiX2dldENsb3Nlc3RMYWJlbFwiLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9nZXRDbG9zZXN0TGFiZWwoKSB7XG4gICAgICAgICAgICAgICAgdmFyIGVsID0gdGhpcy50ZWxJbnB1dDtcbiAgICAgICAgICAgICAgICB3aGlsZSAoZWwgJiYgZWwudGFnTmFtZSAhPT0gXCJMQUJFTFwiKSB7XG4gICAgICAgICAgICAgICAgICAgIGVsID0gZWwucGFyZW50Tm9kZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGVsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6IFwiX2luaXREcm9wZG93bkxpc3RlbmVyc1wiLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9pbml0RHJvcGRvd25MaXN0ZW5lcnMoKSB7XG4gICAgICAgICAgICAgICAgdmFyIF90aGlzNCA9IHRoaXM7XG4gICAgICAgICAgICAgICAgLy8gaGFjayBmb3IgaW5wdXQgbmVzdGVkIGluc2lkZSBsYWJlbCAod2hpY2ggaXMgdmFsaWQgbWFya3VwKTogY2xpY2tpbmcgdGhlIHNlbGVjdGVkLWZsYWcgdG9cbiAgICAgICAgICAgICAgICAvLyBvcGVuIHRoZSBkcm9wZG93biB3b3VsZCB0aGVuIGF1dG9tYXRpY2FsbHkgdHJpZ2dlciBhIDJuZCBjbGljayBvbiB0aGUgaW5wdXQgd2hpY2ggd291bGRcbiAgICAgICAgICAgICAgICAvLyBjbG9zZSBpdCBhZ2FpblxuICAgICAgICAgICAgICAgIHRoaXMuX2hhbmRsZUxhYmVsQ2xpY2sgPSBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIHRoZSBkcm9wZG93biBpcyBjbG9zZWQsIHRoZW4gZm9jdXMgdGhlIGlucHV0LCBlbHNlIGlnbm9yZSB0aGUgY2xpY2tcbiAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzNC5jb3VudHJ5TGlzdC5jbGFzc0xpc3QuY29udGFpbnMoXCJpdGlfX2hpZGVcIikpIF90aGlzNC50ZWxJbnB1dC5mb2N1cygpOyBlbHNlIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHZhciBsYWJlbCA9IHRoaXMuX2dldENsb3Nlc3RMYWJlbCgpO1xuICAgICAgICAgICAgICAgIGlmIChsYWJlbCkgbGFiZWwuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuX2hhbmRsZUxhYmVsQ2xpY2spO1xuICAgICAgICAgICAgICAgIC8vIHRvZ2dsZSBjb3VudHJ5IGRyb3Bkb3duIG9uIGNsaWNrXG4gICAgICAgICAgICAgICAgdGhpcy5faGFuZGxlQ2xpY2tTZWxlY3RlZEZsYWcgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gb25seSBpbnRlcmNlcHQgdGhpcyBldmVudCBpZiB3ZSdyZSBvcGVuaW5nIHRoZSBkcm9wZG93blxuICAgICAgICAgICAgICAgICAgICAvLyBlbHNlIGxldCBpdCBidWJibGUgdXAgdG8gdGhlIHRvcCAoXCJjbGljay1vZmYtdG8tY2xvc2VcIiBsaXN0ZW5lcilcbiAgICAgICAgICAgICAgICAgICAgLy8gd2UgY2Fubm90IGp1c3Qgc3RvcFByb3BhZ2F0aW9uIGFzIGl0IG1heSBiZSBuZWVkZWQgdG8gY2xvc2UgYW5vdGhlciBpbnN0YW5jZVxuICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXM0LmNvdW50cnlMaXN0LmNsYXNzTGlzdC5jb250YWlucyhcIml0aV9faGlkZVwiKSAmJiAhX3RoaXM0LnRlbElucHV0LmRpc2FibGVkICYmICFfdGhpczQudGVsSW5wdXQucmVhZE9ubHkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNC5fc2hvd0Ryb3Bkb3duKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWRGbGFnLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLl9oYW5kbGVDbGlja1NlbGVjdGVkRmxhZyk7XG4gICAgICAgICAgICAgICAgLy8gb3BlbiBkcm9wZG93biBsaXN0IGlmIGN1cnJlbnRseSBmb2N1c2VkXG4gICAgICAgICAgICAgICAgdGhpcy5faGFuZGxlRmxhZ3NDb250YWluZXJLZXlkb3duID0gZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaXNEcm9wZG93bkhpZGRlbiA9IF90aGlzNC5jb3VudHJ5TGlzdC5jbGFzc0xpc3QuY29udGFpbnMoXCJpdGlfX2hpZGVcIik7XG4gICAgICAgICAgICAgICAgICAgIGlmIChpc0Ryb3Bkb3duSGlkZGVuICYmIFsgXCJBcnJvd1VwXCIsIFwiVXBcIiwgXCJBcnJvd0Rvd25cIiwgXCJEb3duXCIsIFwiIFwiLCBcIkVudGVyXCIgXS5pbmRleE9mKGUua2V5KSAhPT0gLTEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHByZXZlbnQgZm9ybSBmcm9tIGJlaW5nIHN1Ym1pdHRlZCBpZiBcIkVOVEVSXCIgd2FzIHByZXNzZWRcbiAgICAgICAgICAgICAgICAgICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHByZXZlbnQgZXZlbnQgZnJvbSBiZWluZyBoYW5kbGVkIGFnYWluIGJ5IGRvY3VtZW50XG4gICAgICAgICAgICAgICAgICAgICAgICBlLnN0b3BQcm9wYWdhdGlvbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM0Ll9zaG93RHJvcGRvd24oKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAvLyBhbGxvdyBuYXZpZ2F0aW9uIGZyb20gZHJvcGRvd24gdG8gaW5wdXQgb24gVEFCXG4gICAgICAgICAgICAgICAgICAgIGlmIChlLmtleSA9PT0gXCJUYWJcIikgX3RoaXM0Ll9jbG9zZURyb3Bkb3duKCk7XG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICB0aGlzLmZsYWdzQ29udGFpbmVyLmFkZEV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUZsYWdzQ29udGFpbmVyS2V5ZG93bik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogXCJfaW5pdFJlcXVlc3RzXCIsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gX2luaXRSZXF1ZXN0cygpIHtcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXM1ID0gdGhpcztcbiAgICAgICAgICAgICAgICAvLyBpZiB0aGUgdXNlciBoYXMgc3BlY2lmaWVkIHRoZSBwYXRoIHRvIHRoZSB1dGlscyBzY3JpcHQsIGZldGNoIGl0IG9uIHdpbmRvdy5sb2FkLCBlbHNlIHJlc29sdmVcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnV0aWxzU2NyaXB0ICYmICF3aW5kb3cuaW50bFRlbElucHV0VXRpbHMpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgdGhlIHBsdWdpbiBpcyBiZWluZyBpbml0aWFsaXNlZCBhZnRlciB0aGUgd2luZG93LmxvYWQgZXZlbnQgaGFzIGFscmVhZHkgYmVlbiBmaXJlZFxuICAgICAgICAgICAgICAgICAgICBpZiAod2luZG93LmludGxUZWxJbnB1dEdsb2JhbHMud2luZG93TG9hZGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuaW50bFRlbElucHV0R2xvYmFscy5sb2FkVXRpbHModGhpcy5vcHRpb25zLnV0aWxzU2NyaXB0KTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdhaXQgdW50aWwgdGhlIGxvYWQgZXZlbnQgc28gd2UgZG9uJ3QgYmxvY2sgYW55IG90aGVyIHJlcXVlc3RzIGUuZy4gdGhlIGZsYWdzIGltYWdlXG4gICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImxvYWRcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmludGxUZWxJbnB1dEdsb2JhbHMubG9hZFV0aWxzKF90aGlzNS5vcHRpb25zLnV0aWxzU2NyaXB0KTtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBlbHNlIHRoaXMucmVzb2x2ZVV0aWxzU2NyaXB0UHJvbWlzZSgpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuaW5pdGlhbENvdW50cnkgPT09IFwiYXV0b1wiKSB0aGlzLl9sb2FkQXV0b0NvdW50cnkoKTsgZWxzZSB0aGlzLnJlc29sdmVBdXRvQ291bnRyeVByb21pc2UoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiBcIl9sb2FkQXV0b0NvdW50cnlcIixcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBfbG9hZEF1dG9Db3VudHJ5KCkge1xuICAgICAgICAgICAgICAgIC8vIDMgb3B0aW9uczpcbiAgICAgICAgICAgICAgICAvLyAxKSBhbHJlYWR5IGxvYWRlZCAod2UncmUgZG9uZSlcbiAgICAgICAgICAgICAgICAvLyAyKSBub3QgYWxyZWFkeSBzdGFydGVkIGxvYWRpbmcgKHN0YXJ0KVxuICAgICAgICAgICAgICAgIC8vIDMpIGFscmVhZHkgc3RhcnRlZCBsb2FkaW5nIChkbyBub3RoaW5nIC0ganVzdCB3YWl0IGZvciBsb2FkaW5nIGNhbGxiYWNrIHRvIGZpcmUpXG4gICAgICAgICAgICAgICAgaWYgKHdpbmRvdy5pbnRsVGVsSW5wdXRHbG9iYWxzLmF1dG9Db3VudHJ5KSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaGFuZGxlQXV0b0NvdW50cnkoKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKCF3aW5kb3cuaW50bFRlbElucHV0R2xvYmFscy5zdGFydGVkTG9hZGluZ0F1dG9Db3VudHJ5KSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGRvbid0IGRvIHRoaXMgdHdpY2UhXG4gICAgICAgICAgICAgICAgICAgIHdpbmRvdy5pbnRsVGVsSW5wdXRHbG9iYWxzLnN0YXJ0ZWRMb2FkaW5nQXV0b0NvdW50cnkgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHRoaXMub3B0aW9ucy5nZW9JcExvb2t1cCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm9wdGlvbnMuZ2VvSXBMb29rdXAoZnVuY3Rpb24oY291bnRyeUNvZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB3aW5kb3cuaW50bFRlbElucHV0R2xvYmFscy5hdXRvQ291bnRyeSA9IGNvdW50cnlDb2RlLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGVsbCBhbGwgaW5zdGFuY2VzIHRoZSBhdXRvIGNvdW50cnkgaXMgcmVhZHlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBUT0RPOiB0aGlzIHNob3VsZCBqdXN0IGJlIHRoZSBjdXJyZW50IGluc3RhbmNlc1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIFVQREFURTogdXNlIHNldFRpbWVvdXQgaW4gY2FzZSB0aGVpciBnZW9JcExvb2t1cCBmdW5jdGlvbiBjYWxscyB0aGlzIGNhbGxiYWNrIHN0cmFpZ2h0XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gYXdheSAoZS5nLiBpZiB0aGV5IGhhdmUgYWxyZWFkeSBkb25lIHRoZSBnZW8gaXAgbG9va3VwIHNvbWV3aGVyZSBlbHNlKS4gVXNpbmdcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBzZXRUaW1lb3V0IG1lYW5zIHRoYXQgdGhlIGN1cnJlbnQgdGhyZWFkIG9mIGV4ZWN1dGlvbiB3aWxsIGZpbmlzaCBiZWZvcmUgZXhlY3V0aW5nXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhpcywgd2hpY2ggYWxsb3dzIHRoZSBwbHVnaW4gdG8gZmluaXNoIGluaXRpYWxpc2luZy5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZm9yRWFjaEluc3RhbmNlKFwiaGFuZGxlQXV0b0NvdW50cnlcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9LCBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gZm9yRWFjaEluc3RhbmNlKFwicmVqZWN0QXV0b0NvdW50cnlQcm9taXNlXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogXCJfaW5pdEtleUxpc3RlbmVyc1wiLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9pbml0S2V5TGlzdGVuZXJzKCkge1xuICAgICAgICAgICAgICAgIHZhciBfdGhpczYgPSB0aGlzO1xuICAgICAgICAgICAgICAgIC8vIHVwZGF0ZSBmbGFnIG9uIGtleXVwXG4gICAgICAgICAgICAgICAgdGhpcy5faGFuZGxlS2V5dXBFdmVudCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXM2Ll91cGRhdGVGbGFnRnJvbU51bWJlcihfdGhpczYudGVsSW5wdXQudmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpczYuX3RyaWdnZXJDb3VudHJ5Q2hhbmdlKCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHRoaXMudGVsSW5wdXQuYWRkRXZlbnRMaXN0ZW5lcihcImtleXVwXCIsIHRoaXMuX2hhbmRsZUtleXVwRXZlbnQpO1xuICAgICAgICAgICAgICAgIC8vIHVwZGF0ZSBmbGFnIG9uIGN1dC9wYXN0ZSBldmVudHMgKG5vdyBzdXBwb3J0ZWQgaW4gYWxsIG1ham9yIGJyb3dzZXJzKVxuICAgICAgICAgICAgICAgIHRoaXMuX2hhbmRsZUNsaXBib2FyZEV2ZW50ID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGhhY2sgYmVjYXVzZSBcInBhc3RlXCIgZXZlbnQgaXMgZmlyZWQgYmVmb3JlIGlucHV0IGlzIHVwZGF0ZWRcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dChfdGhpczYuX2hhbmRsZUtleXVwRXZlbnQpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdGhpcy50ZWxJbnB1dC5hZGRFdmVudExpc3RlbmVyKFwiY3V0XCIsIHRoaXMuX2hhbmRsZUNsaXBib2FyZEV2ZW50KTtcbiAgICAgICAgICAgICAgICB0aGlzLnRlbElucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJwYXN0ZVwiLCB0aGlzLl9oYW5kbGVDbGlwYm9hcmRFdmVudCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogXCJfY2FwXCIsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gX2NhcChudW1iZXIpIHtcbiAgICAgICAgICAgICAgICB2YXIgbWF4ID0gdGhpcy50ZWxJbnB1dC5nZXRBdHRyaWJ1dGUoXCJtYXhsZW5ndGhcIik7XG4gICAgICAgICAgICAgICAgcmV0dXJuIG1heCAmJiBudW1iZXIubGVuZ3RoID4gbWF4ID8gbnVtYmVyLnN1YnN0cigwLCBtYXgpIDogbnVtYmVyO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6IFwiX2luaXRCbHVyTGlzdGVuZXJzXCIsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gX2luaXRCbHVyTGlzdGVuZXJzKCkge1xuICAgICAgICAgICAgICAgIHZhciBfdGhpczcgPSB0aGlzO1xuICAgICAgICAgICAgICAgIC8vIG9uIGJsdXIgb3IgZm9ybSBzdWJtaXQ6IGlmIGp1c3QgYSBkaWFsIGNvZGUgdGhlbiByZW1vdmUgaXRcbiAgICAgICAgICAgICAgICB0aGlzLl9oYW5kbGVTdWJtaXRPckJsdXJFdmVudCA9IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgICAgICBfdGhpczcuX3JlbW92ZUVtcHR5RGlhbENvZGUoKTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLnRlbElucHV0LmZvcm0pIHRoaXMudGVsSW5wdXQuZm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIHRoaXMuX2hhbmRsZVN1Ym1pdE9yQmx1ckV2ZW50KTtcbiAgICAgICAgICAgICAgICB0aGlzLnRlbElucHV0LmFkZEV2ZW50TGlzdGVuZXIoXCJibHVyXCIsIHRoaXMuX2hhbmRsZVN1Ym1pdE9yQmx1ckV2ZW50KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiBcIl9yZW1vdmVFbXB0eURpYWxDb2RlXCIsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gX3JlbW92ZUVtcHR5RGlhbENvZGUoKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMudGVsSW5wdXQudmFsdWUuY2hhckF0KDApID09PSBcIitcIikge1xuICAgICAgICAgICAgICAgICAgICB2YXIgbnVtZXJpYyA9IHRoaXMuX2dldE51bWVyaWModGhpcy50ZWxJbnB1dC52YWx1ZSk7XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIGp1c3QgYSBwbHVzLCBvciBpZiBqdXN0IGEgZGlhbCBjb2RlXG4gICAgICAgICAgICAgICAgICAgIGlmICghbnVtZXJpYyB8fCB0aGlzLnNlbGVjdGVkQ291bnRyeURhdGEuZGlhbENvZGUgPT09IG51bWVyaWMpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudGVsSW5wdXQudmFsdWUgPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6IFwiX2dldE51bWVyaWNcIixcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBfZ2V0TnVtZXJpYyhzKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHMucmVwbGFjZSgvXFxEL2csIFwiXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6IFwiX3RyaWdnZXJcIixcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBfdHJpZ2dlcihuYW1lKSB7XG4gICAgICAgICAgICAgICAgLy8gaGF2ZSB0byB1c2Ugb2xkIHNjaG9vbCBkb2N1bWVudC5jcmVhdGVFdmVudCBhcyBJRTExIGRvZXNuJ3Qgc3VwcG9ydCBgbmV3IEV2ZW50KClgIHN5bnRheFxuICAgICAgICAgICAgICAgIHZhciBlID0gZG9jdW1lbnQuY3JlYXRlRXZlbnQoXCJFdmVudFwiKTtcbiAgICAgICAgICAgICAgICBlLmluaXRFdmVudChuYW1lLCB0cnVlLCB0cnVlKTtcbiAgICAgICAgICAgICAgICAvLyBjYW4gYnViYmxlLCBhbmQgaXMgY2FuY2VsbGFibGVcbiAgICAgICAgICAgICAgICB0aGlzLnRlbElucHV0LmRpc3BhdGNoRXZlbnQoZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogXCJfc2hvd0Ryb3Bkb3duXCIsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gX3Nob3dEcm9wZG93bigpIHtcbiAgICAgICAgICAgICAgICB0aGlzLmNvdW50cnlMaXN0LmNsYXNzTGlzdC5yZW1vdmUoXCJpdGlfX2hpZGVcIik7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEZsYWcuc2V0QXR0cmlidXRlKFwiYXJpYS1leHBhbmRlZFwiLCBcInRydWVcIik7XG4gICAgICAgICAgICAgICAgdGhpcy5fc2V0RHJvcGRvd25Qb3NpdGlvbigpO1xuICAgICAgICAgICAgICAgIC8vIHVwZGF0ZSBoaWdobGlnaHRpbmcgYW5kIHNjcm9sbCB0byBhY3RpdmUgbGlzdCBpdGVtXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuYWN0aXZlSXRlbSkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl9oaWdobGlnaHRMaXN0SXRlbSh0aGlzLmFjdGl2ZUl0ZW0sIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2Nyb2xsVG8odGhpcy5hY3RpdmVJdGVtLCB0cnVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gYmluZCBhbGwgdGhlIGRyb3Bkb3duLXJlbGF0ZWQgbGlzdGVuZXJzOiBtb3VzZW92ZXIsIGNsaWNrLCBjbGljay1vZmYsIGtleWRvd25cbiAgICAgICAgICAgICAgICB0aGlzLl9iaW5kRHJvcGRvd25MaXN0ZW5lcnMoKTtcbiAgICAgICAgICAgICAgICAvLyB1cGRhdGUgdGhlIGFycm93XG4gICAgICAgICAgICAgICAgdGhpcy5kcm9wZG93bkFycm93LmNsYXNzTGlzdC5hZGQoXCJpdGlfX2Fycm93LS11cFwiKTtcbiAgICAgICAgICAgICAgICB0aGlzLl90cmlnZ2VyKFwib3Blbjpjb3VudHJ5ZHJvcGRvd25cIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogXCJfdG9nZ2xlQ2xhc3NcIixcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBfdG9nZ2xlQ2xhc3MoZWwsIGNsYXNzTmFtZSwgc2hvdWxkSGF2ZUNsYXNzKSB7XG4gICAgICAgICAgICAgICAgaWYgKHNob3VsZEhhdmVDbGFzcyAmJiAhZWwuY2xhc3NMaXN0LmNvbnRhaW5zKGNsYXNzTmFtZSkpIGVsLmNsYXNzTGlzdC5hZGQoY2xhc3NOYW1lKTsgZWxzZSBpZiAoIXNob3VsZEhhdmVDbGFzcyAmJiBlbC5jbGFzc0xpc3QuY29udGFpbnMoY2xhc3NOYW1lKSkgZWwuY2xhc3NMaXN0LnJlbW92ZShjbGFzc05hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6IFwiX3NldERyb3Bkb3duUG9zaXRpb25cIixcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBfc2V0RHJvcGRvd25Qb3NpdGlvbigpIHtcbiAgICAgICAgICAgICAgICB2YXIgX3RoaXM4ID0gdGhpcztcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmRyb3Bkb3duQ29udGFpbmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub3B0aW9ucy5kcm9wZG93bkNvbnRhaW5lci5hcHBlbmRDaGlsZCh0aGlzLmRyb3Bkb3duKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKCF0aGlzLmlzTW9iaWxlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwb3MgPSB0aGlzLnRlbElucHV0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO1xuICAgICAgICAgICAgICAgICAgICAvLyB3aW5kb3dUb3AgZnJvbSBodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvMTQzODQwOTEvMjE3ODY2XG4gICAgICAgICAgICAgICAgICAgIHZhciB3aW5kb3dUb3AgPSB3aW5kb3cucGFnZVlPZmZzZXQgfHwgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnNjcm9sbFRvcDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGlucHV0VG9wID0gcG9zLnRvcCArIHdpbmRvd1RvcDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRyb3Bkb3duSGVpZ2h0ID0gdGhpcy5jb3VudHJ5TGlzdC5vZmZzZXRIZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgIC8vIGRyb3Bkb3duRml0c0JlbG93ID0gKGRyb3Bkb3duQm90dG9tIDwgd2luZG93Qm90dG9tKVxuICAgICAgICAgICAgICAgICAgICB2YXIgZHJvcGRvd25GaXRzQmVsb3cgPSBpbnB1dFRvcCArIHRoaXMudGVsSW5wdXQub2Zmc2V0SGVpZ2h0ICsgZHJvcGRvd25IZWlnaHQgPCB3aW5kb3dUb3AgKyB3aW5kb3cuaW5uZXJIZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgIHZhciBkcm9wZG93bkZpdHNBYm92ZSA9IGlucHV0VG9wIC0gZHJvcGRvd25IZWlnaHQgPiB3aW5kb3dUb3A7XG4gICAgICAgICAgICAgICAgICAgIC8vIGJ5IGRlZmF1bHQsIHRoZSBkcm9wZG93biB3aWxsIGJlIGJlbG93IHRoZSBpbnB1dC4gSWYgd2Ugd2FudCB0byBwb3NpdGlvbiBpdCBhYm92ZSB0aGVcbiAgICAgICAgICAgICAgICAgICAgLy8gaW5wdXQsIHdlIGFkZCB0aGUgZHJvcHVwIGNsYXNzLlxuICAgICAgICAgICAgICAgICAgICB0aGlzLl90b2dnbGVDbGFzcyh0aGlzLmNvdW50cnlMaXN0LCBcIml0aV9fY291bnRyeS1saXN0LS1kcm9wdXBcIiwgIWRyb3Bkb3duRml0c0JlbG93ICYmIGRyb3Bkb3duRml0c0Fib3ZlKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgZHJvcGRvd25Db250YWluZXIgaXMgZW5hYmxlZCwgY2FsY3VsYXRlIHBvc3Rpb25cbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5kcm9wZG93bkNvbnRhaW5lcikge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gYnkgZGVmYXVsdCB0aGUgZHJvcGRvd24gd2lsbCBiZSBkaXJlY3RseSBvdmVyIHRoZSBpbnB1dCBiZWNhdXNlIGl0J3Mgbm90IGluIHRoZSBmbG93LlxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gSWYgd2Ugd2FudCB0byBwb3NpdGlvbiBpdCBiZWxvdywgd2UgbmVlZCB0byBhZGQgc29tZSBleHRyYSB0b3AgdmFsdWUuXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgZXh0cmFUb3AgPSAhZHJvcGRvd25GaXRzQmVsb3cgJiYgZHJvcGRvd25GaXRzQWJvdmUgPyAwIDogdGhpcy50ZWxJbnB1dC5vZmZzZXRIZWlnaHQ7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBjYWxjdWxhdGUgcGxhY2VtZW50XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRyb3Bkb3duLnN0eWxlLnRvcCA9IFwiXCIuY29uY2F0KGlucHV0VG9wICsgZXh0cmFUb3AsIFwicHhcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRyb3Bkb3duLnN0eWxlLmxlZnQgPSBcIlwiLmNvbmNhdChwb3MubGVmdCArIGRvY3VtZW50LmJvZHkuc2Nyb2xsTGVmdCwgXCJweFwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNsb3NlIG1lbnUgb24gd2luZG93IHNjcm9sbFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5faGFuZGxlV2luZG93U2Nyb2xsID0gZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzOC5fY2xvc2VEcm9wZG93bigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsIHRoaXMuX2hhbmRsZVdpbmRvd1Njcm9sbCk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogXCJfZ2V0Q2xvc2VzdExpc3RJdGVtXCIsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gX2dldENsb3Nlc3RMaXN0SXRlbSh0YXJnZXQpIHtcbiAgICAgICAgICAgICAgICB2YXIgZWwgPSB0YXJnZXQ7XG4gICAgICAgICAgICAgICAgd2hpbGUgKGVsICYmIGVsICE9PSB0aGlzLmNvdW50cnlMaXN0ICYmICFlbC5jbGFzc0xpc3QuY29udGFpbnMoXCJpdGlfX2NvdW50cnlcIikpIHtcbiAgICAgICAgICAgICAgICAgICAgZWwgPSBlbC5wYXJlbnROb2RlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyBpZiB3ZSByZWFjaGVkIHRoZSBjb3VudHJ5TGlzdCBlbGVtZW50LCB0aGVuIHJldHVybiBudWxsXG4gICAgICAgICAgICAgICAgcmV0dXJuIGVsID09PSB0aGlzLmNvdW50cnlMaXN0ID8gbnVsbCA6IGVsO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6IFwiX2JpbmREcm9wZG93bkxpc3RlbmVyc1wiLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9iaW5kRHJvcGRvd25MaXN0ZW5lcnMoKSB7XG4gICAgICAgICAgICAgICAgdmFyIF90aGlzOSA9IHRoaXM7XG4gICAgICAgICAgICAgICAgLy8gd2hlbiBtb3VzZSBvdmVyIGEgbGlzdCBpdGVtLCBqdXN0IGhpZ2hsaWdodCB0aGF0IG9uZVxuICAgICAgICAgICAgICAgIC8vIHdlIGFkZCB0aGUgY2xhc3MgXCJoaWdobGlnaHRcIiwgc28gaWYgdGhleSBoaXQgXCJlbnRlclwiIHdlIGtub3cgd2hpY2ggb25lIHRvIHNlbGVjdFxuICAgICAgICAgICAgICAgIHRoaXMuX2hhbmRsZU1vdXNlb3ZlckNvdW50cnlMaXN0ID0gZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBoYW5kbGUgZXZlbnQgZGVsZWdhdGlvbiwgYXMgd2UncmUgbGlzdGVuaW5nIGZvciB0aGlzIGV2ZW50IG9uIHRoZSBjb3VudHJ5TGlzdFxuICAgICAgICAgICAgICAgICAgICB2YXIgbGlzdEl0ZW0gPSBfdGhpczkuX2dldENsb3Nlc3RMaXN0SXRlbShlLnRhcmdldCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChsaXN0SXRlbSkgX3RoaXM5Ll9oaWdobGlnaHRMaXN0SXRlbShsaXN0SXRlbSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdGhpcy5jb3VudHJ5TGlzdC5hZGRFdmVudExpc3RlbmVyKFwibW91c2VvdmVyXCIsIHRoaXMuX2hhbmRsZU1vdXNlb3ZlckNvdW50cnlMaXN0KTtcbiAgICAgICAgICAgICAgICAvLyBsaXN0ZW4gZm9yIGNvdW50cnkgc2VsZWN0aW9uXG4gICAgICAgICAgICAgICAgdGhpcy5faGFuZGxlQ2xpY2tDb3VudHJ5TGlzdCA9IGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxpc3RJdGVtID0gX3RoaXM5Ll9nZXRDbG9zZXN0TGlzdEl0ZW0oZS50YXJnZXQpO1xuICAgICAgICAgICAgICAgICAgICBpZiAobGlzdEl0ZW0pIF90aGlzOS5fc2VsZWN0TGlzdEl0ZW0obGlzdEl0ZW0pO1xuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgdGhpcy5jb3VudHJ5TGlzdC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5faGFuZGxlQ2xpY2tDb3VudHJ5TGlzdCk7XG4gICAgICAgICAgICAgICAgLy8gY2xpY2sgb2ZmIHRvIGNsb3NlXG4gICAgICAgICAgICAgICAgLy8gKGV4Y2VwdCB3aGVuIHRoaXMgaW5pdGlhbCBvcGVuaW5nIGNsaWNrIGlzIGJ1YmJsaW5nIHVwKVxuICAgICAgICAgICAgICAgIC8vIHdlIGNhbm5vdCBqdXN0IHN0b3BQcm9wYWdhdGlvbiBhcyBpdCBtYXkgYmUgbmVlZGVkIHRvIGNsb3NlIGFub3RoZXIgaW5zdGFuY2VcbiAgICAgICAgICAgICAgICB2YXIgaXNPcGVuaW5nID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0aGlzLl9oYW5kbGVDbGlja09mZlRvQ2xvc2UgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKCFpc09wZW5pbmcpIF90aGlzOS5fY2xvc2VEcm9wZG93bigpO1xuICAgICAgICAgICAgICAgICAgICBpc09wZW5pbmcgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5faGFuZGxlQ2xpY2tPZmZUb0Nsb3NlKTtcbiAgICAgICAgICAgICAgICAvLyBsaXN0ZW4gZm9yIHVwL2Rvd24gc2Nyb2xsaW5nLCBlbnRlciB0byBzZWxlY3QsIG9yIGxldHRlcnMgdG8ganVtcCB0byBjb3VudHJ5IG5hbWUuXG4gICAgICAgICAgICAgICAgLy8gdXNlIGtleWRvd24gYXMga2V5cHJlc3MgZG9lc24ndCBmaXJlIGZvciBub24tY2hhciBrZXlzIGFuZCB3ZSB3YW50IHRvIGNhdGNoIGlmIHRoZXlcbiAgICAgICAgICAgICAgICAvLyBqdXN0IGhpdCBkb3duIGFuZCBob2xkIGl0IHRvIHNjcm9sbCBkb3duIChubyBrZXl1cCBldmVudCkuXG4gICAgICAgICAgICAgICAgLy8gbGlzdGVuIG9uIHRoZSBkb2N1bWVudCBiZWNhdXNlIHRoYXQncyB3aGVyZSBrZXkgZXZlbnRzIGFyZSB0cmlnZ2VyZWQgaWYgbm8gaW5wdXQgaGFzIGZvY3VzXG4gICAgICAgICAgICAgICAgdmFyIHF1ZXJ5ID0gXCJcIjtcbiAgICAgICAgICAgICAgICB2YXIgcXVlcnlUaW1lciA9IG51bGw7XG4gICAgICAgICAgICAgICAgdGhpcy5faGFuZGxlS2V5ZG93bk9uRHJvcGRvd24gPSBmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHByZXZlbnQgZG93biBrZXkgZnJvbSBzY3JvbGxpbmcgdGhlIHdob2xlIHBhZ2UsXG4gICAgICAgICAgICAgICAgICAgIC8vIGFuZCBlbnRlciBrZXkgZnJvbSBzdWJtaXR0aW5nIGEgZm9ybSBldGNcbiAgICAgICAgICAgICAgICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xuICAgICAgICAgICAgICAgICAgICAvLyB1cCBhbmQgZG93biB0byBuYXZpZ2F0ZVxuICAgICAgICAgICAgICAgICAgICBpZiAoZS5rZXkgPT09IFwiQXJyb3dVcFwiIHx8IGUua2V5ID09PSBcIlVwXCIgfHwgZS5rZXkgPT09IFwiQXJyb3dEb3duXCIgfHwgZS5rZXkgPT09IFwiRG93blwiKSBfdGhpczkuX2hhbmRsZVVwRG93bktleShlLmtleSk7IGVsc2UgaWYgKGUua2V5ID09PSBcIkVudGVyXCIpIF90aGlzOS5faGFuZGxlRW50ZXJLZXkoKTsgZWxzZSBpZiAoZS5rZXkgPT09IFwiRXNjYXBlXCIpIF90aGlzOS5fY2xvc2VEcm9wZG93bigpOyBlbHNlIGlmICgvXlthLXpBLVrDgC3Dv9CwLdGP0JAt0K8gXSQvLnRlc3QoZS5rZXkpKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBqdW1wIHRvIGNvdW50cmllcyB0aGF0IHN0YXJ0IHdpdGggdGhlIHF1ZXJ5IHN0cmluZ1xuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHF1ZXJ5VGltZXIpIGNsZWFyVGltZW91dChxdWVyeVRpbWVyKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHF1ZXJ5ICs9IGUua2V5LnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgICBfdGhpczkuX3NlYXJjaEZvckNvdW50cnkocXVlcnkpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgdGhlIHRpbWVyIGhpdHMgMSBzZWNvbmQsIHJlc2V0IHRoZSBxdWVyeVxuICAgICAgICAgICAgICAgICAgICAgICAgcXVlcnlUaW1lciA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcXVlcnkgPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSwgMWUzKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlS2V5ZG93bk9uRHJvcGRvd24pO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6IFwiX2hhbmRsZVVwRG93bktleVwiLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9oYW5kbGVVcERvd25LZXkoa2V5KSB7XG4gICAgICAgICAgICAgICAgdmFyIG5leHQgPSBrZXkgPT09IFwiQXJyb3dVcFwiIHx8IGtleSA9PT0gXCJVcFwiID8gdGhpcy5oaWdobGlnaHRlZEl0ZW0ucHJldmlvdXNFbGVtZW50U2libGluZyA6IHRoaXMuaGlnaGxpZ2h0ZWRJdGVtLm5leHRFbGVtZW50U2libGluZztcbiAgICAgICAgICAgICAgICBpZiAobmV4dCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBza2lwIHRoZSBkaXZpZGVyXG4gICAgICAgICAgICAgICAgICAgIGlmIChuZXh0LmNsYXNzTGlzdC5jb250YWlucyhcIml0aV9fZGl2aWRlclwiKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dCA9IGtleSA9PT0gXCJBcnJvd1VwXCIgfHwga2V5ID09PSBcIlVwXCIgPyBuZXh0LnByZXZpb3VzRWxlbWVudFNpYmxpbmcgOiBuZXh0Lm5leHRFbGVtZW50U2libGluZztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9oaWdobGlnaHRMaXN0SXRlbShuZXh0LCB0cnVlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogXCJfaGFuZGxlRW50ZXJLZXlcIixcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBfaGFuZGxlRW50ZXJLZXkoKSB7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaGlnaGxpZ2h0ZWRJdGVtKSB0aGlzLl9zZWxlY3RMaXN0SXRlbSh0aGlzLmhpZ2hsaWdodGVkSXRlbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogXCJfc2VhcmNoRm9yQ291bnRyeVwiLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9zZWFyY2hGb3JDb3VudHJ5KHF1ZXJ5KSB7XG4gICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLmNvdW50cmllcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5fc3RhcnRzV2l0aCh0aGlzLmNvdW50cmllc1tpXS5uYW1lLCBxdWVyeSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBsaXN0SXRlbSA9IHRoaXMuY291bnRyeUxpc3QucXVlcnlTZWxlY3RvcihcIiNpdGktXCIuY29uY2F0KHRoaXMuaWQsIFwiX19pdGVtLVwiKS5jb25jYXQodGhpcy5jb3VudHJpZXNbaV0uaXNvMikpO1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdXBkYXRlIGhpZ2hsaWdodGluZyBhbmQgc2Nyb2xsXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl9oaWdobGlnaHRMaXN0SXRlbShsaXN0SXRlbSwgZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5fc2Nyb2xsVG8obGlzdEl0ZW0sIHRydWUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogXCJfc3RhcnRzV2l0aFwiLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9zdGFydHNXaXRoKGEsIGIpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gYS5zdWJzdHIoMCwgYi5sZW5ndGgpLnRvTG93ZXJDYXNlKCkgPT09IGI7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogXCJfdXBkYXRlVmFsRnJvbU51bWJlclwiLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIF91cGRhdGVWYWxGcm9tTnVtYmVyKG9yaWdpbmFsTnVtYmVyKSB7XG4gICAgICAgICAgICAgICAgdmFyIG51bWJlciA9IG9yaWdpbmFsTnVtYmVyO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuZm9ybWF0T25EaXNwbGF5ICYmIHdpbmRvdy5pbnRsVGVsSW5wdXRVdGlscyAmJiB0aGlzLnNlbGVjdGVkQ291bnRyeURhdGEpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHVzZU5hdGlvbmFsID0gIXRoaXMub3B0aW9ucy5zZXBhcmF0ZURpYWxDb2RlICYmICh0aGlzLm9wdGlvbnMubmF0aW9uYWxNb2RlIHx8IG51bWJlci5jaGFyQXQoMCkgIT09IFwiK1wiKTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIF9pbnRsVGVsSW5wdXRVdGlscyRudSA9IGludGxUZWxJbnB1dFV0aWxzLm51bWJlckZvcm1hdCwgTkFUSU9OQUwgPSBfaW50bFRlbElucHV0VXRpbHMkbnUuTkFUSU9OQUwsIElOVEVSTkFUSU9OQUwgPSBfaW50bFRlbElucHV0VXRpbHMkbnUuSU5URVJOQVRJT05BTDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGZvcm1hdCA9IHVzZU5hdGlvbmFsID8gTkFUSU9OQUwgOiBJTlRFUk5BVElPTkFMO1xuICAgICAgICAgICAgICAgICAgICBudW1iZXIgPSBpbnRsVGVsSW5wdXRVdGlscy5mb3JtYXROdW1iZXIobnVtYmVyLCB0aGlzLnNlbGVjdGVkQ291bnRyeURhdGEuaXNvMiwgZm9ybWF0KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbnVtYmVyID0gdGhpcy5fYmVmb3JlU2V0TnVtYmVyKG51bWJlcik7XG4gICAgICAgICAgICAgICAgdGhpcy50ZWxJbnB1dC52YWx1ZSA9IG51bWJlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiBcIl91cGRhdGVGbGFnRnJvbU51bWJlclwiLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIF91cGRhdGVGbGFnRnJvbU51bWJlcihvcmlnaW5hbE51bWJlcikge1xuICAgICAgICAgICAgICAgIC8vIGlmIHdlJ3JlIGluIG5hdGlvbmFsTW9kZSBhbmQgd2UgYWxyZWFkeSBoYXZlIFVTL0NhbmFkYSBzZWxlY3RlZCwgbWFrZSBzdXJlIHRoZSBudW1iZXIgc3RhcnRzXG4gICAgICAgICAgICAgICAgLy8gd2l0aCBhICsxIHNvIF9nZXREaWFsQ29kZSB3aWxsIGJlIGFibGUgdG8gZXh0cmFjdCB0aGUgYXJlYSBjb2RlXG4gICAgICAgICAgICAgICAgLy8gdXBkYXRlOiBpZiB3ZSBkb250IHlldCBoYXZlIHNlbGVjdGVkQ291bnRyeURhdGEsIGJ1dCB3ZSdyZSBoZXJlICh0cnlpbmcgdG8gdXBkYXRlIHRoZSBmbGFnXG4gICAgICAgICAgICAgICAgLy8gZnJvbSB0aGUgbnVtYmVyKSwgdGhhdCBtZWFucyB3ZSdyZSBpbml0aWFsaXNpbmcgdGhlIHBsdWdpbiB3aXRoIGEgbnVtYmVyIHRoYXQgYWxyZWFkeSBoYXMgYVxuICAgICAgICAgICAgICAgIC8vIGRpYWwgY29kZSwgc28gZmluZSB0byBpZ25vcmUgdGhpcyBiaXRcbiAgICAgICAgICAgICAgICB2YXIgbnVtYmVyID0gb3JpZ2luYWxOdW1iZXI7XG4gICAgICAgICAgICAgICAgdmFyIHNlbGVjdGVkRGlhbENvZGUgPSB0aGlzLnNlbGVjdGVkQ291bnRyeURhdGEuZGlhbENvZGU7XG4gICAgICAgICAgICAgICAgdmFyIGlzTmFucCA9IHNlbGVjdGVkRGlhbENvZGUgPT09IFwiMVwiO1xuICAgICAgICAgICAgICAgIGlmIChudW1iZXIgJiYgdGhpcy5vcHRpb25zLm5hdGlvbmFsTW9kZSAmJiBpc05hbnAgJiYgbnVtYmVyLmNoYXJBdCgwKSAhPT0gXCIrXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKG51bWJlci5jaGFyQXQoMCkgIT09IFwiMVwiKSBudW1iZXIgPSBcIjFcIi5jb25jYXQobnVtYmVyKTtcbiAgICAgICAgICAgICAgICAgICAgbnVtYmVyID0gXCIrXCIuY29uY2F0KG51bWJlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIHVwZGF0ZSBmbGFnIGlmIHVzZXIgdHlwZXMgYXJlYSBjb2RlIGZvciBhbm90aGVyIGNvdW50cnlcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNlcGFyYXRlRGlhbENvZGUgJiYgc2VsZWN0ZWREaWFsQ29kZSAmJiBudW1iZXIuY2hhckF0KDApICE9PSBcIitcIikge1xuICAgICAgICAgICAgICAgICAgICBudW1iZXIgPSBcIitcIi5jb25jYXQoc2VsZWN0ZWREaWFsQ29kZSkuY29uY2F0KG51bWJlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIHRyeSBhbmQgZXh0cmFjdCB2YWxpZCBkaWFsIGNvZGUgZnJvbSBpbnB1dFxuICAgICAgICAgICAgICAgIHZhciBkaWFsQ29kZSA9IHRoaXMuX2dldERpYWxDb2RlKG51bWJlciwgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgdmFyIG51bWVyaWMgPSB0aGlzLl9nZXROdW1lcmljKG51bWJlcik7XG4gICAgICAgICAgICAgICAgdmFyIGNvdW50cnlDb2RlID0gbnVsbDtcbiAgICAgICAgICAgICAgICBpZiAoZGlhbENvZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvdW50cnlDb2RlcyA9IHRoaXMuY291bnRyeUNvZGVzW3RoaXMuX2dldE51bWVyaWMoZGlhbENvZGUpXTtcbiAgICAgICAgICAgICAgICAgICAgLy8gY2hlY2sgaWYgdGhlIHJpZ2h0IGNvdW50cnkgaXMgYWxyZWFkeSBzZWxlY3RlZC4gdGhpcyBzaG91bGQgYmUgZmFsc2UgaWYgdGhlIG51bWJlciBpc1xuICAgICAgICAgICAgICAgICAgICAvLyBsb25nZXIgdGhhbiB0aGUgbWF0Y2hlZCBkaWFsIGNvZGUgYmVjYXVzZSBpbiB0aGlzIGNhc2Ugd2UgbmVlZCB0byBtYWtlIHN1cmUgdGhhdCBpZlxuICAgICAgICAgICAgICAgICAgICAvLyB0aGVyZSBhcmUgbXVsdGlwbGUgY291bnRyeSBtYXRjaGVzLCB0aGF0IHRoZSBmaXJzdCBvbmUgaXMgc2VsZWN0ZWQgKG5vdGU6IHdlIGNvdWxkXG4gICAgICAgICAgICAgICAgICAgIC8vIGp1c3QgY2hlY2sgdGhhdCBoZXJlLCBidXQgaXQgcmVxdWlyZXMgdGhlIHNhbWUgbG9vcCB0aGF0IHdlIGFscmVhZHkgaGF2ZSBsYXRlcilcbiAgICAgICAgICAgICAgICAgICAgdmFyIGFscmVhZHlTZWxlY3RlZCA9IGNvdW50cnlDb2Rlcy5pbmRleE9mKHRoaXMuc2VsZWN0ZWRDb3VudHJ5RGF0YS5pc28yKSAhPT0gLTEgJiYgbnVtZXJpYy5sZW5ndGggPD0gZGlhbENvZGUubGVuZ3RoIC0gMTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGlzUmVnaW9ubGVzc05hbnBOdW1iZXIgPSBzZWxlY3RlZERpYWxDb2RlID09PSBcIjFcIiAmJiB0aGlzLl9pc1JlZ2lvbmxlc3NOYW5wKG51bWVyaWMpO1xuICAgICAgICAgICAgICAgICAgICAvLyBvbmx5IHVwZGF0ZSB0aGUgZmxhZyBpZjpcbiAgICAgICAgICAgICAgICAgICAgLy8gQSkgTk9UICh3ZSBjdXJyZW50bHkgaGF2ZSBhIE5BTlAgZmxhZyBzZWxlY3RlZCwgYW5kIHRoZSBudW1iZXIgaXMgYSByZWdpb25sZXNzTmFucClcbiAgICAgICAgICAgICAgICAgICAgLy8gQU5EXG4gICAgICAgICAgICAgICAgICAgIC8vIEIpIHRoZSByaWdodCBjb3VudHJ5IGlzIG5vdCBhbHJlYWR5IHNlbGVjdGVkXG4gICAgICAgICAgICAgICAgICAgIGlmICghaXNSZWdpb25sZXNzTmFucE51bWJlciAmJiAhYWxyZWFkeVNlbGVjdGVkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiB1c2luZyBvbmx5Q291bnRyaWVzIG9wdGlvbiwgY291bnRyeUNvZGVzWzBdIG1heSBiZSBlbXB0eSwgc28gd2UgbXVzdCBmaW5kIHRoZSBmaXJzdFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbm9uLWVtcHR5IGluZGV4XG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBqID0gMDsgaiA8IGNvdW50cnlDb2Rlcy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjb3VudHJ5Q29kZXNbal0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY291bnRyeUNvZGUgPSBjb3VudHJ5Q29kZXNbal07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAobnVtYmVyLmNoYXJBdCgwKSA9PT0gXCIrXCIgJiYgbnVtZXJpYy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gaW52YWxpZCBkaWFsIGNvZGUsIHNvIGVtcHR5XG4gICAgICAgICAgICAgICAgICAgIC8vIE5vdGU6IHVzZSBnZXROdW1lcmljIGhlcmUgYmVjYXVzZSB0aGUgbnVtYmVyIGhhcyBub3QgYmVlbiBmb3JtYXR0ZWQgeWV0LCBzbyBjb3VsZCBjb250YWluXG4gICAgICAgICAgICAgICAgICAgIC8vIGJhZCBjaGFyc1xuICAgICAgICAgICAgICAgICAgICBjb3VudHJ5Q29kZSA9IFwiXCI7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICghbnVtYmVyIHx8IG51bWJlciA9PT0gXCIrXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gZW1wdHksIG9yIGp1c3QgYSBwbHVzLCBzbyBkZWZhdWx0XG4gICAgICAgICAgICAgICAgICAgIGNvdW50cnlDb2RlID0gdGhpcy5kZWZhdWx0Q291bnRyeTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGNvdW50cnlDb2RlICE9PSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLl9zZXRGbGFnKGNvdW50cnlDb2RlKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6IFwiX2lzUmVnaW9ubGVzc05hbnBcIixcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBfaXNSZWdpb25sZXNzTmFucChudW1iZXIpIHtcbiAgICAgICAgICAgICAgICB2YXIgbnVtZXJpYyA9IHRoaXMuX2dldE51bWVyaWMobnVtYmVyKTtcbiAgICAgICAgICAgICAgICBpZiAobnVtZXJpYy5jaGFyQXQoMCkgPT09IFwiMVwiKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBhcmVhQ29kZSA9IG51bWVyaWMuc3Vic3RyKDEsIDMpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcmVnaW9ubGVzc05hbnBOdW1iZXJzLmluZGV4T2YoYXJlYUNvZGUpICE9PSAtMTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6IFwiX2hpZ2hsaWdodExpc3RJdGVtXCIsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gX2hpZ2hsaWdodExpc3RJdGVtKGxpc3RJdGVtLCBzaG91bGRGb2N1cykge1xuICAgICAgICAgICAgICAgIHZhciBwcmV2SXRlbSA9IHRoaXMuaGlnaGxpZ2h0ZWRJdGVtO1xuICAgICAgICAgICAgICAgIGlmIChwcmV2SXRlbSkgcHJldkl0ZW0uY2xhc3NMaXN0LnJlbW92ZShcIml0aV9faGlnaGxpZ2h0XCIpO1xuICAgICAgICAgICAgICAgIHRoaXMuaGlnaGxpZ2h0ZWRJdGVtID0gbGlzdEl0ZW07XG4gICAgICAgICAgICAgICAgdGhpcy5oaWdobGlnaHRlZEl0ZW0uY2xhc3NMaXN0LmFkZChcIml0aV9faGlnaGxpZ2h0XCIpO1xuICAgICAgICAgICAgICAgIGlmIChzaG91bGRGb2N1cykgdGhpcy5oaWdobGlnaHRlZEl0ZW0uZm9jdXMoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiBcIl9nZXRDb3VudHJ5RGF0YVwiLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9nZXRDb3VudHJ5RGF0YShjb3VudHJ5Q29kZSwgaWdub3JlT25seUNvdW50cmllc09wdGlvbiwgYWxsb3dGYWlsKSB7XG4gICAgICAgICAgICAgICAgdmFyIGNvdW50cnlMaXN0ID0gaWdub3JlT25seUNvdW50cmllc09wdGlvbiA/IGFsbENvdW50cmllcyA6IHRoaXMuY291bnRyaWVzO1xuICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgY291bnRyeUxpc3QubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvdW50cnlMaXN0W2ldLmlzbzIgPT09IGNvdW50cnlDb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gY291bnRyeUxpc3RbaV07XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgaWYgKGFsbG93RmFpbCkge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKFwiTm8gY291bnRyeSBkYXRhIGZvciAnXCIuY29uY2F0KGNvdW50cnlDb2RlLCBcIidcIikpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6IFwiX3NldEZsYWdcIixcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBfc2V0RmxhZyhjb3VudHJ5Q29kZSkge1xuICAgICAgICAgICAgICAgIHZhciBwcmV2Q291bnRyeSA9IHRoaXMuc2VsZWN0ZWRDb3VudHJ5RGF0YS5pc28yID8gdGhpcy5zZWxlY3RlZENvdW50cnlEYXRhIDoge307XG4gICAgICAgICAgICAgICAgLy8gZG8gdGhpcyBmaXJzdCBhcyBpdCB3aWxsIHRocm93IGFuIGVycm9yIGFuZCBzdG9wIGlmIGNvdW50cnlDb2RlIGlzIGludmFsaWRcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkQ291bnRyeURhdGEgPSBjb3VudHJ5Q29kZSA/IHRoaXMuX2dldENvdW50cnlEYXRhKGNvdW50cnlDb2RlLCBmYWxzZSwgZmFsc2UpIDoge307XG4gICAgICAgICAgICAgICAgLy8gdXBkYXRlIHRoZSBkZWZhdWx0Q291bnRyeSAtIHdlIG9ubHkgbmVlZCB0aGUgaXNvMiBmcm9tIG5vdyBvbiwgc28ganVzdCBzdG9yZSB0aGF0XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuc2VsZWN0ZWRDb3VudHJ5RGF0YS5pc28yKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGVmYXVsdENvdW50cnkgPSB0aGlzLnNlbGVjdGVkQ291bnRyeURhdGEuaXNvMjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEZsYWdJbm5lci5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcIml0aV9fZmxhZyBpdGlfX1wiLmNvbmNhdChjb3VudHJ5Q29kZSkpO1xuICAgICAgICAgICAgICAgIC8vIHVwZGF0ZSB0aGUgc2VsZWN0ZWQgY291bnRyeSdzIHRpdGxlIGF0dHJpYnV0ZVxuICAgICAgICAgICAgICAgIHZhciB0aXRsZSA9IGNvdW50cnlDb2RlID8gXCJcIi5jb25jYXQodGhpcy5zZWxlY3RlZENvdW50cnlEYXRhLm5hbWUsIFwiOiArXCIpLmNvbmNhdCh0aGlzLnNlbGVjdGVkQ291bnRyeURhdGEuZGlhbENvZGUpIDogXCJVbmtub3duXCI7XG4gICAgICAgICAgICAgICAgdGhpcy5zZWxlY3RlZEZsYWcuc2V0QXR0cmlidXRlKFwidGl0bGVcIiwgdGl0bGUpO1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuc2VwYXJhdGVEaWFsQ29kZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgZGlhbENvZGUgPSB0aGlzLnNlbGVjdGVkQ291bnRyeURhdGEuZGlhbENvZGUgPyBcIitcIi5jb25jYXQodGhpcy5zZWxlY3RlZENvdW50cnlEYXRhLmRpYWxDb2RlKSA6IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2VsZWN0ZWREaWFsQ29kZS5pbm5lckhUTUwgPSBkaWFsQ29kZTtcbiAgICAgICAgICAgICAgICAgICAgLy8gb2Zmc2V0V2lkdGggaXMgemVybyBpZiBpbnB1dCBpcyBpbiBhIGhpZGRlbiBjb250YWluZXIgZHVyaW5nIGluaXRpYWxpc2F0aW9uXG4gICAgICAgICAgICAgICAgICAgIHZhciBzZWxlY3RlZEZsYWdXaWR0aCA9IHRoaXMuc2VsZWN0ZWRGbGFnLm9mZnNldFdpZHRoIHx8IHRoaXMuX2dldEhpZGRlblNlbGVjdGVkRmxhZ1dpZHRoKCk7XG4gICAgICAgICAgICAgICAgICAgIC8vIGFkZCA2cHggb2YgcGFkZGluZyBhZnRlciB0aGUgZ3JleSBzZWxlY3RlZC1kaWFsLWNvZGUgYm94LCBhcyB0aGlzIGlzIHdoYXQgd2UgdXNlIGluIHRoZSBjc3NcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50ZWxJbnB1dC5zdHlsZS5wYWRkaW5nTGVmdCA9IFwiXCIuY29uY2F0KHNlbGVjdGVkRmxhZ1dpZHRoICsgNiwgXCJweFwiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gYW5kIHRoZSBpbnB1dCdzIHBsYWNlaG9sZGVyXG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlUGxhY2Vob2xkZXIoKTtcbiAgICAgICAgICAgICAgICAvLyB1cGRhdGUgdGhlIGFjdGl2ZSBsaXN0IGl0ZW1cbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmFsbG93RHJvcGRvd24pIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHByZXZJdGVtID0gdGhpcy5hY3RpdmVJdGVtO1xuICAgICAgICAgICAgICAgICAgICBpZiAocHJldkl0ZW0pIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXZJdGVtLmNsYXNzTGlzdC5yZW1vdmUoXCJpdGlfX2FjdGl2ZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHByZXZJdGVtLnNldEF0dHJpYnV0ZShcImFyaWEtc2VsZWN0ZWRcIiwgXCJmYWxzZVwiKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBpZiAoY291bnRyeUNvZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGNoZWNrIGlmIHRoZXJlIGlzIGEgcHJlZmVycmVkIGl0ZW0gZmlyc3QsIGVsc2UgZmFsbCBiYWNrIHRvIHN0YW5kYXJkXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgbmV4dEl0ZW0gPSB0aGlzLmNvdW50cnlMaXN0LnF1ZXJ5U2VsZWN0b3IoXCIjaXRpLVwiLmNvbmNhdCh0aGlzLmlkLCBcIl9faXRlbS1cIikuY29uY2F0KGNvdW50cnlDb2RlLCBcIi1wcmVmZXJyZWRcIikpIHx8IHRoaXMuY291bnRyeUxpc3QucXVlcnlTZWxlY3RvcihcIiNpdGktXCIuY29uY2F0KHRoaXMuaWQsIFwiX19pdGVtLVwiKS5jb25jYXQoY291bnRyeUNvZGUpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIG5leHRJdGVtLnNldEF0dHJpYnV0ZShcImFyaWEtc2VsZWN0ZWRcIiwgXCJ0cnVlXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbmV4dEl0ZW0uY2xhc3NMaXN0LmFkZChcIml0aV9fYWN0aXZlXCIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hY3RpdmVJdGVtID0gbmV4dEl0ZW07XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkRmxhZy5zZXRBdHRyaWJ1dGUoXCJhcmlhLWFjdGl2ZWRlc2NlbmRhbnRcIiwgbmV4dEl0ZW0uZ2V0QXR0cmlidXRlKFwiaWRcIikpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIHJldHVybiBpZiB0aGUgZmxhZyBoYXMgY2hhbmdlZCBvciBub3RcbiAgICAgICAgICAgICAgICByZXR1cm4gcHJldkNvdW50cnkuaXNvMiAhPT0gY291bnRyeUNvZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogXCJfZ2V0SGlkZGVuU2VsZWN0ZWRGbGFnV2lkdGhcIixcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBfZ2V0SGlkZGVuU2VsZWN0ZWRGbGFnV2lkdGgoKSB7XG4gICAgICAgICAgICAgICAgLy8gdG8gZ2V0IHRoZSByaWdodCBzdHlsaW5nIHRvIGFwcGx5LCBhbGwgd2UgbmVlZCBpcyBhIHNoYWxsb3cgY2xvbmUgb2YgdGhlIGNvbnRhaW5lcixcbiAgICAgICAgICAgICAgICAvLyBhbmQgdGhlbiB0byBpbmplY3QgYSBkZWVwIGNsb25lIG9mIHRoZSBzZWxlY3RlZEZsYWcgZWxlbWVudFxuICAgICAgICAgICAgICAgIHZhciBjb250YWluZXJDbG9uZSA9IHRoaXMudGVsSW5wdXQucGFyZW50Tm9kZS5jbG9uZU5vZGUoKTtcbiAgICAgICAgICAgICAgICBjb250YWluZXJDbG9uZS5zdHlsZS52aXNpYmlsaXR5ID0gXCJoaWRkZW5cIjtcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKGNvbnRhaW5lckNsb25lKTtcbiAgICAgICAgICAgICAgICB2YXIgZmxhZ3NDb250YWluZXJDbG9uZSA9IHRoaXMuZmxhZ3NDb250YWluZXIuY2xvbmVOb2RlKCk7XG4gICAgICAgICAgICAgICAgY29udGFpbmVyQ2xvbmUuYXBwZW5kQ2hpbGQoZmxhZ3NDb250YWluZXJDbG9uZSk7XG4gICAgICAgICAgICAgICAgdmFyIHNlbGVjdGVkRmxhZ0Nsb25lID0gdGhpcy5zZWxlY3RlZEZsYWcuY2xvbmVOb2RlKHRydWUpO1xuICAgICAgICAgICAgICAgIGZsYWdzQ29udGFpbmVyQ2xvbmUuYXBwZW5kQ2hpbGQoc2VsZWN0ZWRGbGFnQ2xvbmUpO1xuICAgICAgICAgICAgICAgIHZhciB3aWR0aCA9IHNlbGVjdGVkRmxhZ0Nsb25lLm9mZnNldFdpZHRoO1xuICAgICAgICAgICAgICAgIGNvbnRhaW5lckNsb25lLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQoY29udGFpbmVyQ2xvbmUpO1xuICAgICAgICAgICAgICAgIHJldHVybiB3aWR0aDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiBcIl91cGRhdGVQbGFjZWhvbGRlclwiLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIF91cGRhdGVQbGFjZWhvbGRlcigpIHtcbiAgICAgICAgICAgICAgICB2YXIgc2hvdWxkU2V0UGxhY2Vob2xkZXIgPSB0aGlzLm9wdGlvbnMuYXV0b1BsYWNlaG9sZGVyID09PSBcImFnZ3Jlc3NpdmVcIiB8fCAhdGhpcy5oYWRJbml0aWFsUGxhY2Vob2xkZXIgJiYgdGhpcy5vcHRpb25zLmF1dG9QbGFjZWhvbGRlciA9PT0gXCJwb2xpdGVcIjtcbiAgICAgICAgICAgICAgICBpZiAod2luZG93LmludGxUZWxJbnB1dFV0aWxzICYmIHNob3VsZFNldFBsYWNlaG9sZGVyKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBudW1iZXJUeXBlID0gaW50bFRlbElucHV0VXRpbHMubnVtYmVyVHlwZVt0aGlzLm9wdGlvbnMucGxhY2Vob2xkZXJOdW1iZXJUeXBlXTtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBsYWNlaG9sZGVyID0gdGhpcy5zZWxlY3RlZENvdW50cnlEYXRhLmlzbzIgPyBpbnRsVGVsSW5wdXRVdGlscy5nZXRFeGFtcGxlTnVtYmVyKHRoaXMuc2VsZWN0ZWRDb3VudHJ5RGF0YS5pc28yLCB0aGlzLm9wdGlvbnMubmF0aW9uYWxNb2RlLCBudW1iZXJUeXBlKSA6IFwiXCI7XG4gICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyID0gdGhpcy5fYmVmb3JlU2V0TnVtYmVyKHBsYWNlaG9sZGVyKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHR5cGVvZiB0aGlzLm9wdGlvbnMuY3VzdG9tUGxhY2Vob2xkZXIgPT09IFwiZnVuY3Rpb25cIikge1xuICAgICAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXIgPSB0aGlzLm9wdGlvbnMuY3VzdG9tUGxhY2Vob2xkZXIocGxhY2Vob2xkZXIsIHRoaXMuc2VsZWN0ZWRDb3VudHJ5RGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGhpcy50ZWxJbnB1dC5zZXRBdHRyaWJ1dGUoXCJwbGFjZWhvbGRlclwiLCBwbGFjZWhvbGRlcik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6IFwiX3NlbGVjdExpc3RJdGVtXCIsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gX3NlbGVjdExpc3RJdGVtKGxpc3RJdGVtKSB7XG4gICAgICAgICAgICAgICAgLy8gdXBkYXRlIHNlbGVjdGVkIGZsYWcgYW5kIGFjdGl2ZSBsaXN0IGl0ZW1cbiAgICAgICAgICAgICAgICB2YXIgZmxhZ0NoYW5nZWQgPSB0aGlzLl9zZXRGbGFnKGxpc3RJdGVtLmdldEF0dHJpYnV0ZShcImRhdGEtY291bnRyeS1jb2RlXCIpKTtcbiAgICAgICAgICAgICAgICB0aGlzLl9jbG9zZURyb3Bkb3duKCk7XG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlRGlhbENvZGUobGlzdEl0ZW0uZ2V0QXR0cmlidXRlKFwiZGF0YS1kaWFsLWNvZGVcIiksIHRydWUpO1xuICAgICAgICAgICAgICAgIC8vIGZvY3VzIHRoZSBpbnB1dFxuICAgICAgICAgICAgICAgIHRoaXMudGVsSW5wdXQuZm9jdXMoKTtcbiAgICAgICAgICAgICAgICAvLyBwdXQgY3Vyc29yIGF0IGVuZCAtIHRoaXMgZml4IGlzIHJlcXVpcmVkIGZvciBGRiBhbmQgSUUxMSAod2l0aCBuYXRpb25hbE1vZGU9ZmFsc2UgaS5lLiBhdXRvXG4gICAgICAgICAgICAgICAgLy8gaW5zZXJ0aW5nIGRpYWwgY29kZSksIHdobyB0cnkgdG8gcHV0IHRoZSBjdXJzb3IgYXQgdGhlIGJlZ2lubmluZyB0aGUgZmlyc3QgdGltZVxuICAgICAgICAgICAgICAgIHZhciBsZW4gPSB0aGlzLnRlbElucHV0LnZhbHVlLmxlbmd0aDtcbiAgICAgICAgICAgICAgICB0aGlzLnRlbElucHV0LnNldFNlbGVjdGlvblJhbmdlKGxlbiwgbGVuKTtcbiAgICAgICAgICAgICAgICBpZiAoZmxhZ0NoYW5nZWQpIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdHJpZ2dlckNvdW50cnlDaGFuZ2UoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogXCJfY2xvc2VEcm9wZG93blwiLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9jbG9zZURyb3Bkb3duKCkge1xuICAgICAgICAgICAgICAgIHRoaXMuY291bnRyeUxpc3QuY2xhc3NMaXN0LmFkZChcIml0aV9faGlkZVwiKTtcbiAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkRmxhZy5zZXRBdHRyaWJ1dGUoXCJhcmlhLWV4cGFuZGVkXCIsIFwiZmFsc2VcIik7XG4gICAgICAgICAgICAgICAgLy8gdXBkYXRlIHRoZSBhcnJvd1xuICAgICAgICAgICAgICAgIHRoaXMuZHJvcGRvd25BcnJvdy5jbGFzc0xpc3QucmVtb3ZlKFwiaXRpX19hcnJvdy0tdXBcIik7XG4gICAgICAgICAgICAgICAgLy8gdW5iaW5kIGtleSBldmVudHNcbiAgICAgICAgICAgICAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVLZXlkb3duT25Ecm9wZG93bik7XG4gICAgICAgICAgICAgICAgZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCB0aGlzLl9oYW5kbGVDbGlja09mZlRvQ2xvc2UpO1xuICAgICAgICAgICAgICAgIHRoaXMuY291bnRyeUxpc3QucmVtb3ZlRXZlbnRMaXN0ZW5lcihcIm1vdXNlb3ZlclwiLCB0aGlzLl9oYW5kbGVNb3VzZW92ZXJDb3VudHJ5TGlzdCk7XG4gICAgICAgICAgICAgICAgdGhpcy5jb3VudHJ5TGlzdC5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5faGFuZGxlQ2xpY2tDb3VudHJ5TGlzdCk7XG4gICAgICAgICAgICAgICAgLy8gcmVtb3ZlIG1lbnUgZnJvbSBjb250YWluZXJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmRyb3Bkb3duQ29udGFpbmVyKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy5pc01vYmlsZSkgd2luZG93LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJzY3JvbGxcIiwgdGhpcy5faGFuZGxlV2luZG93U2Nyb2xsKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHRoaXMuZHJvcGRvd24ucGFyZW50Tm9kZSkgdGhpcy5kcm9wZG93bi5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHRoaXMuZHJvcGRvd24pO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0aGlzLl90cmlnZ2VyKFwiY2xvc2U6Y291bnRyeWRyb3Bkb3duXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6IFwiX3Njcm9sbFRvXCIsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gX3Njcm9sbFRvKGVsZW1lbnQsIG1pZGRsZSkge1xuICAgICAgICAgICAgICAgIHZhciBjb250YWluZXIgPSB0aGlzLmNvdW50cnlMaXN0O1xuICAgICAgICAgICAgICAgIC8vIHdpbmRvd1RvcCBmcm9tIGh0dHBzOi8vc3RhY2tvdmVyZmxvdy5jb20vYS8xNDM4NDA5MS8yMTc4NjZcbiAgICAgICAgICAgICAgICB2YXIgd2luZG93VG9wID0gd2luZG93LnBhZ2VZT2Zmc2V0IHx8IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5zY3JvbGxUb3A7XG4gICAgICAgICAgICAgICAgdmFyIGNvbnRhaW5lckhlaWdodCA9IGNvbnRhaW5lci5vZmZzZXRIZWlnaHQ7XG4gICAgICAgICAgICAgICAgdmFyIGNvbnRhaW5lclRvcCA9IGNvbnRhaW5lci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3AgKyB3aW5kb3dUb3A7XG4gICAgICAgICAgICAgICAgdmFyIGNvbnRhaW5lckJvdHRvbSA9IGNvbnRhaW5lclRvcCArIGNvbnRhaW5lckhlaWdodDtcbiAgICAgICAgICAgICAgICB2YXIgZWxlbWVudEhlaWdodCA9IGVsZW1lbnQub2Zmc2V0SGVpZ2h0O1xuICAgICAgICAgICAgICAgIHZhciBlbGVtZW50VG9wID0gZWxlbWVudC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3AgKyB3aW5kb3dUb3A7XG4gICAgICAgICAgICAgICAgdmFyIGVsZW1lbnRCb3R0b20gPSBlbGVtZW50VG9wICsgZWxlbWVudEhlaWdodDtcbiAgICAgICAgICAgICAgICB2YXIgbmV3U2Nyb2xsVG9wID0gZWxlbWVudFRvcCAtIGNvbnRhaW5lclRvcCArIGNvbnRhaW5lci5zY3JvbGxUb3A7XG4gICAgICAgICAgICAgICAgdmFyIG1pZGRsZU9mZnNldCA9IGNvbnRhaW5lckhlaWdodCAvIDIgLSBlbGVtZW50SGVpZ2h0IC8gMjtcbiAgICAgICAgICAgICAgICBpZiAoZWxlbWVudFRvcCA8IGNvbnRhaW5lclRvcCkge1xuICAgICAgICAgICAgICAgICAgICAvLyBzY3JvbGwgdXBcbiAgICAgICAgICAgICAgICAgICAgaWYgKG1pZGRsZSkgbmV3U2Nyb2xsVG9wIC09IG1pZGRsZU9mZnNldDtcbiAgICAgICAgICAgICAgICAgICAgY29udGFpbmVyLnNjcm9sbFRvcCA9IG5ld1Njcm9sbFRvcDtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKGVsZW1lbnRCb3R0b20gPiBjb250YWluZXJCb3R0b20pIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gc2Nyb2xsIGRvd25cbiAgICAgICAgICAgICAgICAgICAgaWYgKG1pZGRsZSkgbmV3U2Nyb2xsVG9wICs9IG1pZGRsZU9mZnNldDtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGhlaWdodERpZmZlcmVuY2UgPSBjb250YWluZXJIZWlnaHQgLSBlbGVtZW50SGVpZ2h0O1xuICAgICAgICAgICAgICAgICAgICBjb250YWluZXIuc2Nyb2xsVG9wID0gbmV3U2Nyb2xsVG9wIC0gaGVpZ2h0RGlmZmVyZW5jZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogXCJfdXBkYXRlRGlhbENvZGVcIixcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBfdXBkYXRlRGlhbENvZGUobmV3RGlhbENvZGVCYXJlLCBoYXNTZWxlY3RlZExpc3RJdGVtKSB7XG4gICAgICAgICAgICAgICAgdmFyIGlucHV0VmFsID0gdGhpcy50ZWxJbnB1dC52YWx1ZTtcbiAgICAgICAgICAgICAgICAvLyBzYXZlIGhhdmluZyB0byBwYXNzIHRoaXMgZXZlcnkgdGltZVxuICAgICAgICAgICAgICAgIHZhciBuZXdEaWFsQ29kZSA9IFwiK1wiLmNvbmNhdChuZXdEaWFsQ29kZUJhcmUpO1xuICAgICAgICAgICAgICAgIHZhciBuZXdOdW1iZXI7XG4gICAgICAgICAgICAgICAgaWYgKGlucHV0VmFsLmNoYXJBdCgwKSA9PT0gXCIrXCIpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gdGhlcmUncyBhIHBsdXMgc28gd2UncmUgZGVhbGluZyB3aXRoIGEgcmVwbGFjZW1lbnQgKGRvZXNuJ3QgbWF0dGVyIGlmIG5hdGlvbmFsTW9kZSBvciBub3QpXG4gICAgICAgICAgICAgICAgICAgIHZhciBwcmV2RGlhbENvZGUgPSB0aGlzLl9nZXREaWFsQ29kZShpbnB1dFZhbCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwcmV2RGlhbENvZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGN1cnJlbnQgbnVtYmVyIGNvbnRhaW5zIGEgdmFsaWQgZGlhbCBjb2RlLCBzbyByZXBsYWNlIGl0XG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdOdW1iZXIgPSBpbnB1dFZhbC5yZXBsYWNlKHByZXZEaWFsQ29kZSwgbmV3RGlhbENvZGUpO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gY3VycmVudCBudW1iZXIgY29udGFpbnMgYW4gaW52YWxpZCBkaWFsIGNvZGUsIHNvIGRpdGNoIGl0XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAobm8gd2F5IHRvIGRldGVybWluZSB3aGVyZSB0aGUgaW52YWxpZCBkaWFsIGNvZGUgZW5kcyBhbmQgdGhlIHJlc3Qgb2YgdGhlIG51bWJlciBiZWdpbnMpXG4gICAgICAgICAgICAgICAgICAgICAgICBuZXdOdW1iZXIgPSBuZXdEaWFsQ29kZTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5vcHRpb25zLm5hdGlvbmFsTW9kZSB8fCB0aGlzLm9wdGlvbnMuc2VwYXJhdGVEaWFsQ29kZSkge1xuICAgICAgICAgICAgICAgICAgICAvLyBkb24ndCBkbyBhbnl0aGluZ1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gbmF0aW9uYWxNb2RlIGlzIGRpc2FibGVkXG4gICAgICAgICAgICAgICAgICAgIGlmIChpbnB1dFZhbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhlcmUgaXMgYW4gZXhpc3RpbmcgdmFsdWUgd2l0aCBubyBkaWFsIGNvZGU6IHByZWZpeCB0aGUgbmV3IGRpYWwgY29kZVxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3TnVtYmVyID0gbmV3RGlhbENvZGUgKyBpbnB1dFZhbDtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChoYXNTZWxlY3RlZExpc3RJdGVtIHx8ICF0aGlzLm9wdGlvbnMuYXV0b0hpZGVEaWFsQ29kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbm8gZXhpc3RpbmcgdmFsdWUgYW5kIGVpdGhlciB0aGV5J3ZlIGp1c3Qgc2VsZWN0ZWQgYSBsaXN0IGl0ZW0sIG9yIGF1dG9IaWRlRGlhbENvZGUgaXNcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGRpc2FibGVkOiBpbnNlcnQgbmV3IGRpYWwgY29kZVxuICAgICAgICAgICAgICAgICAgICAgICAgbmV3TnVtYmVyID0gbmV3RGlhbENvZGU7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdGhpcy50ZWxJbnB1dC52YWx1ZSA9IG5ld051bWJlcjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiBcIl9nZXREaWFsQ29kZVwiLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIF9nZXREaWFsQ29kZShudW1iZXIsIGluY2x1ZGVBcmVhQ29kZSkge1xuICAgICAgICAgICAgICAgIHZhciBkaWFsQ29kZSA9IFwiXCI7XG4gICAgICAgICAgICAgICAgLy8gb25seSBpbnRlcmVzdGVkIGluIGludGVybmF0aW9uYWwgbnVtYmVycyAoc3RhcnRpbmcgd2l0aCBhIHBsdXMpXG4gICAgICAgICAgICAgICAgaWYgKG51bWJlci5jaGFyQXQoMCkgPT09IFwiK1wiKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBudW1lcmljQ2hhcnMgPSBcIlwiO1xuICAgICAgICAgICAgICAgICAgICAvLyBpdGVyYXRlIG92ZXIgY2hhcnNcbiAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBudW1iZXIubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciBjID0gbnVtYmVyLmNoYXJBdChpKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGlmIGNoYXIgaXMgbnVtYmVyIChodHRwczovL3N0YWNrb3ZlcmZsb3cuY29tL2EvODkzNTY0OS8yMTc4NjYpXG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAoIWlzTmFOKHBhcnNlSW50KGMsIDEwKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBudW1lcmljQ2hhcnMgKz0gYztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAvLyBpZiBjdXJyZW50IG51bWVyaWNDaGFycyBtYWtlIGEgdmFsaWQgZGlhbCBjb2RlXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGluY2x1ZGVBcmVhQ29kZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAodGhpcy5jb3VudHJ5Q29kZXNbbnVtZXJpY0NoYXJzXSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gc3RvcmUgdGhlIGFjdHVhbCByYXcgc3RyaW5nICh1c2VmdWwgZm9yIG1hdGNoaW5nIGxhdGVyKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGlhbENvZGUgPSBudW1iZXIuc3Vic3RyKDAsIGkgKyAxKTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLmRpYWxDb2Rlc1tudW1lcmljQ2hhcnNdKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkaWFsQ29kZSA9IG51bWJlci5zdWJzdHIoMCwgaSArIDEpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgLy8gaWYgd2UncmUganVzdCBsb29raW5nIGZvciBhIGRpYWwgY29kZSwgd2UgY2FuIGJyZWFrIGFzIHNvb24gYXMgd2UgZmluZCBvbmVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vIHN0b3Agc2VhcmNoaW5nIGFzIHNvb24gYXMgd2UgY2FuIC0gaW4gdGhpcyBjYXNlIHdoZW4gd2UgaGl0IG1heCBsZW5cbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAobnVtZXJpY0NoYXJzLmxlbmd0aCA9PT0gdGhpcy5jb3VudHJ5Q29kZU1heExlbikge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRpYWxDb2RlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6IFwiX2dldEZ1bGxOdW1iZXJcIixcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBfZ2V0RnVsbE51bWJlcigpIHtcbiAgICAgICAgICAgICAgICB2YXIgdmFsID0gdGhpcy50ZWxJbnB1dC52YWx1ZS50cmltKCk7XG4gICAgICAgICAgICAgICAgdmFyIGRpYWxDb2RlID0gdGhpcy5zZWxlY3RlZENvdW50cnlEYXRhLmRpYWxDb2RlO1xuICAgICAgICAgICAgICAgIHZhciBwcmVmaXg7XG4gICAgICAgICAgICAgICAgdmFyIG51bWVyaWNWYWwgPSB0aGlzLl9nZXROdW1lcmljKHZhbCk7XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5zZXBhcmF0ZURpYWxDb2RlICYmIHZhbC5jaGFyQXQoMCkgIT09IFwiK1wiICYmIGRpYWxDb2RlICYmIG51bWVyaWNWYWwpIHtcbiAgICAgICAgICAgICAgICAgICAgLy8gd2hlbiB1c2luZyBzZXBhcmF0ZURpYWxDb2RlLCBpdCBpcyB2aXNpYmxlIHNvIGlzIGVmZmVjdGl2ZWx5IHBhcnQgb2YgdGhlIHR5cGVkIG51bWJlclxuICAgICAgICAgICAgICAgICAgICBwcmVmaXggPSBcIitcIi5jb25jYXQoZGlhbENvZGUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHByZWZpeCA9IFwiXCI7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBwcmVmaXggKyB2YWw7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogXCJfYmVmb3JlU2V0TnVtYmVyXCIsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gX2JlZm9yZVNldE51bWJlcihvcmlnaW5hbE51bWJlcikge1xuICAgICAgICAgICAgICAgIHZhciBudW1iZXIgPSBvcmlnaW5hbE51bWJlcjtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLnNlcGFyYXRlRGlhbENvZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGRpYWxDb2RlID0gdGhpcy5fZ2V0RGlhbENvZGUobnVtYmVyKTtcbiAgICAgICAgICAgICAgICAgICAgLy8gaWYgdGhlcmUgaXMgYSB2YWxpZCBkaWFsIGNvZGVcbiAgICAgICAgICAgICAgICAgICAgaWYgKGRpYWxDb2RlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpbiBjYXNlIF9nZXREaWFsQ29kZSByZXR1cm5lZCBhbiBhcmVhIGNvZGUgYXMgd2VsbFxuICAgICAgICAgICAgICAgICAgICAgICAgZGlhbENvZGUgPSBcIitcIi5jb25jYXQodGhpcy5zZWxlY3RlZENvdW50cnlEYXRhLmRpYWxDb2RlKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGEgbG90IG9mIG51bWJlcnMgd2lsbCBoYXZlIGEgc3BhY2Ugc2VwYXJhdGluZyB0aGUgZGlhbCBjb2RlIGFuZCB0aGUgbWFpbiBudW1iZXIsIGFuZFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gc29tZSBOQU5QIG51bWJlcnMgd2lsbCBoYXZlIGEgaHlwaGVuIGUuZy4gKzEgNjg0LTczMy0xMjM0IC0gaW4gYm90aCBjYXNlcyB3ZSB3YW50IHRvIGdldFxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gcmlkIG9mIGl0XG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBOT1RFOiBkb24ndCBqdXN0IHRyaW0gYWxsIG5vbi1udW1lcmljcyBhcyBtYXkgd2FudCB0byBwcmVzZXJ2ZSBhbiBvcGVuIHBhcmVudGhlc2lzIGV0Y1xuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHN0YXJ0ID0gbnVtYmVyW2RpYWxDb2RlLmxlbmd0aF0gPT09IFwiIFwiIHx8IG51bWJlcltkaWFsQ29kZS5sZW5ndGhdID09PSBcIi1cIiA/IGRpYWxDb2RlLmxlbmd0aCArIDEgOiBkaWFsQ29kZS5sZW5ndGg7XG4gICAgICAgICAgICAgICAgICAgICAgICBudW1iZXIgPSBudW1iZXIuc3Vic3RyKHN0YXJ0KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5fY2FwKG51bWJlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogXCJfdHJpZ2dlckNvdW50cnlDaGFuZ2VcIixcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBfdHJpZ2dlckNvdW50cnlDaGFuZ2UoKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5fdHJpZ2dlcihcImNvdW50cnljaGFuZ2VcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogXCJoYW5kbGVBdXRvQ291bnRyeVwiLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGhhbmRsZUF1dG9Db3VudHJ5KCkge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLm9wdGlvbnMuaW5pdGlhbENvdW50cnkgPT09IFwiYXV0b1wiKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHdlIG11c3Qgc2V0IHRoaXMgZXZlbiBpZiB0aGVyZSBpcyBhbiBpbml0aWFsIHZhbCBpbiB0aGUgaW5wdXQ6IGluIGNhc2UgdGhlIGluaXRpYWwgdmFsIGlzXG4gICAgICAgICAgICAgICAgICAgIC8vIGludmFsaWQgYW5kIHRoZXkgZGVsZXRlIGl0IC0gdGhleSBzaG91bGQgc2VlIHRoZWlyIGF1dG8gY291bnRyeVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmRlZmF1bHRDb3VudHJ5ID0gd2luZG93LmludGxUZWxJbnB1dEdsb2JhbHMuYXV0b0NvdW50cnk7XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIHRoZXJlJ3Mgbm8gaW5pdGlhbCB2YWx1ZSBpbiB0aGUgaW5wdXQsIHRoZW4gdXBkYXRlIHRoZSBmbGFnXG4gICAgICAgICAgICAgICAgICAgIGlmICghdGhpcy50ZWxJbnB1dC52YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zZXRDb3VudHJ5KHRoaXMuZGVmYXVsdENvdW50cnkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVzb2x2ZUF1dG9Db3VudHJ5UHJvbWlzZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiBcImhhbmRsZVV0aWxzXCIsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaGFuZGxlVXRpbHMoKSB7XG4gICAgICAgICAgICAgICAgLy8gaWYgdGhlIHJlcXVlc3Qgd2FzIHN1Y2Nlc3NmdWxcbiAgICAgICAgICAgICAgICBpZiAod2luZG93LmludGxUZWxJbnB1dFV0aWxzKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGlmIHRoZXJlJ3MgYW4gaW5pdGlhbCB2YWx1ZSBpbiB0aGUgaW5wdXQsIHRoZW4gZm9ybWF0IGl0XG4gICAgICAgICAgICAgICAgICAgIGlmICh0aGlzLnRlbElucHV0LnZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVWYWxGcm9tTnVtYmVyKHRoaXMudGVsSW5wdXQudmFsdWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3VwZGF0ZVBsYWNlaG9sZGVyKCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMucmVzb2x2ZVV0aWxzU2NyaXB0UHJvbWlzZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6IFwiZGVzdHJveVwiLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGRlc3Ryb3koKSB7XG4gICAgICAgICAgICAgICAgdmFyIGZvcm0gPSB0aGlzLnRlbElucHV0LmZvcm07XG4gICAgICAgICAgICAgICAgaWYgKHRoaXMub3B0aW9ucy5hbGxvd0Ryb3Bkb3duKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIG1ha2Ugc3VyZSB0aGUgZHJvcGRvd24gaXMgY2xvc2VkIChhbmQgdW5iaW5kIGxpc3RlbmVycylcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY2xvc2VEcm9wZG93bigpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNlbGVjdGVkRmxhZy5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5faGFuZGxlQ2xpY2tTZWxlY3RlZEZsYWcpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmZsYWdzQ29udGFpbmVyLnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXlkb3duXCIsIHRoaXMuX2hhbmRsZUZsYWdzQ29udGFpbmVyS2V5ZG93bik7XG4gICAgICAgICAgICAgICAgICAgIC8vIGxhYmVsIGNsaWNrIGhhY2tcbiAgICAgICAgICAgICAgICAgICAgdmFyIGxhYmVsID0gdGhpcy5fZ2V0Q2xvc2VzdExhYmVsKCk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChsYWJlbCkgbGFiZWwucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuX2hhbmRsZUxhYmVsQ2xpY2spO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyB1bmJpbmQgaGlkZGVuSW5wdXQgbGlzdGVuZXJzXG4gICAgICAgICAgICAgICAgaWYgKHRoaXMuaGlkZGVuSW5wdXQgJiYgZm9ybSkgZm9ybS5yZW1vdmVFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIHRoaXMuX2hhbmRsZUhpZGRlbklucHV0U3VibWl0KTtcbiAgICAgICAgICAgICAgICAvLyB1bmJpbmQgYXV0b0hpZGVEaWFsQ29kZSBsaXN0ZW5lcnNcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5vcHRpb25zLmF1dG9IaWRlRGlhbENvZGUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZvcm0pIGZvcm0ucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCB0aGlzLl9oYW5kbGVTdWJtaXRPckJsdXJFdmVudCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudGVsSW5wdXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImJsdXJcIiwgdGhpcy5faGFuZGxlU3VibWl0T3JCbHVyRXZlbnQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAvLyB1bmJpbmQga2V5IGV2ZW50cywgYW5kIGN1dC9wYXN0ZSBldmVudHNcbiAgICAgICAgICAgICAgICB0aGlzLnRlbElucHV0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJrZXl1cFwiLCB0aGlzLl9oYW5kbGVLZXl1cEV2ZW50KTtcbiAgICAgICAgICAgICAgICB0aGlzLnRlbElucHV0LnJlbW92ZUV2ZW50TGlzdGVuZXIoXCJjdXRcIiwgdGhpcy5faGFuZGxlQ2xpcGJvYXJkRXZlbnQpO1xuICAgICAgICAgICAgICAgIHRoaXMudGVsSW5wdXQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcInBhc3RlXCIsIHRoaXMuX2hhbmRsZUNsaXBib2FyZEV2ZW50KTtcbiAgICAgICAgICAgICAgICAvLyByZW1vdmUgYXR0cmlidXRlIG9mIGlkIGluc3RhbmNlOiBkYXRhLWludGwtdGVsLWlucHV0LWlkXG4gICAgICAgICAgICAgICAgdGhpcy50ZWxJbnB1dC5yZW1vdmVBdHRyaWJ1dGUoXCJkYXRhLWludGwtdGVsLWlucHV0LWlkXCIpO1xuICAgICAgICAgICAgICAgIC8vIHJlbW92ZSBtYXJrdXAgKGJ1dCBsZWF2ZSB0aGUgb3JpZ2luYWwgaW5wdXQpXG4gICAgICAgICAgICAgICAgdmFyIHdyYXBwZXIgPSB0aGlzLnRlbElucHV0LnBhcmVudE5vZGU7XG4gICAgICAgICAgICAgICAgd3JhcHBlci5wYXJlbnROb2RlLmluc2VydEJlZm9yZSh0aGlzLnRlbElucHV0LCB3cmFwcGVyKTtcbiAgICAgICAgICAgICAgICB3cmFwcGVyLnBhcmVudE5vZGUucmVtb3ZlQ2hpbGQod3JhcHBlcik7XG4gICAgICAgICAgICAgICAgZGVsZXRlIHdpbmRvdy5pbnRsVGVsSW5wdXRHbG9iYWxzLmluc3RhbmNlc1t0aGlzLmlkXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiBcImdldEV4dGVuc2lvblwiLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldEV4dGVuc2lvbigpIHtcbiAgICAgICAgICAgICAgICBpZiAod2luZG93LmludGxUZWxJbnB1dFV0aWxzKSB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpbnRsVGVsSW5wdXRVdGlscy5nZXRFeHRlbnNpb24odGhpcy5fZ2V0RnVsbE51bWJlcigpLCB0aGlzLnNlbGVjdGVkQ291bnRyeURhdGEuaXNvMik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6IFwiZ2V0TnVtYmVyXCIsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gZ2V0TnVtYmVyKGZvcm1hdCkge1xuICAgICAgICAgICAgICAgIGlmICh3aW5kb3cuaW50bFRlbElucHV0VXRpbHMpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGlzbzIgPSB0aGlzLnNlbGVjdGVkQ291bnRyeURhdGEuaXNvMjtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGludGxUZWxJbnB1dFV0aWxzLmZvcm1hdE51bWJlcih0aGlzLl9nZXRGdWxsTnVtYmVyKCksIGlzbzIsIGZvcm1hdCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBcIlwiO1xuICAgICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgICBrZXk6IFwiZ2V0TnVtYmVyVHlwZVwiLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIGdldE51bWJlclR5cGUoKSB7XG4gICAgICAgICAgICAgICAgaWYgKHdpbmRvdy5pbnRsVGVsSW5wdXRVdGlscykge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW50bFRlbElucHV0VXRpbHMuZ2V0TnVtYmVyVHlwZSh0aGlzLl9nZXRGdWxsTnVtYmVyKCksIHRoaXMuc2VsZWN0ZWRDb3VudHJ5RGF0YS5pc28yKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgcmV0dXJuIC05OTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiBcImdldFNlbGVjdGVkQ291bnRyeURhdGFcIixcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRTZWxlY3RlZENvdW50cnlEYXRhKCkge1xuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLnNlbGVjdGVkQ291bnRyeURhdGE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogXCJnZXRWYWxpZGF0aW9uRXJyb3JcIixcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBnZXRWYWxpZGF0aW9uRXJyb3IoKSB7XG4gICAgICAgICAgICAgICAgaWYgKHdpbmRvdy5pbnRsVGVsSW5wdXRVdGlscykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaXNvMiA9IHRoaXMuc2VsZWN0ZWRDb3VudHJ5RGF0YS5pc28yO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gaW50bFRlbElucHV0VXRpbHMuZ2V0VmFsaWRhdGlvbkVycm9yKHRoaXMuX2dldEZ1bGxOdW1iZXIoKSwgaXNvMik7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiAtOTk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogXCJpc1ZhbGlkTnVtYmVyXCIsXG4gICAgICAgICAgICB2YWx1ZTogZnVuY3Rpb24gaXNWYWxpZE51bWJlcigpIHtcbiAgICAgICAgICAgICAgICB2YXIgdmFsID0gdGhpcy5fZ2V0RnVsbE51bWJlcigpLnRyaW0oKTtcbiAgICAgICAgICAgICAgICB2YXIgY291bnRyeUNvZGUgPSB0aGlzLm9wdGlvbnMubmF0aW9uYWxNb2RlID8gdGhpcy5zZWxlY3RlZENvdW50cnlEYXRhLmlzbzIgOiBcIlwiO1xuICAgICAgICAgICAgICAgIHJldHVybiB3aW5kb3cuaW50bFRlbElucHV0VXRpbHMgPyBpbnRsVGVsSW5wdXRVdGlscy5pc1ZhbGlkTnVtYmVyKHZhbCwgY291bnRyeUNvZGUpIDogbnVsbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiBcInNldENvdW50cnlcIixcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXRDb3VudHJ5KG9yaWdpbmFsQ291bnRyeUNvZGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgY291bnRyeUNvZGUgPSBvcmlnaW5hbENvdW50cnlDb2RlLnRvTG93ZXJDYXNlKCk7XG4gICAgICAgICAgICAgICAgLy8gY2hlY2sgaWYgYWxyZWFkeSBzZWxlY3RlZFxuICAgICAgICAgICAgICAgIGlmICghdGhpcy5zZWxlY3RlZEZsYWdJbm5lci5jbGFzc0xpc3QuY29udGFpbnMoXCJpdGlfX1wiLmNvbmNhdChjb3VudHJ5Q29kZSkpKSB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX3NldEZsYWcoY291bnRyeUNvZGUpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl91cGRhdGVEaWFsQ29kZSh0aGlzLnNlbGVjdGVkQ291bnRyeURhdGEuZGlhbENvZGUsIGZhbHNlKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fdHJpZ2dlckNvdW50cnlDaGFuZ2UoKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAgIGtleTogXCJzZXROdW1iZXJcIixcbiAgICAgICAgICAgIHZhbHVlOiBmdW5jdGlvbiBzZXROdW1iZXIobnVtYmVyKSB7XG4gICAgICAgICAgICAgICAgLy8gd2UgbXVzdCB1cGRhdGUgdGhlIGZsYWcgZmlyc3QsIHdoaWNoIHVwZGF0ZXMgdGhpcy5zZWxlY3RlZENvdW50cnlEYXRhLCB3aGljaCBpcyB1c2VkIGZvclxuICAgICAgICAgICAgICAgIC8vIGZvcm1hdHRpbmcgdGhlIG51bWJlciBiZWZvcmUgZGlzcGxheWluZyBpdFxuICAgICAgICAgICAgICAgIHZhciBmbGFnQ2hhbmdlZCA9IHRoaXMuX3VwZGF0ZUZsYWdGcm9tTnVtYmVyKG51bWJlcik7XG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlVmFsRnJvbU51bWJlcihudW1iZXIpO1xuICAgICAgICAgICAgICAgIGlmIChmbGFnQ2hhbmdlZCkge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLl90cmlnZ2VyQ291bnRyeUNoYW5nZSgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICAga2V5OiBcInNldFBsYWNlaG9sZGVyTnVtYmVyVHlwZVwiLFxuICAgICAgICAgICAgdmFsdWU6IGZ1bmN0aW9uIHNldFBsYWNlaG9sZGVyTnVtYmVyVHlwZSh0eXBlKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5vcHRpb25zLnBsYWNlaG9sZGVyTnVtYmVyVHlwZSA9IHR5cGU7XG4gICAgICAgICAgICAgICAgdGhpcy5fdXBkYXRlUGxhY2Vob2xkZXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBdKTtcbiAgICAgICAgcmV0dXJuIEl0aTtcbiAgICB9KCk7XG4gICAgLyoqKioqKioqKioqKioqKioqKioqXG4gKiAgU1RBVElDIE1FVEhPRFNcbiAqKioqKioqKioqKioqKioqKioqKi9cbiAgICAvLyBnZXQgdGhlIGNvdW50cnkgZGF0YSBvYmplY3RcbiAgICBpbnRsVGVsSW5wdXRHbG9iYWxzLmdldENvdW50cnlEYXRhID0gZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiBhbGxDb3VudHJpZXM7XG4gICAgfTtcbiAgICAvLyBpbmplY3QgYSA8c2NyaXB0PiBlbGVtZW50IHRvIGxvYWQgdXRpbHMuanNcbiAgICB2YXIgaW5qZWN0U2NyaXB0ID0gZnVuY3Rpb24gaW5qZWN0U2NyaXB0KHBhdGgsIGhhbmRsZVN1Y2Nlc3MsIGhhbmRsZUZhaWx1cmUpIHtcbiAgICAgICAgLy8gaW5qZWN0IGEgbmV3IHNjcmlwdCBlbGVtZW50IGludG8gdGhlIHBhZ2VcbiAgICAgICAgdmFyIHNjcmlwdCA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7XG4gICAgICAgIHNjcmlwdC5vbmxvYWQgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGZvckVhY2hJbnN0YW5jZShcImhhbmRsZVV0aWxzXCIpO1xuICAgICAgICAgICAgaWYgKGhhbmRsZVN1Y2Nlc3MpIGhhbmRsZVN1Y2Nlc3MoKTtcbiAgICAgICAgfTtcbiAgICAgICAgc2NyaXB0Lm9uZXJyb3IgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgICAgIGZvckVhY2hJbnN0YW5jZShcInJlamVjdFV0aWxzU2NyaXB0UHJvbWlzZVwiKTtcbiAgICAgICAgICAgIGlmIChoYW5kbGVGYWlsdXJlKSBoYW5kbGVGYWlsdXJlKCk7XG4gICAgICAgIH07XG4gICAgICAgIHNjcmlwdC5jbGFzc05hbWUgPSBcIml0aS1sb2FkLXV0aWxzXCI7XG4gICAgICAgIHNjcmlwdC5hc3luYyA9IHRydWU7XG4gICAgICAgIHNjcmlwdC5zcmMgPSBwYXRoO1xuICAgICAgICBkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHNjcmlwdCk7XG4gICAgfTtcbiAgICAvLyBsb2FkIHRoZSB1dGlscyBzY3JpcHRcbiAgICBpbnRsVGVsSW5wdXRHbG9iYWxzLmxvYWRVdGlscyA9IGZ1bmN0aW9uKHBhdGgpIHtcbiAgICAgICAgLy8gMiBvcHRpb25zOlxuICAgICAgICAvLyAxKSBub3QgYWxyZWFkeSBzdGFydGVkIGxvYWRpbmcgKHN0YXJ0KVxuICAgICAgICAvLyAyKSBhbHJlYWR5IHN0YXJ0ZWQgbG9hZGluZyAoZG8gbm90aGluZyAtIGp1c3Qgd2FpdCBmb3IgdGhlIG9ubG9hZCBjYWxsYmFjayB0byBmaXJlLCB3aGljaCB3aWxsXG4gICAgICAgIC8vIHRyaWdnZXIgaGFuZGxlVXRpbHMgb24gYWxsIGluc3RhbmNlcywgaW52b2tpbmcgdGhlaXIgcmVzb2x2ZVV0aWxzU2NyaXB0UHJvbWlzZSBmdW5jdGlvbnMpXG4gICAgICAgIGlmICghd2luZG93LmludGxUZWxJbnB1dFV0aWxzICYmICF3aW5kb3cuaW50bFRlbElucHV0R2xvYmFscy5zdGFydGVkTG9hZGluZ1V0aWxzU2NyaXB0KSB7XG4gICAgICAgICAgICAvLyBvbmx5IGRvIHRoaXMgb25jZVxuICAgICAgICAgICAgd2luZG93LmludGxUZWxJbnB1dEdsb2JhbHMuc3RhcnRlZExvYWRpbmdVdGlsc1NjcmlwdCA9IHRydWU7XG4gICAgICAgICAgICAvLyBpZiB3ZSBoYXZlIHByb21pc2VzLCB0aGVuIHJldHVybiBhIHByb21pc2VcbiAgICAgICAgICAgIGlmICh0eXBlb2YgUHJvbWlzZSAhPT0gXCJ1bmRlZmluZWRcIikge1xuICAgICAgICAgICAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLCByZWplY3QpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGluamVjdFNjcmlwdChwYXRoLCByZXNvbHZlLCByZWplY3QpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaW5qZWN0U2NyaXB0KHBhdGgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBudWxsO1xuICAgIH07XG4gICAgLy8gZGVmYXVsdCBvcHRpb25zXG4gICAgaW50bFRlbElucHV0R2xvYmFscy5kZWZhdWx0cyA9IGRlZmF1bHRzO1xuICAgIC8vIHZlcnNpb25cbiAgICBpbnRsVGVsSW5wdXRHbG9iYWxzLnZlcnNpb24gPSBcIjE3LjAuM1wiO1xuICAgIHZhciBwbHVnaW5OYW1lID0gXCJpbnRsVGVsSW5wdXRcIjtcbiAgICAvLyBBIHJlYWxseSBsaWdodHdlaWdodCBwbHVnaW4gd3JhcHBlciBhcm91bmQgdGhlIGNvbnN0cnVjdG9yLFxuICAgIC8vIHByZXZlbnRpbmcgYWdhaW5zdCBtdWx0aXBsZSBpbnN0YW50aWF0aW9uc1xuICAgICQuZm5bcGx1Z2luTmFtZV0gPSBmdW5jdGlvbihvcHRpb25zKSB7XG4gICAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICAgICAgICAvLyBJcyB0aGUgZmlyc3QgcGFyYW1ldGVyIGFuIG9iamVjdCAob3B0aW9ucyksIG9yIHdhcyBvbWl0dGVkLCBpbnN0YW50aWF0ZSBhIG5ldyBpbnN0YW5jZSBvZiB0aGUgcGx1Z2luLlxuICAgICAgICBpZiAob3B0aW9ucyA9PT0gdW5kZWZpbmVkIHx8IHR5cGVvZiBvcHRpb25zID09PSBcIm9iamVjdFwiKSB7XG4gICAgICAgICAgICByZXR1cm4gdGhpcy5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIGlmICghJC5kYXRhKHRoaXMsIFwicGx1Z2luX1wiICsgcGx1Z2luTmFtZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGl0aSA9IG5ldyBJdGkodGhpcywgb3B0aW9ucyk7XG4gICAgICAgICAgICAgICAgICAgIGl0aS5faW5pdCgpO1xuICAgICAgICAgICAgICAgICAgICB3aW5kb3cuaW50bFRlbElucHV0R2xvYmFscy5pbnN0YW5jZXNbaXRpLmlkXSA9IGl0aTtcbiAgICAgICAgICAgICAgICAgICAgJC5kYXRhKHRoaXMsIFwicGx1Z2luX1wiICsgcGx1Z2luTmFtZSwgaXRpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIGlmICh0eXBlb2Ygb3B0aW9ucyA9PT0gXCJzdHJpbmdcIiAmJiBvcHRpb25zWzBdICE9PSBcIl9cIikge1xuICAgICAgICAgICAgLy8gSWYgdGhlIGZpcnN0IHBhcmFtZXRlciBpcyBhIHN0cmluZyBhbmQgaXQgZG9lc24ndCBzdGFydCB3aXRoIGFuIHVuZGVyc2NvcmUgdHJlYXQgdGhpcyBhcyBhIGNhbGwgdG8gYSBwdWJsaWMgbWV0aG9kLlxuICAgICAgICAgICAgLy8gQ2FjaGUgdGhlIG1ldGhvZCBjYWxsIHRvIG1ha2UgaXQgcG9zc2libGUgdG8gcmV0dXJuIGEgdmFsdWVcbiAgICAgICAgICAgIHZhciByZXR1cm5zO1xuICAgICAgICAgICAgdGhpcy5lYWNoKGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgICAgIHZhciBpbnN0YW5jZSA9ICQuZGF0YSh0aGlzLCBcInBsdWdpbl9cIiArIHBsdWdpbk5hbWUpO1xuICAgICAgICAgICAgICAgIC8vIFRlc3RzIHRoYXQgdGhlcmUncyBhbHJlYWR5IGEgcGx1Z2luLWluc3RhbmNlIGFuZCBjaGVja3MgdGhhdCB0aGUgcmVxdWVzdGVkIHB1YmxpYyBtZXRob2QgZXhpc3RzXG4gICAgICAgICAgICAgICAgaWYgKGluc3RhbmNlIGluc3RhbmNlb2YgSXRpICYmIHR5cGVvZiBpbnN0YW5jZVtvcHRpb25zXSA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgICAgICAgICAgICAgICAgIC8vIENhbGwgdGhlIG1ldGhvZCBvZiBvdXIgcGx1Z2luIGluc3RhbmNlLCBhbmQgcGFzcyBpdCB0aGUgc3VwcGxpZWQgYXJndW1lbnRzLlxuICAgICAgICAgICAgICAgICAgICByZXR1cm5zID0gaW5zdGFuY2Vbb3B0aW9uc10uYXBwbHkoaW5zdGFuY2UsIEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3MsIDEpKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgLy8gQWxsb3cgaW5zdGFuY2VzIHRvIGJlIGRlc3Ryb3llZCB2aWEgdGhlICdkZXN0cm95JyBtZXRob2RcbiAgICAgICAgICAgICAgICBpZiAob3B0aW9ucyA9PT0gXCJkZXN0cm95XCIpICQuZGF0YSh0aGlzLCBcInBsdWdpbl9cIiArIHBsdWdpbk5hbWUsIG51bGwpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAvLyBJZiB0aGUgZWFybGllciBjYWNoZWQgbWV0aG9kIGdpdmVzIGEgdmFsdWUgYmFjayByZXR1cm4gdGhlIHZhbHVlLCBvdGhlcndpc2UgcmV0dXJuIHRoaXMgdG8gcHJlc2VydmUgY2hhaW5hYmlsaXR5LlxuICAgICAgICAgICAgcmV0dXJuIHJldHVybnMgIT09IHVuZGVmaW5lZCA/IHJldHVybnMgOiB0aGlzO1xuICAgICAgICB9XG4gICAgfTtcbn0pOyJdfQ==
